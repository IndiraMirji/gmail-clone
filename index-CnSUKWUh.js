function YC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XC={exports:{}},kf={},JC={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=Symbol.for("react.element"),IN=Symbol.for("react.portal"),PN=Symbol.for("react.fragment"),CN=Symbol.for("react.strict_mode"),AN=Symbol.for("react.profiler"),RN=Symbol.for("react.provider"),bN=Symbol.for("react.context"),xN=Symbol.for("react.forward_ref"),kN=Symbol.for("react.suspense"),ON=Symbol.for("react.memo"),DN=Symbol.for("react.lazy"),zw=Symbol.iterator;function NN(t){return t===null||typeof t!="object"?null:(t=zw&&t[zw]||t["@@iterator"],typeof t=="function"?t:null)}var ZC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e2=Object.assign,t2={};function Ja(t,e,n){this.props=t,this.context=e,this.refs=t2,this.updater=n||ZC}Ja.prototype.isReactComponent={};Ja.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ja.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n2(){}n2.prototype=Ja.prototype;function s0(t,e,n){this.props=t,this.context=e,this.refs=t2,this.updater=n||ZC}var o0=s0.prototype=new n2;o0.constructor=s0;e2(o0,Ja.prototype);o0.isPureReactComponent=!0;var Hw=Array.isArray,r2=Object.prototype.hasOwnProperty,a0={current:null},i2={key:!0,ref:!0,__self:!0,__source:!0};function s2(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)r2.call(e,r)&&!i2.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:lc,type:t,key:s,ref:o,props:i,_owner:a0.current}}function MN(t,e){return{$$typeof:lc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function l0(t){return typeof t=="object"&&t!==null&&t.$$typeof===lc}function LN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ww=/\/+/g;function dm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LN(""+t.key):e.toString(36)}function Bh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lc:case IN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+dm(o,0):r,Hw(i)?(n="",t!=null&&(n=t.replace(Ww,"$&/")+"/"),Bh(i,e,n,"",function(c){return c})):i!=null&&(l0(i)&&(i=MN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ww,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Hw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+dm(s,a);o+=Bh(s,e,n,l,i)}else if(l=NN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+dm(s,a++),o+=Bh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oh(t,e,n){if(t==null)return t;var r=[],i=0;return Bh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},zh={transition:null},FN={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:zh,ReactCurrentOwner:a0};function o2(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:oh,forEach:function(t,e,n){oh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oh(t,function(){e++}),e},toArray:function(t){return oh(t,function(e){return e})||[]},only:function(t){if(!l0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Ja;ve.Fragment=PN;ve.Profiler=AN;ve.PureComponent=s0;ve.StrictMode=CN;ve.Suspense=kN;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FN;ve.act=o2;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=e2({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=a0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)r2.call(e,l)&&!i2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:lc,type:t.type,key:i,ref:s,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:bN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RN,_context:t},t.Consumer=t};ve.createElement=s2;ve.createFactory=function(t){var e=s2.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:xN,render:t}};ve.isValidElement=l0;ve.lazy=function(t){return{$$typeof:DN,_payload:{_status:-1,_result:t},_init:VN}};ve.memo=function(t,e){return{$$typeof:ON,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=zh.transition;zh.transition={};try{t()}finally{zh.transition=e}};ve.unstable_act=o2;ve.useCallback=function(t,e){return nn.current.useCallback(t,e)};ve.useContext=function(t){return nn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return nn.current.useEffect(t,e)};ve.useId=function(){return nn.current.useId()};ve.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return nn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};ve.useRef=function(t){return nn.current.useRef(t)};ve.useState=function(t){return nn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return nn.current.useTransition()};ve.version="18.3.1";JC.exports=ve;var V=JC.exports;const Te=at(V),Yg=YC({__proto__:null,default:Te},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N=V,jN=Symbol.for("react.element"),UN=Symbol.for("react.fragment"),BN=Object.prototype.hasOwnProperty,zN=$N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HN={key:!0,ref:!0,__self:!0,__source:!0};function a2(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)BN.call(e,r)&&!HN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jN,type:t,key:s,ref:o,props:i,_owner:zN.current}}kf.Fragment=UN;kf.jsx=a2;kf.jsxs=a2;XC.exports=kf;var L=XC.exports,l2={exports:{}},Dn={},u2={exports:{}},c2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,ie){var oe=W.length;W.push(ie);e:for(;0<oe;){var Re=oe-1>>>1,Se=W[Re];if(0<i(Se,ie))W[Re]=ie,W[oe]=Se,oe=Re;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ie=W[0],oe=W.pop();if(oe!==ie){W[0]=oe;e:for(var Re=0,Se=W.length,Ve=Se>>>1;Re<Ve;){var vt=2*(Re+1)-1,At=W[vt],Rt=vt+1,ln=W[Rt];if(0>i(At,oe))Rt<Se&&0>i(ln,At)?(W[Re]=ln,W[Rt]=oe,Re=Rt):(W[Re]=At,W[vt]=oe,Re=vt);else if(Rt<Se&&0>i(ln,oe))W[Re]=ln,W[Rt]=oe,Re=Rt;else break e}}return ie}function i(W,ie){var oe=W.sortIndex-ie.sortIndex;return oe!==0?oe:W.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,m=!1,w=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(W){for(var ie=n(c);ie!==null;){if(ie.callback===null)r(c);else if(ie.startTime<=W)r(c),ie.sortIndex=ie.expirationTime,e(l,ie);else break;ie=n(c)}}function k(W){if(T=!1,E(W),!w)if(n(l)!==null)w=!0,Xn(F);else{var ie=n(c);ie!==null&&pe(k,ie.startTime-W)}}function F(W,ie){w=!1,T&&(T=!1,_(v),v=-1),m=!0;var oe=f;try{for(E(ie),d=n(l);d!==null&&(!(d.expirationTime>ie)||W&&!O());){var Re=d.callback;if(typeof Re=="function"){d.callback=null,f=d.priorityLevel;var Se=Re(d.expirationTime<=ie);ie=t.unstable_now(),typeof Se=="function"?d.callback=Se:d===n(l)&&r(l),E(ie)}else r(l);d=n(l)}if(d!==null)var Ve=!0;else{var vt=n(c);vt!==null&&pe(k,vt.startTime-ie),Ve=!1}return Ve}finally{d=null,f=oe,m=!1}}var b=!1,C=null,v=-1,I=5,A=-1;function O(){return!(t.unstable_now()-A<I)}function D(){if(C!==null){var W=t.unstable_now();A=W;var ie=!0;try{ie=C(!0,W)}finally{ie?R():(b=!1,C=null)}}else b=!1}var R;if(typeof y=="function")R=function(){y(D)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Zt=Ae.port2;Ae.port1.onmessage=D,R=function(){Zt.postMessage(null)}}else R=function(){P(D,0)};function Xn(W){C=W,b||(b=!0,R())}function pe(W,ie){v=P(function(){W(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,Xn(F))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var ie=3;break;default:ie=f}var oe=f;f=ie;try{return W()}finally{f=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=f;f=W;try{return ie()}finally{f=oe}},t.unstable_scheduleCallback=function(W,ie,oe){var Re=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Re+oe:Re):oe=Re,W){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=oe+Se,W={id:h++,callback:ie,priorityLevel:W,startTime:oe,expirationTime:Se,sortIndex:-1},oe>Re?(W.sortIndex=oe,e(c,W),n(l)===null&&W===n(c)&&(T?(_(v),v=-1):T=!0,pe(k,oe-Re))):(W.sortIndex=Se,e(l,W),w||m||(w=!0,Xn(F))),W},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(W){var ie=f;return function(){var oe=f;f=ie;try{return W.apply(this,arguments)}finally{f=oe}}}})(c2);u2.exports=c2;var WN=u2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KN=V,bn=WN;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h2=new Set,Tu={};function yo(t,e){Ca(t,e),Ca(t+"Capture",e)}function Ca(t,e){for(Tu[t]=e,t=0;t<e.length;t++)h2.add(e[t])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xg=Object.prototype.hasOwnProperty,GN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kw={},Gw={};function qN(t){return Xg.call(Gw,t)?!0:Xg.call(Kw,t)?!1:GN.test(t)?Gw[t]=!0:(Kw[t]=!0,!1)}function QN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YN(t,e,n,r){if(e===null||typeof e>"u"||QN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var u0=/[\-:]([a-z])/g;function c0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(u0,c0);Vt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(u0,c0);Vt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(u0,c0);Vt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function h0(t,e,n,r){var i=Vt.hasOwnProperty(e)?Vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YN(e,n,i,r)&&(n=null),r||i===null?qN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _i=KN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ah=Symbol.for("react.element"),Yo=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),Jg=Symbol.for("react.profiler"),d2=Symbol.for("react.provider"),f2=Symbol.for("react.context"),f0=Symbol.for("react.forward_ref"),Zg=Symbol.for("react.suspense"),ev=Symbol.for("react.suspense_list"),p0=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),p2=Symbol.for("react.offscreen"),qw=Symbol.iterator;function Rl(t){return t===null||typeof t!="object"?null:(t=qw&&t[qw]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,fm;function Hl(t){if(fm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fm=e&&e[1]||""}return`
`+fm+t}var pm=!1;function mm(t,e){if(!t||pm)return"";pm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hl(t):""}function XN(t){switch(t.tag){case 5:return Hl(t.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return t=mm(t.type,!1),t;case 11:return t=mm(t.type.render,!1),t;case 1:return t=mm(t.type,!0),t;default:return""}}function tv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xo:return"Fragment";case Yo:return"Portal";case Jg:return"Profiler";case d0:return"StrictMode";case Zg:return"Suspense";case ev:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case f2:return(t.displayName||"Context")+".Consumer";case d2:return(t._context.displayName||"Context")+".Provider";case f0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case p0:return e=t.displayName||null,e!==null?e:tv(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return tv(t(e))}catch{}}return null}function JN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tv(e);case 8:return e===d0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZN(t){var e=m2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lh(t){t._valueTracker||(t._valueTracker=ZN(t))}function g2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=m2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nv(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=os(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function v2(t,e){e=e.checked,e!=null&&h0(t,"checked",e,!1)}function rv(t,e){v2(t,e);var n=os(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iv(t,e.type,n):e.hasOwnProperty("defaultValue")&&iv(t,e.type,os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function iv(t,e,n){(e!=="number"||gd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wl=Array.isArray;function pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+os(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Wl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:os(n)}}function y2(t,e){var n=os(e.value),r=os(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ov(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uh,w2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uh=uh||document.createElement("div"),uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Su(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ru={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eM=["Webkit","ms","Moz","O"];Object.keys(ru).forEach(function(t){eM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ru[e]=ru[t]})});function E2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ru.hasOwnProperty(t)&&ru[t]?(""+e).trim():e+"px"}function T2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=E2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tM=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function av(t,e){if(e){if(tM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function lv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=null;function m0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cv=null,ma=null,ga=null;function Zw(t){if(t=hc(t)){if(typeof cv!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Lf(e),cv(t.stateNode,t.type,e))}}function S2(t){ma?ga?ga.push(t):ga=[t]:ma=t}function I2(){if(ma){var t=ma,e=ga;if(ga=ma=null,Zw(t),e)for(t=0;t<e.length;t++)Zw(e[t])}}function P2(t,e){return t(e)}function C2(){}var gm=!1;function A2(t,e,n){if(gm)return t(e,n);gm=!0;try{return P2(t,e,n)}finally{gm=!1,(ma!==null||ga!==null)&&(C2(),I2())}}function Iu(t,e){var n=t.stateNode;if(n===null)return null;var r=Lf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var hv=!1;if(ui)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){hv=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{hv=!1}function nM(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var iu=!1,vd=null,yd=!1,dv=null,rM={onError:function(t){iu=!0,vd=t}};function iM(t,e,n,r,i,s,o,a,l){iu=!1,vd=null,nM.apply(rM,arguments)}function sM(t,e,n,r,i,s,o,a,l){if(iM.apply(this,arguments),iu){if(iu){var c=vd;iu=!1,vd=null}else throw Error(H(198));yd||(yd=!0,dv=c)}}function _o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function R2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eE(t){if(_o(t)!==t)throw Error(H(188))}function oM(t){var e=t.alternate;if(!e){if(e=_o(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return eE(i),t;if(s===r)return eE(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function b2(t){return t=oM(t),t!==null?x2(t):null}function x2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=x2(t);if(e!==null)return e;t=t.sibling}return null}var k2=bn.unstable_scheduleCallback,tE=bn.unstable_cancelCallback,aM=bn.unstable_shouldYield,lM=bn.unstable_requestPaint,ot=bn.unstable_now,uM=bn.unstable_getCurrentPriorityLevel,g0=bn.unstable_ImmediatePriority,O2=bn.unstable_UserBlockingPriority,_d=bn.unstable_NormalPriority,cM=bn.unstable_LowPriority,D2=bn.unstable_IdlePriority,Of=null,Rr=null;function hM(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Of,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:pM,dM=Math.log,fM=Math.LN2;function pM(t){return t>>>=0,t===0?32:31-(dM(t)/fM|0)|0}var ch=64,hh=4194304;function Kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Kl(a):(s&=o,s!==0&&(r=Kl(s)))}else o=n&~i,o!==0?r=Kl(o):s!==0&&(r=Kl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function mM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=mM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function fv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function N2(){var t=ch;return ch<<=1,!(ch&4194240)&&(ch=64),t}function vm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function vM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function v0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function M2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var L2,y0,V2,F2,$2,pv=!1,dh=[],Gi=null,qi=null,Qi=null,Pu=new Map,Cu=new Map,Fi=[],yM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nE(t,e){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(e.pointerId)}}function xl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hc(e),e!==null&&y0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _M(t,e,n,r,i){switch(e){case"focusin":return Gi=xl(Gi,t,e,n,r,i),!0;case"dragenter":return qi=xl(qi,t,e,n,r,i),!0;case"mouseover":return Qi=xl(Qi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pu.set(s,xl(Pu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cu.set(s,xl(Cu.get(s)||null,t,e,n,r,i)),!0}return!1}function j2(t){var e=Hs(t.target);if(e!==null){var n=_o(e);if(n!==null){if(e=n.tag,e===13){if(e=R2(n),e!==null){t.blockedOn=e,$2(t.priority,function(){V2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uv=r,n.target.dispatchEvent(r),uv=null}else return e=hc(n),e!==null&&y0(e),t.blockedOn=n,!1;e.shift()}return!0}function rE(t,e,n){Hh(t)&&n.delete(e)}function wM(){pv=!1,Gi!==null&&Hh(Gi)&&(Gi=null),qi!==null&&Hh(qi)&&(qi=null),Qi!==null&&Hh(Qi)&&(Qi=null),Pu.forEach(rE),Cu.forEach(rE)}function kl(t,e){t.blockedOn===e&&(t.blockedOn=null,pv||(pv=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,wM)))}function Au(t){function e(i){return kl(i,t)}if(0<dh.length){kl(dh[0],t);for(var n=1;n<dh.length;n++){var r=dh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gi!==null&&kl(Gi,t),qi!==null&&kl(qi,t),Qi!==null&&kl(Qi,t),Pu.forEach(e),Cu.forEach(e),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)j2(n),n.blockedOn===null&&Fi.shift()}var va=_i.ReactCurrentBatchConfig,Ed=!0;function EM(t,e,n,r){var i=Ne,s=va.transition;va.transition=null;try{Ne=1,_0(t,e,n,r)}finally{Ne=i,va.transition=s}}function TM(t,e,n,r){var i=Ne,s=va.transition;va.transition=null;try{Ne=4,_0(t,e,n,r)}finally{Ne=i,va.transition=s}}function _0(t,e,n,r){if(Ed){var i=mv(t,e,n,r);if(i===null)Am(t,e,r,Td,n),nE(t,r);else if(_M(i,t,e,n,r))r.stopPropagation();else if(nE(t,r),e&4&&-1<yM.indexOf(t)){for(;i!==null;){var s=hc(i);if(s!==null&&L2(s),s=mv(t,e,n,r),s===null&&Am(t,e,r,Td,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Am(t,e,r,null,n)}}var Td=null;function mv(t,e,n,r){if(Td=null,t=m0(r),t=Hs(t),t!==null)if(e=_o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=R2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Td=t,null}function U2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uM()){case g0:return 1;case O2:return 4;case _d:case cM:return 16;case D2:return 536870912;default:return 16}default:return 16}}var zi=null,w0=null,Wh=null;function B2(){if(Wh)return Wh;var t,e=w0,n=e.length,r,i="value"in zi?zi.value:zi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Wh=i.slice(t,1<r?1-r:void 0)}function Kh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fh(){return!0}function iE(){return!1}function Nn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fh:iE,this.isPropagationStopped=iE,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fh)},persist:function(){},isPersistent:fh}),e}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E0=Nn(Za),cc=et({},Za,{view:0,detail:0}),SM=Nn(cc),ym,_m,Ol,Df=et({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ol&&(Ol&&t.type==="mousemove"?(ym=t.screenX-Ol.screenX,_m=t.screenY-Ol.screenY):_m=ym=0,Ol=t),ym)},movementY:function(t){return"movementY"in t?t.movementY:_m}}),sE=Nn(Df),IM=et({},Df,{dataTransfer:0}),PM=Nn(IM),CM=et({},cc,{relatedTarget:0}),wm=Nn(CM),AM=et({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),RM=Nn(AM),bM=et({},Za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xM=Nn(bM),kM=et({},Za,{data:0}),oE=Nn(kM),OM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NM[t])?!!e[t]:!1}function T0(){return MM}var LM=et({},cc,{key:function(t){if(t.key){var e=OM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T0,charCode:function(t){return t.type==="keypress"?Kh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VM=Nn(LM),FM=et({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aE=Nn(FM),$M=et({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T0}),jM=Nn($M),UM=et({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),BM=Nn(UM),zM=et({},Df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HM=Nn(zM),WM=[9,13,27,32],S0=ui&&"CompositionEvent"in window,su=null;ui&&"documentMode"in document&&(su=document.documentMode);var KM=ui&&"TextEvent"in window&&!su,z2=ui&&(!S0||su&&8<su&&11>=su),lE=" ",uE=!1;function H2(t,e){switch(t){case"keyup":return WM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jo=!1;function GM(t,e){switch(t){case"compositionend":return W2(e);case"keypress":return e.which!==32?null:(uE=!0,lE);case"textInput":return t=e.data,t===lE&&uE?null:t;default:return null}}function qM(t,e){if(Jo)return t==="compositionend"||!S0&&H2(t,e)?(t=B2(),Wh=w0=zi=null,Jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return z2&&e.locale!=="ko"?null:e.data;default:return null}}var QM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QM[t.type]:e==="textarea"}function K2(t,e,n,r){S2(r),e=Sd(e,"onChange"),0<e.length&&(n=new E0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ou=null,Ru=null;function YM(t){rA(t,0)}function Nf(t){var e=ta(t);if(g2(e))return t}function XM(t,e){if(t==="change")return e}var G2=!1;if(ui){var Em;if(ui){var Tm="oninput"in document;if(!Tm){var hE=document.createElement("div");hE.setAttribute("oninput","return;"),Tm=typeof hE.oninput=="function"}Em=Tm}else Em=!1;G2=Em&&(!document.documentMode||9<document.documentMode)}function dE(){ou&&(ou.detachEvent("onpropertychange",q2),Ru=ou=null)}function q2(t){if(t.propertyName==="value"&&Nf(Ru)){var e=[];K2(e,Ru,t,m0(t)),A2(YM,e)}}function JM(t,e,n){t==="focusin"?(dE(),ou=e,Ru=n,ou.attachEvent("onpropertychange",q2)):t==="focusout"&&dE()}function ZM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nf(Ru)}function eL(t,e){if(t==="click")return Nf(e)}function tL(t,e){if(t==="input"||t==="change")return Nf(e)}function nL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pr=typeof Object.is=="function"?Object.is:nL;function bu(t,e){if(pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xg.call(e,i)||!pr(t[i],e[i]))return!1}return!0}function fE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pE(t,e){var n=fE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fE(n)}}function Q2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Y2(){for(var t=window,e=gd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gd(t.document)}return e}function I0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rL(t){var e=Y2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Q2(n.ownerDocument.documentElement,n)){if(r!==null&&I0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=pE(n,s);var o=pE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iL=ui&&"documentMode"in document&&11>=document.documentMode,Zo=null,gv=null,au=null,vv=!1;function mE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vv||Zo==null||Zo!==gd(r)||(r=Zo,"selectionStart"in r&&I0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),au&&bu(au,r)||(au=r,r=Sd(gv,"onSelect"),0<r.length&&(e=new E0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zo)))}function ph(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ea={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},Sm={},X2={};ui&&(X2=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function Mf(t){if(Sm[t])return Sm[t];if(!ea[t])return t;var e=ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in X2)return Sm[t]=e[n];return t}var J2=Mf("animationend"),Z2=Mf("animationiteration"),eA=Mf("animationstart"),tA=Mf("transitionend"),nA=new Map,gE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(t,e){nA.set(t,e),yo(e,[t])}for(var Im=0;Im<gE.length;Im++){var Pm=gE[Im],sL=Pm.toLowerCase(),oL=Pm[0].toUpperCase()+Pm.slice(1);ys(sL,"on"+oL)}ys(J2,"onAnimationEnd");ys(Z2,"onAnimationIteration");ys(eA,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(tA,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function vE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sM(r,e,void 0,t),t.currentTarget=null}function rA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;vE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;vE(i,a,c),s=l}}}if(yd)throw t=dv,yd=!1,dv=null,t}function ze(t,e){var n=e[Tv];n===void 0&&(n=e[Tv]=new Set);var r=t+"__bubble";n.has(r)||(iA(e,t,2,!1),n.add(r))}function Cm(t,e,n){var r=0;e&&(r|=4),iA(n,t,r,e)}var mh="_reactListening"+Math.random().toString(36).slice(2);function xu(t){if(!t[mh]){t[mh]=!0,h2.forEach(function(n){n!=="selectionchange"&&(aL.has(n)||Cm(n,!1,t),Cm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mh]||(e[mh]=!0,Cm("selectionchange",!1,e))}}function iA(t,e,n,r){switch(U2(e)){case 1:var i=EM;break;case 4:i=TM;break;default:i=_0}n=i.bind(null,e,n,t),i=void 0,!hv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Am(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Hs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}A2(function(){var c=s,h=m0(n),d=[];e:{var f=nA.get(t);if(f!==void 0){var m=E0,w=t;switch(t){case"keypress":if(Kh(n)===0)break e;case"keydown":case"keyup":m=VM;break;case"focusin":w="focus",m=wm;break;case"focusout":w="blur",m=wm;break;case"beforeblur":case"afterblur":m=wm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=jM;break;case J2:case Z2:case eA:m=RM;break;case tA:m=BM;break;case"scroll":m=SM;break;case"wheel":m=HM;break;case"copy":case"cut":case"paste":m=xM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=aE}var T=(e&4)!==0,P=!T&&t==="scroll",_=T?f!==null?f+"Capture":null:f;T=[];for(var y=c,E;y!==null;){E=y;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,_!==null&&(k=Iu(y,_),k!=null&&T.push(ku(y,k,E)))),P)break;y=y.return}0<T.length&&(f=new m(f,w,null,n,h),d.push({event:f,listeners:T}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==uv&&(w=n.relatedTarget||n.fromElement)&&(Hs(w)||w[ci]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?Hs(w):null,w!==null&&(P=_o(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(T=sE,k="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=aE,k="onPointerLeave",_="onPointerEnter",y="pointer"),P=m==null?f:ta(m),E=w==null?f:ta(w),f=new T(k,y+"leave",m,n,h),f.target=P,f.relatedTarget=E,k=null,Hs(h)===c&&(T=new T(_,y+"enter",w,n,h),T.target=E,T.relatedTarget=P,k=T),P=k,m&&w)t:{for(T=m,_=w,y=0,E=T;E;E=$o(E))y++;for(E=0,k=_;k;k=$o(k))E++;for(;0<y-E;)T=$o(T),y--;for(;0<E-y;)_=$o(_),E--;for(;y--;){if(T===_||_!==null&&T===_.alternate)break t;T=$o(T),_=$o(_)}T=null}else T=null;m!==null&&yE(d,f,m,T,!1),w!==null&&P!==null&&yE(d,P,w,T,!0)}}e:{if(f=c?ta(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var F=XM;else if(cE(f))if(G2)F=tL;else{F=ZM;var b=JM}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(F=eL);if(F&&(F=F(t,c))){K2(d,F,n,h);break e}b&&b(t,f,c),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&iv(f,"number",f.value)}switch(b=c?ta(c):window,t){case"focusin":(cE(b)||b.contentEditable==="true")&&(Zo=b,gv=c,au=null);break;case"focusout":au=gv=Zo=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,mE(d,n,h);break;case"selectionchange":if(iL)break;case"keydown":case"keyup":mE(d,n,h)}var C;if(S0)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Jo?H2(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(z2&&n.locale!=="ko"&&(Jo||v!=="onCompositionStart"?v==="onCompositionEnd"&&Jo&&(C=B2()):(zi=h,w0="value"in zi?zi.value:zi.textContent,Jo=!0)),b=Sd(c,v),0<b.length&&(v=new oE(v,t,null,n,h),d.push({event:v,listeners:b}),C?v.data=C:(C=W2(n),C!==null&&(v.data=C)))),(C=KM?GM(t,n):qM(t,n))&&(c=Sd(c,"onBeforeInput"),0<c.length&&(h=new oE("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=C))}rA(d,e)})}function ku(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Iu(t,n),s!=null&&r.unshift(ku(t,s,i)),s=Iu(t,e),s!=null&&r.push(ku(t,s,i))),t=t.return}return r}function $o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Iu(n,s),l!=null&&o.unshift(ku(n,l,a))):i||(l=Iu(n,s),l!=null&&o.push(ku(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lL=/\r\n?/g,uL=/\u0000|\uFFFD/g;function _E(t){return(typeof t=="string"?t:""+t).replace(lL,`
`).replace(uL,"")}function gh(t,e,n){if(e=_E(e),_E(t)!==e&&n)throw Error(H(425))}function Id(){}var yv=null,_v=null;function wv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ev=typeof setTimeout=="function"?setTimeout:void 0,cL=typeof clearTimeout=="function"?clearTimeout:void 0,wE=typeof Promise=="function"?Promise:void 0,hL=typeof queueMicrotask=="function"?queueMicrotask:typeof wE<"u"?function(t){return wE.resolve(null).then(t).catch(dL)}:Ev;function dL(t){setTimeout(function(){throw t})}function Rm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Au(e)}function Yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function EE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var el=Math.random().toString(36).slice(2),Ar="__reactFiber$"+el,Ou="__reactProps$"+el,ci="__reactContainer$"+el,Tv="__reactEvents$"+el,fL="__reactListeners$"+el,pL="__reactHandles$"+el;function Hs(t){var e=t[Ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ci]||n[Ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=EE(t);t!==null;){if(n=t[Ar])return n;t=EE(t)}return e}t=n,n=t.parentNode}return null}function hc(t){return t=t[Ar]||t[ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ta(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Lf(t){return t[Ou]||null}var Sv=[],na=-1;function _s(t){return{current:t}}function We(t){0>na||(t.current=Sv[na],Sv[na]=null,na--)}function Ue(t,e){na++,Sv[na]=t.current,t.current=e}var as={},Yt=_s(as),gn=_s(!1),oo=as;function Aa(t,e){var n=t.type.contextTypes;if(!n)return as;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vn(t){return t=t.childContextTypes,t!=null}function Pd(){We(gn),We(Yt)}function TE(t,e,n){if(Yt.current!==as)throw Error(H(168));Ue(Yt,e),Ue(gn,n)}function sA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,JN(t)||"Unknown",i));return et({},n,r)}function Cd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||as,oo=Yt.current,Ue(Yt,t),Ue(gn,gn.current),!0}function SE(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=sA(t,e,oo),r.__reactInternalMemoizedMergedChildContext=t,We(gn),We(Yt),Ue(Yt,t)):We(gn),Ue(gn,n)}var Qr=null,Vf=!1,bm=!1;function oA(t){Qr===null?Qr=[t]:Qr.push(t)}function mL(t){Vf=!0,oA(t)}function ws(){if(!bm&&Qr!==null){bm=!0;var t=0,e=Ne;try{var n=Qr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qr=null,Vf=!1}catch(i){throw Qr!==null&&(Qr=Qr.slice(t+1)),k2(g0,ws),i}finally{Ne=e,bm=!1}}return null}var ra=[],ia=0,Ad=null,Rd=0,Bn=[],zn=0,ao=null,Xr=1,Jr="";function Ls(t,e){ra[ia++]=Rd,ra[ia++]=Ad,Ad=t,Rd=e}function aA(t,e,n){Bn[zn++]=Xr,Bn[zn++]=Jr,Bn[zn++]=ao,ao=t;var r=Xr;t=Jr;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var s=32-hr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xr=1<<32-hr(e)+i|n<<i|r,Jr=s+t}else Xr=1<<s|n<<i|r,Jr=t}function P0(t){t.return!==null&&(Ls(t,1),aA(t,1,0))}function C0(t){for(;t===Ad;)Ad=ra[--ia],ra[ia]=null,Rd=ra[--ia],ra[ia]=null;for(;t===ao;)ao=Bn[--zn],Bn[zn]=null,Jr=Bn[--zn],Bn[zn]=null,Xr=Bn[--zn],Bn[zn]=null}var Cn=null,In=null,Qe=!1,or=null;function lA(t,e){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function IE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,In=Yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ao!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cn=t,In=null,!0):!1;default:return!1}}function Iv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pv(t){if(Qe){var e=In;if(e){var n=e;if(!IE(t,e)){if(Iv(t))throw Error(H(418));e=Yi(n.nextSibling);var r=Cn;e&&IE(t,e)?lA(r,n):(t.flags=t.flags&-4097|2,Qe=!1,Cn=t)}}else{if(Iv(t))throw Error(H(418));t.flags=t.flags&-4097|2,Qe=!1,Cn=t}}}function PE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function vh(t){if(t!==Cn)return!1;if(!Qe)return PE(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wv(t.type,t.memoizedProps)),e&&(e=In)){if(Iv(t))throw uA(),Error(H(418));for(;e;)lA(t,e),e=Yi(e.nextSibling)}if(PE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=Yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=Cn?Yi(t.stateNode.nextSibling):null;return!0}function uA(){for(var t=In;t;)t=Yi(t.nextSibling)}function Ra(){In=Cn=null,Qe=!1}function A0(t){or===null?or=[t]:or.push(t)}var gL=_i.ReactCurrentBatchConfig;function Dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function yh(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CE(t){var e=t._init;return e(t._payload)}function cA(t){function e(_,y){if(t){var E=_.deletions;E===null?(_.deletions=[y],_.flags|=16):E.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=es(_,y),_.index=0,_.sibling=null,_}function s(_,y,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<y?(_.flags|=2,y):E):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,E,k){return y===null||y.tag!==6?(y=Lm(E,_.mode,k),y.return=_,y):(y=i(y,E),y.return=_,y)}function l(_,y,E,k){var F=E.type;return F===Xo?h(_,y,E.props.children,k,E.key):y!==null&&(y.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Li&&CE(F)===y.type)?(k=i(y,E.props),k.ref=Dl(_,y,E),k.return=_,k):(k=Zh(E.type,E.key,E.props,null,_.mode,k),k.ref=Dl(_,y,E),k.return=_,k)}function c(_,y,E,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=Vm(E,_.mode,k),y.return=_,y):(y=i(y,E.children||[]),y.return=_,y)}function h(_,y,E,k,F){return y===null||y.tag!==7?(y=Zs(E,_.mode,k,F),y.return=_,y):(y=i(y,E),y.return=_,y)}function d(_,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Lm(""+y,_.mode,E),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ah:return E=Zh(y.type,y.key,y.props,null,_.mode,E),E.ref=Dl(_,null,y),E.return=_,E;case Yo:return y=Vm(y,_.mode,E),y.return=_,y;case Li:var k=y._init;return d(_,k(y._payload),E)}if(Wl(y)||Rl(y))return y=Zs(y,_.mode,E,null),y.return=_,y;yh(_,y)}return null}function f(_,y,E,k){var F=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return F!==null?null:a(_,y,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ah:return E.key===F?l(_,y,E,k):null;case Yo:return E.key===F?c(_,y,E,k):null;case Li:return F=E._init,f(_,y,F(E._payload),k)}if(Wl(E)||Rl(E))return F!==null?null:h(_,y,E,k,null);yh(_,E)}return null}function m(_,y,E,k,F){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(E)||null,a(y,_,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ah:return _=_.get(k.key===null?E:k.key)||null,l(y,_,k,F);case Yo:return _=_.get(k.key===null?E:k.key)||null,c(y,_,k,F);case Li:var b=k._init;return m(_,y,E,b(k._payload),F)}if(Wl(k)||Rl(k))return _=_.get(E)||null,h(y,_,k,F,null);yh(y,k)}return null}function w(_,y,E,k){for(var F=null,b=null,C=y,v=y=0,I=null;C!==null&&v<E.length;v++){C.index>v?(I=C,C=null):I=C.sibling;var A=f(_,C,E[v],k);if(A===null){C===null&&(C=I);break}t&&C&&A.alternate===null&&e(_,C),y=s(A,y,v),b===null?F=A:b.sibling=A,b=A,C=I}if(v===E.length)return n(_,C),Qe&&Ls(_,v),F;if(C===null){for(;v<E.length;v++)C=d(_,E[v],k),C!==null&&(y=s(C,y,v),b===null?F=C:b.sibling=C,b=C);return Qe&&Ls(_,v),F}for(C=r(_,C);v<E.length;v++)I=m(C,_,v,E[v],k),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?v:I.key),y=s(I,y,v),b===null?F=I:b.sibling=I,b=I);return t&&C.forEach(function(O){return e(_,O)}),Qe&&Ls(_,v),F}function T(_,y,E,k){var F=Rl(E);if(typeof F!="function")throw Error(H(150));if(E=F.call(E),E==null)throw Error(H(151));for(var b=F=null,C=y,v=y=0,I=null,A=E.next();C!==null&&!A.done;v++,A=E.next()){C.index>v?(I=C,C=null):I=C.sibling;var O=f(_,C,A.value,k);if(O===null){C===null&&(C=I);break}t&&C&&O.alternate===null&&e(_,C),y=s(O,y,v),b===null?F=O:b.sibling=O,b=O,C=I}if(A.done)return n(_,C),Qe&&Ls(_,v),F;if(C===null){for(;!A.done;v++,A=E.next())A=d(_,A.value,k),A!==null&&(y=s(A,y,v),b===null?F=A:b.sibling=A,b=A);return Qe&&Ls(_,v),F}for(C=r(_,C);!A.done;v++,A=E.next())A=m(C,_,v,A.value,k),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?v:A.key),y=s(A,y,v),b===null?F=A:b.sibling=A,b=A);return t&&C.forEach(function(D){return e(_,D)}),Qe&&Ls(_,v),F}function P(_,y,E,k){if(typeof E=="object"&&E!==null&&E.type===Xo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ah:e:{for(var F=E.key,b=y;b!==null;){if(b.key===F){if(F=E.type,F===Xo){if(b.tag===7){n(_,b.sibling),y=i(b,E.props.children),y.return=_,_=y;break e}}else if(b.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Li&&CE(F)===b.type){n(_,b.sibling),y=i(b,E.props),y.ref=Dl(_,b,E),y.return=_,_=y;break e}n(_,b);break}else e(_,b);b=b.sibling}E.type===Xo?(y=Zs(E.props.children,_.mode,k,E.key),y.return=_,_=y):(k=Zh(E.type,E.key,E.props,null,_.mode,k),k.ref=Dl(_,y,E),k.return=_,_=k)}return o(_);case Yo:e:{for(b=E.key;y!==null;){if(y.key===b)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(_,y.sibling),y=i(y,E.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Vm(E,_.mode,k),y.return=_,_=y}return o(_);case Li:return b=E._init,P(_,y,b(E._payload),k)}if(Wl(E))return w(_,y,E,k);if(Rl(E))return T(_,y,E,k);yh(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,E),y.return=_,_=y):(n(_,y),y=Lm(E,_.mode,k),y.return=_,_=y),o(_)):n(_,y)}return P}var ba=cA(!0),hA=cA(!1),bd=_s(null),xd=null,sa=null,R0=null;function b0(){R0=sa=xd=null}function x0(t){var e=bd.current;We(bd),t._currentValue=e}function Cv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ya(t,e){xd=t,R0=sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function qn(t){var e=t._currentValue;if(R0!==t)if(t={context:t,memoizedValue:e,next:null},sa===null){if(xd===null)throw Error(H(308));sa=t,xd.dependencies={lanes:0,firstContext:t}}else sa=sa.next=t;return e}var Ws=null;function k0(t){Ws===null?Ws=[t]:Ws.push(t)}function dA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,k0(e)):(n.next=i.next,i.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vi=!1;function O0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ii(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hi(t,n)}return i=r.interleaved,i===null?(e.next=e,k0(r)):(e.next=i.next,i.next=e),r.interleaved=e,hi(t,n)}function Gh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,v0(t,n)}}function AE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kd(t,e,n,r){var i=t.updateQueue;Vi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,T=a;switch(f=e,m=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){d=w.call(m,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,f=typeof w=="function"?w.call(m,d,f):w,f==null)break e;d=et({},d,f);break e;case 2:Vi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);uo|=o,t.lanes=o,t.memoizedState=d}}function RE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var dc={},br=_s(dc),Du=_s(dc),Nu=_s(dc);function Ks(t){if(t===dc)throw Error(H(174));return t}function D0(t,e){switch(Ue(Nu,e),Ue(Du,t),Ue(br,dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ov(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ov(e,t)}We(br),Ue(br,e)}function xa(){We(br),We(Du),We(Nu)}function pA(t){Ks(Nu.current);var e=Ks(br.current),n=ov(e,t.type);e!==n&&(Ue(Du,t),Ue(br,n))}function N0(t){Du.current===t&&(We(br),We(Du))}var Xe=_s(0);function Od(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xm=[];function M0(){for(var t=0;t<xm.length;t++)xm[t]._workInProgressVersionPrimary=null;xm.length=0}var qh=_i.ReactCurrentDispatcher,km=_i.ReactCurrentBatchConfig,lo=0,Ze=null,yt=null,St=null,Dd=!1,lu=!1,Mu=0,vL=0;function Ut(){throw Error(H(321))}function L0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pr(t[n],e[n]))return!1;return!0}function V0(t,e,n,r,i,s){if(lo=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qh.current=t===null||t.memoizedState===null?EL:TL,t=n(r,i),lu){s=0;do{if(lu=!1,Mu=0,25<=s)throw Error(H(301));s+=1,St=yt=null,e.updateQueue=null,qh.current=SL,t=n(r,i)}while(lu)}if(qh.current=Nd,e=yt!==null&&yt.next!==null,lo=0,St=yt=Ze=null,Dd=!1,e)throw Error(H(300));return t}function F0(){var t=Mu!==0;return Mu=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ze.memoizedState=St=t:St=St.next=t,St}function Qn(){if(yt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=St===null?Ze.memoizedState:St.next;if(e!==null)St=e,yt=t;else{if(t===null)throw Error(H(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},St===null?Ze.memoizedState=St=t:St=St.next=t}return St}function Lu(t,e){return typeof e=="function"?e(t):e}function Om(t){var e=Qn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((lo&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ze.lanes|=h,uo|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,pr(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,uo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dm(t){var e=Qn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);pr(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mA(){}function gA(t,e){var n=Ze,r=Qn(),i=e(),s=!pr(r.memoizedState,i);if(s&&(r.memoizedState=i,mn=!0),r=r.queue,$0(_A.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Vu(9,yA.bind(null,n,r,i,e),void 0,null),Pt===null)throw Error(H(349));lo&30||vA(n,e,i)}return i}function vA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yA(t,e,n,r){e.value=n,e.getSnapshot=r,wA(e)&&EA(t)}function _A(t,e,n){return n(function(){wA(e)&&EA(t)})}function wA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pr(t,n)}catch{return!0}}function EA(t){var e=hi(t,1);e!==null&&dr(e,t,1,-1)}function bE(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:t},e.queue=t,t=t.dispatch=wL.bind(null,Ze,t),[e.memoizedState,t]}function Vu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TA(){return Qn().memoizedState}function Qh(t,e,n,r){var i=Cr();Ze.flags|=t,i.memoizedState=Vu(1|e,n,void 0,r===void 0?null:r)}function Ff(t,e,n,r){var i=Qn();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&L0(r,o.deps)){i.memoizedState=Vu(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=Vu(1|e,n,s,r)}function xE(t,e){return Qh(8390656,8,t,e)}function $0(t,e){return Ff(2048,8,t,e)}function SA(t,e){return Ff(4,2,t,e)}function IA(t,e){return Ff(4,4,t,e)}function PA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CA(t,e,n){return n=n!=null?n.concat([t]):null,Ff(4,4,PA.bind(null,e,t),n)}function j0(){}function AA(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&L0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function RA(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&L0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bA(t,e,n){return lo&21?(pr(n,e)||(n=N2(),Ze.lanes|=n,uo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function yL(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=km.transition;km.transition={};try{t(!1),e()}finally{Ne=n,km.transition=r}}function xA(){return Qn().memoizedState}function _L(t,e,n){var r=Zi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kA(t))OA(e,n);else if(n=dA(t,e,n,r),n!==null){var i=tn();dr(n,t,r,i),DA(n,e,r)}}function wL(t,e,n){var r=Zi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kA(t))OA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,pr(a,o)){var l=e.interleaved;l===null?(i.next=i,k0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=dA(t,e,i,r),n!==null&&(i=tn(),dr(n,t,r,i),DA(n,e,r))}}function kA(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function OA(t,e){lu=Dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,v0(t,n)}}var Nd={readContext:qn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},EL={readContext:qn,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:qn,useEffect:xE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qh(4194308,4,PA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qh(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_L.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:bE,useDebugValue:j0,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=bE(!1),e=t[0];return t=yL.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=Cr();if(Qe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Pt===null)throw Error(H(349));lo&30||vA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,xE(_A.bind(null,r,s,t),[t]),r.flags|=2048,Vu(9,yA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cr(),e=Pt.identifierPrefix;if(Qe){var n=Jr,r=Xr;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TL={readContext:qn,useCallback:AA,useContext:qn,useEffect:$0,useImperativeHandle:CA,useInsertionEffect:SA,useLayoutEffect:IA,useMemo:RA,useReducer:Om,useRef:TA,useState:function(){return Om(Lu)},useDebugValue:j0,useDeferredValue:function(t){var e=Qn();return bA(e,yt.memoizedState,t)},useTransition:function(){var t=Om(Lu)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:mA,useSyncExternalStore:gA,useId:xA,unstable_isNewReconciler:!1},SL={readContext:qn,useCallback:AA,useContext:qn,useEffect:$0,useImperativeHandle:CA,useInsertionEffect:SA,useLayoutEffect:IA,useMemo:RA,useReducer:Dm,useRef:TA,useState:function(){return Dm(Lu)},useDebugValue:j0,useDeferredValue:function(t){var e=Qn();return yt===null?e.memoizedState=t:bA(e,yt.memoizedState,t)},useTransition:function(){var t=Dm(Lu)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:mA,useSyncExternalStore:gA,useId:xA,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Av(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $f={isMounted:function(t){return(t=t._reactInternals)?_o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Zi(t),s=ii(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xi(t,s,i),e!==null&&(dr(e,t,i,r),Gh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Zi(t),s=ii(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xi(t,s,i),e!==null&&(dr(e,t,i,r),Gh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=Zi(t),i=ii(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xi(t,i,r),e!==null&&(dr(e,t,r,n),Gh(e,t,r))}};function kE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bu(n,r)||!bu(i,s):!0}function NA(t,e,n){var r=!1,i=as,s=e.contextType;return typeof s=="object"&&s!==null?s=qn(s):(i=vn(e)?oo:Yt.current,r=e.contextTypes,s=(r=r!=null)?Aa(t,i):as),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$f,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function OE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$f.enqueueReplaceState(e,e.state,null)}function Rv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},O0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=qn(s):(s=vn(e)?oo:Yt.current,i.context=Aa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Av(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$f.enqueueReplaceState(i,i.state,null),kd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ka(t,e){try{var n="",r=e;do n+=XN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Nm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IL=typeof WeakMap=="function"?WeakMap:Map;function MA(t,e,n){n=ii(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ld||(Ld=!0,$v=r),bv(t,e)},n}function LA(t,e,n){n=ii(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bv(t,e),typeof r!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function DE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FL.bind(null,t,e,n),e.then(t,t))}function NE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ME(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ii(-1,1),e.tag=2,Xi(n,e,1))),n.lanes|=1),t)}var PL=_i.ReactCurrentOwner,mn=!1;function en(t,e,n,r){e.child=t===null?hA(e,null,n,r):ba(e,t.child,n,r)}function LE(t,e,n,r,i){n=n.render;var s=e.ref;return ya(e,i),r=V0(t,e,n,r,s,i),n=F0(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(Qe&&n&&P0(e),e.flags|=1,en(t,e,r,i),e.child)}function VE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!q0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,VA(t,e,s,r,i)):(t=Zh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bu,n(o,r)&&t.ref===e.ref)return di(t,e,i)}return e.flags|=1,t=es(s,r),t.ref=e.ref,t.return=e,e.child=t}function VA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bu(s,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,di(t,e,i)}return xv(t,e,n,r,i)}function FA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(aa,Tn),Tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(aa,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(aa,Tn),Tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ue(aa,Tn),Tn|=r;return en(t,e,i,n),e.child}function $A(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xv(t,e,n,r,i){var s=vn(n)?oo:Yt.current;return s=Aa(e,s),ya(e,i),n=V0(t,e,n,r,s,i),r=F0(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(Qe&&r&&P0(e),e.flags|=1,en(t,e,n,i),e.child)}function FE(t,e,n,r,i){if(vn(n)){var s=!0;Cd(e)}else s=!1;if(ya(e,i),e.stateNode===null)Yh(t,e),NA(e,n,r),Rv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=qn(c):(c=vn(n)?oo:Yt.current,c=Aa(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&OE(e,o,r,c),Vi=!1;var f=e.memoizedState;o.state=f,kd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||gn.current||Vi?(typeof h=="function"&&(Av(e,n,h,r),l=e.memoizedState),(a=Vi||kE(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rr(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qn(l):(l=vn(n)?oo:Yt.current,l=Aa(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&OE(e,o,r,l),Vi=!1,f=e.memoizedState,o.state=f,kd(e,r,o,i);var w=e.memoizedState;a!==d||f!==w||gn.current||Vi?(typeof m=="function"&&(Av(e,n,m,r),w=e.memoizedState),(c=Vi||kE(e,n,c,r,f,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return kv(t,e,n,r,s,i)}function kv(t,e,n,r,i,s){$A(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&SE(e,n,!1),di(t,e,s);r=e.stateNode,PL.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ba(e,t.child,null,s),e.child=ba(e,null,a,s)):en(t,e,a,s),e.memoizedState=r.state,i&&SE(e,n,!0),e.child}function jA(t){var e=t.stateNode;e.pendingContext?TE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&TE(t,e.context,!1),D0(t,e.containerInfo)}function $E(t,e,n,r,i){return Ra(),A0(i),e.flags|=256,en(t,e,n,r),e.child}var Ov={dehydrated:null,treeContext:null,retryLane:0};function Dv(t){return{baseLanes:t,cachePool:null,transitions:null}}function UA(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Xe,i&1),t===null)return Pv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bf(o,r,0,null),t=Zs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dv(n),e.memoizedState=Ov,t):U0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CL(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=es(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=es(a,s):(s=Zs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Dv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ov,r}return s=t.child,t=s.sibling,r=es(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function U0(t,e){return e=Bf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _h(t,e,n,r){return r!==null&&A0(r),ba(e,t.child,null,n),t=U0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CL(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Nm(Error(H(422))),_h(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bf({mode:"visible",children:r.children},i,0,null),s=Zs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ba(e,t.child,null,o),e.child.memoizedState=Dv(o),e.memoizedState=Ov,s);if(!(e.mode&1))return _h(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=Nm(s,r,void 0),_h(t,e,o,r)}if(a=(o&t.childLanes)!==0,mn||a){if(r=Pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hi(t,i),dr(r,t,i,-1))}return G0(),r=Nm(Error(H(421))),_h(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$L.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,In=Yi(i.nextSibling),Cn=e,Qe=!0,or=null,t!==null&&(Bn[zn++]=Xr,Bn[zn++]=Jr,Bn[zn++]=ao,Xr=t.id,Jr=t.overflow,ao=e),e=U0(e,r.children),e.flags|=4096,e)}function jE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cv(t.return,e,n)}function Mm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function BA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(en(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jE(t,n,e);else if(t.tag===19)jE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Od(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Od(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mm(e,!0,n,null,s);break;case"together":Mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=es(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=es(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AL(t,e,n){switch(e.tag){case 3:jA(e),Ra();break;case 5:pA(e);break;case 1:vn(e.type)&&Cd(e);break;case 4:D0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(bd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?UA(t,e,n):(Ue(Xe,Xe.current&1),t=di(t,e,n),t!==null?t.sibling:null);Ue(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,FA(t,e,n)}return di(t,e,n)}var zA,Nv,HA,WA;zA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nv=function(){};HA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ks(br.current);var s=null;switch(n){case"input":i=nv(t,i),r=nv(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=sv(t,i),r=sv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Id)}av(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};WA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Nl(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RL(t,e,n){var r=e.pendingProps;switch(C0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return vn(e.type)&&Pd(),Bt(e),null;case 3:return r=e.stateNode,xa(),We(gn),We(Yt),M0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(Bv(or),or=null))),Nv(t,e),Bt(e),null;case 5:N0(e);var i=Ks(Nu.current);if(n=e.type,t!==null&&e.stateNode!=null)HA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Bt(e),null}if(t=Ks(br.current),vh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ar]=e,r[Ou]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Gl.length;i++)ze(Gl[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Qw(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":Xw(r,s),ze("invalid",r)}av(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&gh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gh(r.textContent,a,t),i=["children",""+a]):Tu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":lh(r),Yw(r,s,!0);break;case"textarea":lh(r),Jw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Id)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ar]=e,t[Ou]=r,zA(t,e,!1,!1),e.stateNode=t;e:{switch(o=lv(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Gl.length;i++)ze(Gl[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":Qw(t,r),i=nv(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),ze("invalid",t);break;case"textarea":Xw(t,r),i=sv(t,r),ze("invalid",t);break;default:i=r}av(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?T2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&w2(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Su(t,l):typeof l=="number"&&Su(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&h0(t,s,l,o))}switch(n){case"input":lh(t),Yw(t,r,!1);break;case"textarea":lh(t),Jw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+os(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?pa(t,!!r.multiple,s,!1):r.defaultValue!=null&&pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Id)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)WA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ks(Nu.current),Ks(br.current),vh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ar]=e,(s=r.nodeValue!==n)&&(t=Cn,t!==null))switch(t.tag){case 3:gh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=e,e.stateNode=r}return Bt(e),null;case 13:if(We(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&In!==null&&e.mode&1&&!(e.flags&128))uA(),Ra(),e.flags|=98560,s=!1;else if(s=vh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Ar]=e}else Ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),s=!1}else or!==null&&(Bv(or),or=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?_t===0&&(_t=3):G0())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return xa(),Nv(t,e),t===null&&xu(e.stateNode.containerInfo),Bt(e),null;case 10:return x0(e.type._context),Bt(e),null;case 17:return vn(e.type)&&Pd(),Bt(e),null;case 19:if(We(Xe),s=e.memoizedState,s===null)return Bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Nl(s,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Od(t),o!==null){for(e.flags|=128,Nl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>Oa&&(e.flags|=128,r=!0,Nl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Od(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Nl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Bt(e),null}else 2*ot()-s.renderingStartTime>Oa&&n!==1073741824&&(e.flags|=128,r=!0,Nl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=Xe.current,Ue(Xe,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return K0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function bL(t,e){switch(C0(e),e.tag){case 1:return vn(e.type)&&Pd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xa(),We(gn),We(Yt),M0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return N0(e),null;case 13:if(We(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Xe),null;case 4:return xa(),null;case 10:return x0(e.type._context),null;case 22:case 23:return K0(),null;case 24:return null;default:return null}}var wh=!1,Kt=!1,xL=typeof WeakSet=="function"?WeakSet:Set,J=null;function oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Mv(t,e,n){try{n()}catch(r){rt(t,e,r)}}var UE=!1;function kL(t,e){if(yv=Ed,t=Y2(),I0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_v={focusedElem:t,selectionRange:n},Ed=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,P=w.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?T:rr(e.type,T),P);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){rt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return w=UE,UE=!1,w}function uu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mv(e,n,s)}i=i.next}while(i!==r)}}function jf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KA(t){var e=t.alternate;e!==null&&(t.alternate=null,KA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ar],delete e[Ou],delete e[Tv],delete e[fL],delete e[pL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GA(t){return t.tag===5||t.tag===3||t.tag===4}function BE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Id));else if(r!==4&&(t=t.child,t!==null))for(Vv(t,e,n),t=t.sibling;t!==null;)Vv(t,e,n),t=t.sibling}function Fv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fv(t,e,n),t=t.sibling;t!==null;)Fv(t,e,n),t=t.sibling}var kt=null,ir=!1;function xi(t,e,n){for(n=n.child;n!==null;)qA(t,e,n),n=n.sibling}function qA(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Of,n)}catch{}switch(n.tag){case 5:Kt||oa(n,e);case 6:var r=kt,i=ir;kt=null,xi(t,e,n),kt=r,ir=i,kt!==null&&(ir?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(ir?(t=kt,n=n.stateNode,t.nodeType===8?Rm(t.parentNode,n):t.nodeType===1&&Rm(t,n),Au(t)):Rm(kt,n.stateNode));break;case 4:r=kt,i=ir,kt=n.stateNode.containerInfo,ir=!0,xi(t,e,n),kt=r,ir=i;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mv(n,e,o),i=i.next}while(i!==r)}xi(t,e,n);break;case 1:if(!Kt&&(oa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}xi(t,e,n);break;case 21:xi(t,e,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,xi(t,e,n),Kt=r):xi(t,e,n);break;default:xi(t,e,n)}}function zE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xL),e.forEach(function(r){var i=jL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,ir=!1;break e;case 3:kt=a.stateNode.containerInfo,ir=!0;break e;case 4:kt=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if(kt===null)throw Error(H(160));qA(s,o,i),kt=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QA(e,t),e=e.sibling}function QA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(e,t),Ir(t),r&4){try{uu(3,t,t.return),jf(3,t)}catch(T){rt(t,t.return,T)}try{uu(5,t,t.return)}catch(T){rt(t,t.return,T)}}break;case 1:nr(e,t),Ir(t),r&512&&n!==null&&oa(n,n.return);break;case 5:if(nr(e,t),Ir(t),r&512&&n!==null&&oa(n,n.return),t.flags&32){var i=t.stateNode;try{Su(i,"")}catch(T){rt(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&v2(i,s),lv(a,o);var c=lv(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?T2(i,d):h==="dangerouslySetInnerHTML"?w2(i,d):h==="children"?Su(i,d):h0(i,h,d,c)}switch(a){case"input":rv(i,s);break;case"textarea":y2(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?pa(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?pa(i,!!s.multiple,s.defaultValue,!0):pa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ou]=s}catch(T){rt(t,t.return,T)}}break;case 6:if(nr(e,t),Ir(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){rt(t,t.return,T)}}break;case 3:if(nr(e,t),Ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(e.containerInfo)}catch(T){rt(t,t.return,T)}break;case 4:nr(e,t),Ir(t);break;case 13:nr(e,t),Ir(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(H0=ot())),r&4&&zE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(c=Kt)||h,nr(e,t),Kt=c):nr(e,t),Ir(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(J=t,h=t.child;h!==null;){for(d=J=h;J!==null;){switch(f=J,m=f.child,f.tag){case 0:case 11:case 14:case 15:uu(4,f,f.return);break;case 1:oa(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){rt(r,n,T)}}break;case 5:oa(f,f.return);break;case 22:if(f.memoizedState!==null){WE(d);continue}}m!==null?(m.return=f,J=m):WE(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=E2("display",o))}catch(T){rt(t,t.return,T)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(T){rt(t,t.return,T)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nr(e,t),Ir(t),r&4&&zE(t);break;case 21:break;default:nr(e,t),Ir(t)}}function Ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GA(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Su(i,""),r.flags&=-33);var s=BE(t);Fv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=BE(t);Vv(t,a,o);break;default:throw Error(H(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OL(t,e,n){J=t,YA(t)}function YA(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||wh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Kt;a=wh;var c=Kt;if(wh=o,(Kt=l)&&!c)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?KE(i):l!==null?(l.return=o,J=l):KE(i);for(;s!==null;)J=s,YA(s),s=s.sibling;J=i,wh=a,Kt=c}HE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):HE(t)}}function HE(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||jf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&RE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}RE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Au(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Kt||e.flags&512&&Lv(e)}catch(f){rt(e,e.return,f)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function WE(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function KE(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jf(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rt(e,i,l)}}var s=e.return;try{Lv(e)}catch(l){rt(e,s,l)}break;case 5:var o=e.return;try{Lv(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var DL=Math.ceil,Md=_i.ReactCurrentDispatcher,B0=_i.ReactCurrentOwner,Kn=_i.ReactCurrentBatchConfig,be=0,Pt=null,pt=null,Lt=0,Tn=0,aa=_s(0),_t=0,Fu=null,uo=0,Uf=0,z0=0,cu=null,fn=null,H0=0,Oa=1/0,qr=null,Ld=!1,$v=null,Ji=null,Eh=!1,Hi=null,Vd=0,hu=0,jv=null,Xh=-1,Jh=0;function tn(){return be&6?ot():Xh!==-1?Xh:Xh=ot()}function Zi(t){return t.mode&1?be&2&&Lt!==0?Lt&-Lt:gL.transition!==null?(Jh===0&&(Jh=N2()),Jh):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:U2(t.type)),t):1}function dr(t,e,n,r){if(50<hu)throw hu=0,jv=null,Error(H(185));uc(t,n,r),(!(be&2)||t!==Pt)&&(t===Pt&&(!(be&2)&&(Uf|=n),_t===4&&$i(t,Lt)),yn(t,r),n===1&&be===0&&!(e.mode&1)&&(Oa=ot()+500,Vf&&ws()))}function yn(t,e){var n=t.callbackNode;gM(t,e);var r=wd(t,t===Pt?Lt:0);if(r===0)n!==null&&tE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tE(n),e===1)t.tag===0?mL(GE.bind(null,t)):oA(GE.bind(null,t)),hL(function(){!(be&6)&&ws()}),n=null;else{switch(M2(r)){case 1:n=g0;break;case 4:n=O2;break;case 16:n=_d;break;case 536870912:n=D2;break;default:n=_d}n=iR(n,XA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XA(t,e){if(Xh=-1,Jh=0,be&6)throw Error(H(327));var n=t.callbackNode;if(_a()&&t.callbackNode!==n)return null;var r=wd(t,t===Pt?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fd(t,r);else{e=r;var i=be;be|=2;var s=ZA();(Pt!==t||Lt!==e)&&(qr=null,Oa=ot()+500,Js(t,e));do try{LL();break}catch(a){JA(t,a)}while(!0);b0(),Md.current=s,be=i,pt!==null?e=0:(Pt=null,Lt=0,e=_t)}if(e!==0){if(e===2&&(i=fv(t),i!==0&&(r=i,e=Uv(t,i))),e===1)throw n=Fu,Js(t,0),$i(t,r),yn(t,ot()),n;if(e===6)$i(t,r);else{if(i=t.current.alternate,!(r&30)&&!NL(i)&&(e=Fd(t,r),e===2&&(s=fv(t),s!==0&&(r=s,e=Uv(t,s))),e===1))throw n=Fu,Js(t,0),$i(t,r),yn(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Vs(t,fn,qr);break;case 3:if($i(t,r),(r&130023424)===r&&(e=H0+500-ot(),10<e)){if(wd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ev(Vs.bind(null,t,fn,qr),e);break}Vs(t,fn,qr);break;case 4:if($i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DL(r/1960))-r,10<r){t.timeoutHandle=Ev(Vs.bind(null,t,fn,qr),r);break}Vs(t,fn,qr);break;case 5:Vs(t,fn,qr);break;default:throw Error(H(329))}}}return yn(t,ot()),t.callbackNode===n?XA.bind(null,t):null}function Uv(t,e){var n=cu;return t.current.memoizedState.isDehydrated&&(Js(t,e).flags|=256),t=Fd(t,e),t!==2&&(e=fn,fn=n,e!==null&&Bv(e)),t}function Bv(t){fn===null?fn=t:fn.push.apply(fn,t)}function NL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $i(t,e){for(e&=~z0,e&=~Uf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function GE(t){if(be&6)throw Error(H(327));_a();var e=wd(t,0);if(!(e&1))return yn(t,ot()),null;var n=Fd(t,e);if(t.tag!==0&&n===2){var r=fv(t);r!==0&&(e=r,n=Uv(t,r))}if(n===1)throw n=Fu,Js(t,0),$i(t,e),yn(t,ot()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vs(t,fn,qr),yn(t,ot()),null}function W0(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Oa=ot()+500,Vf&&ws())}}function co(t){Hi!==null&&Hi.tag===0&&!(be&6)&&_a();var e=be;be|=1;var n=Kn.transition,r=Ne;try{if(Kn.transition=null,Ne=1,t)return t()}finally{Ne=r,Kn.transition=n,be=e,!(be&6)&&ws()}}function K0(){Tn=aa.current,We(aa)}function Js(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cL(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(C0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pd();break;case 3:xa(),We(gn),We(Yt),M0();break;case 5:N0(r);break;case 4:xa();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:x0(r.type._context);break;case 22:case 23:K0()}n=n.return}if(Pt=t,pt=t=es(t.current,null),Lt=Tn=e,_t=0,Fu=null,z0=Uf=uo=0,fn=cu=null,Ws!==null){for(e=0;e<Ws.length;e++)if(n=Ws[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ws=null}return t}function JA(t,e){do{var n=pt;try{if(b0(),qh.current=Nd,Dd){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dd=!1}if(lo=0,St=yt=Ze=null,lu=!1,Mu=0,B0.current=null,n===null||n.return===null){_t=1,Fu=e,pt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=NE(o);if(m!==null){m.flags&=-257,ME(m,o,a,s,e),m.mode&1&&DE(s,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var T=new Set;T.add(l),e.updateQueue=T}else w.add(l);break e}else{if(!(e&1)){DE(s,c,e),G0();break e}l=Error(H(426))}}else if(Qe&&a.mode&1){var P=NE(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),ME(P,o,a,s,e),A0(ka(l,a));break e}}s=l=ka(l,a),_t!==4&&(_t=2),cu===null?cu=[s]:cu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=MA(s,l,e);AE(s,_);break e;case 1:a=l;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ji===null||!Ji.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=LA(s,a,e);AE(s,k);break e}}s=s.return}while(s!==null)}tR(n)}catch(F){e=F,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function ZA(){var t=Md.current;return Md.current=Nd,t===null?Nd:t}function G0(){(_t===0||_t===3||_t===2)&&(_t=4),Pt===null||!(uo&268435455)&&!(Uf&268435455)||$i(Pt,Lt)}function Fd(t,e){var n=be;be|=2;var r=ZA();(Pt!==t||Lt!==e)&&(qr=null,Js(t,e));do try{ML();break}catch(i){JA(t,i)}while(!0);if(b0(),be=n,Md.current=r,pt!==null)throw Error(H(261));return Pt=null,Lt=0,_t}function ML(){for(;pt!==null;)eR(pt)}function LL(){for(;pt!==null&&!aM();)eR(pt)}function eR(t){var e=rR(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?tR(t):pt=e,B0.current=null}function tR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bL(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,pt=null;return}}else if(n=RL(n,e,Tn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);_t===0&&(_t=5)}function Vs(t,e,n){var r=Ne,i=Kn.transition;try{Kn.transition=null,Ne=1,VL(t,e,n,r)}finally{Kn.transition=i,Ne=r}return null}function VL(t,e,n,r){do _a();while(Hi!==null);if(be&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vM(t,s),t===Pt&&(pt=Pt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eh||(Eh=!0,iR(_d,function(){return _a(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kn.transition,Kn.transition=null;var o=Ne;Ne=1;var a=be;be|=4,B0.current=null,kL(t,n),QA(n,t),rL(_v),Ed=!!yv,_v=yv=null,t.current=n,OL(n),lM(),be=a,Ne=o,Kn.transition=s}else t.current=n;if(Eh&&(Eh=!1,Hi=t,Vd=i),s=t.pendingLanes,s===0&&(Ji=null),hM(n.stateNode),yn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ld)throw Ld=!1,t=$v,$v=null,t;return Vd&1&&t.tag!==0&&_a(),s=t.pendingLanes,s&1?t===jv?hu++:(hu=0,jv=t):hu=0,ws(),null}function _a(){if(Hi!==null){var t=M2(Vd),e=Kn.transition,n=Ne;try{if(Kn.transition=null,Ne=16>t?16:t,Hi===null)var r=!1;else{if(t=Hi,Hi=null,Vd=0,be&6)throw Error(H(331));var i=be;for(be|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var h=J;switch(h.tag){case 0:case 11:case 15:uu(8,h,s)}var d=h.child;if(d!==null)d.return=h,J=d;else for(;J!==null;){h=J;var f=h.sibling,m=h.return;if(KA(h),h===c){J=null;break}if(f!==null){f.return=m,J=f;break}J=m}}}var w=s.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uu(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,J=_;break e}J=s.return}}var y=t.current;for(J=y;J!==null;){o=J;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,J=E;else e:for(o=y;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jf(9,a)}}catch(F){rt(a,a.return,F)}if(a===o){J=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,J=k;break e}J=a.return}}if(be=i,ws(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Of,t)}catch{}r=!0}return r}finally{Ne=n,Kn.transition=e}}return!1}function qE(t,e,n){e=ka(n,e),e=MA(t,e,1),t=Xi(t,e,1),e=tn(),t!==null&&(uc(t,1,e),yn(t,e))}function rt(t,e,n){if(t.tag===3)qE(t,t,n);else for(;e!==null;){if(e.tag===3){qE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ji===null||!Ji.has(r))){t=ka(n,t),t=LA(e,t,1),e=Xi(e,t,1),t=tn(),e!==null&&(uc(e,1,t),yn(e,t));break}}e=e.return}}function FL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Lt&n)===n&&(_t===4||_t===3&&(Lt&130023424)===Lt&&500>ot()-H0?Js(t,0):z0|=n),yn(t,e)}function nR(t,e){e===0&&(t.mode&1?(e=hh,hh<<=1,!(hh&130023424)&&(hh=4194304)):e=1);var n=tn();t=hi(t,e),t!==null&&(uc(t,e,n),yn(t,n))}function $L(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nR(t,n)}function jL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),nR(t,n)}var rR;rR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,AL(t,e,n);mn=!!(t.flags&131072)}else mn=!1,Qe&&e.flags&1048576&&aA(e,Rd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yh(t,e),t=e.pendingProps;var i=Aa(e,Yt.current);ya(e,n),i=V0(null,e,r,t,i,n);var s=F0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(r)?(s=!0,Cd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,O0(e),i.updater=$f,e.stateNode=i,i._reactInternals=e,Rv(e,r,t,n),e=kv(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&P0(e),en(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BL(r),t=rr(r,t),i){case 0:e=xv(null,e,r,t,n);break e;case 1:e=FE(null,e,r,t,n);break e;case 11:e=LE(null,e,r,t,n);break e;case 14:e=VE(null,e,r,rr(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),xv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),FE(t,e,r,i,n);case 3:e:{if(jA(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,fA(t,e),kd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ka(Error(H(423)),e),e=$E(t,e,r,n,i);break e}else if(r!==i){i=ka(Error(H(424)),e),e=$E(t,e,r,n,i);break e}else for(In=Yi(e.stateNode.containerInfo.firstChild),Cn=e,Qe=!0,or=null,n=hA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ra(),r===i){e=di(t,e,n);break e}en(t,e,r,n)}e=e.child}return e;case 5:return pA(e),t===null&&Pv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wv(r,i)?o=null:s!==null&&wv(r,s)&&(e.flags|=32),$A(t,e),en(t,e,o,n),e.child;case 6:return t===null&&Pv(e),null;case 13:return UA(t,e,n);case 4:return D0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ba(e,null,r,n):en(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),LE(t,e,r,i,n);case 7:return en(t,e,e.pendingProps,n),e.child;case 8:return en(t,e,e.pendingProps.children,n),e.child;case 12:return en(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ue(bd,r._currentValue),r._currentValue=o,s!==null)if(pr(s.value,o)){if(s.children===i.children&&!gn.current){e=di(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ii(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Cv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}en(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ya(e,n),i=qn(i),r=r(i),e.flags|=1,en(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),VE(t,e,r,i,n);case 15:return VA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Yh(t,e),e.tag=1,vn(r)?(t=!0,Cd(e)):t=!1,ya(e,n),NA(e,r,i),Rv(e,r,i,n),kv(null,e,r,!0,t,n);case 19:return BA(t,e,n);case 22:return FA(t,e,n)}throw Error(H(156,e.tag))};function iR(t,e){return k2(t,e)}function UL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,n,r){return new UL(t,e,n,r)}function q0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BL(t){if(typeof t=="function")return q0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===f0)return 11;if(t===p0)return 14}return 2}function es(t,e){var n=t.alternate;return n===null?(n=Wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")q0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xo:return Zs(n.children,i,s,e);case d0:o=8,i|=8;break;case Jg:return t=Wn(12,n,e,i|2),t.elementType=Jg,t.lanes=s,t;case Zg:return t=Wn(13,n,e,i),t.elementType=Zg,t.lanes=s,t;case ev:return t=Wn(19,n,e,i),t.elementType=ev,t.lanes=s,t;case p2:return Bf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case d2:o=10;break e;case f2:o=9;break e;case f0:o=11;break e;case p0:o=14;break e;case Li:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Wn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zs(t,e,n,r){return t=Wn(7,t,r,e),t.lanes=n,t}function Bf(t,e,n,r){return t=Wn(22,t,r,e),t.elementType=p2,t.lanes=n,t.stateNode={isHidden:!1},t}function Lm(t,e,n){return t=Wn(6,t,null,e),t.lanes=n,t}function Vm(t,e,n){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vm(0),this.expirationTimes=vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Q0(t,e,n,r,i,s,o,a,l){return t=new zL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},O0(s),t}function HL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sR(t){if(!t)return as;t=t._reactInternals;e:{if(_o(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(vn(n))return sA(t,n,e)}return e}function oR(t,e,n,r,i,s,o,a,l){return t=Q0(n,r,!0,t,i,s,o,a,l),t.context=sR(null),n=t.current,r=tn(),i=Zi(n),s=ii(r,i),s.callback=e??null,Xi(n,s,i),t.current.lanes=i,uc(t,i,r),yn(t,r),t}function zf(t,e,n,r){var i=e.current,s=tn(),o=Zi(i);return n=sR(n),e.context===null?e.context=n:e.pendingContext=n,e=ii(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xi(i,e,o),t!==null&&(dr(t,i,o,s),Gh(t,i,o)),o}function $d(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function QE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Y0(t,e){QE(t,e),(t=t.alternate)&&QE(t,e)}function WL(){return null}var aR=typeof reportError=="function"?reportError:function(t){console.error(t)};function X0(t){this._internalRoot=t}Hf.prototype.render=X0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));zf(t,e,null,null)};Hf.prototype.unmount=X0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;co(function(){zf(null,t,null,null)}),e[ci]=null}};function Hf(t){this._internalRoot=t}Hf.prototype.unstable_scheduleHydration=function(t){if(t){var e=F2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&j2(t)}};function J0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function YE(){}function KL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=$d(o);s.call(c)}}var o=oR(e,r,t,0,null,!1,!1,"",YE);return t._reactRootContainer=o,t[ci]=o.current,xu(t.nodeType===8?t.parentNode:t),co(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=$d(l);a.call(c)}}var l=Q0(t,0,!1,null,null,!1,!1,"",YE);return t._reactRootContainer=l,t[ci]=l.current,xu(t.nodeType===8?t.parentNode:t),co(function(){zf(e,l,n,r)}),l}function Kf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$d(o);a.call(l)}}zf(e,o,t,i)}else o=KL(n,e,t,i,r);return $d(o)}L2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kl(e.pendingLanes);n!==0&&(v0(e,n|1),yn(e,ot()),!(be&6)&&(Oa=ot()+500,ws()))}break;case 13:co(function(){var r=hi(t,1);if(r!==null){var i=tn();dr(r,t,1,i)}}),Y0(t,1)}};y0=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=tn();dr(e,t,134217728,n)}Y0(t,134217728)}};V2=function(t){if(t.tag===13){var e=Zi(t),n=hi(t,e);if(n!==null){var r=tn();dr(n,t,e,r)}Y0(t,e)}};F2=function(){return Ne};$2=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};cv=function(t,e,n){switch(e){case"input":if(rv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lf(r);if(!i)throw Error(H(90));g2(r),rv(r,i)}}}break;case"textarea":y2(t,n);break;case"select":e=n.value,e!=null&&pa(t,!!n.multiple,e,!1)}};P2=W0;C2=co;var GL={usingClientEntryPoint:!1,Events:[hc,ta,Lf,S2,I2,W0]},Ml={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qL={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b2(t),t===null?null:t.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||WL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Of=Th.inject(qL),Rr=Th}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GL;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J0(e))throw Error(H(200));return HL(t,e,null,n)};Dn.createRoot=function(t,e){if(!J0(t))throw Error(H(299));var n=!1,r="",i=aR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Q0(t,1,!1,null,null,n,!1,r,i),t[ci]=e.current,xu(t.nodeType===8?t.parentNode:t),new X0(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=b2(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return co(t)};Dn.hydrate=function(t,e,n){if(!Wf(e))throw Error(H(200));return Kf(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!J0(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=aR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=oR(e,null,t,1,n??null,i,!1,s,o),t[ci]=e.current,xu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hf(e)};Dn.render=function(t,e,n){if(!Wf(e))throw Error(H(200));return Kf(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!Wf(t))throw Error(H(40));return t._reactRootContainer?(co(function(){Kf(null,null,t,!1,function(){t._reactRootContainer=null,t[ci]=null})}),!0):!1};Dn.unstable_batchedUpdates=W0;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wf(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Kf(t,e,n,!1,r)};Dn.version="18.3.1-next-f1338f8080-20240426";function lR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lR)}catch(t){console.error(t)}}lR(),l2.exports=Dn;var Z0=l2.exports;const QL=at(Z0),YL=YC({__proto__:null,default:QL},[Z0]);var uR,XE=Z0;uR=XE.createRoot,XE.hydrateRoot;var cR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},JE=Te.createContext&&Te.createContext(cR),XL=["attr","size","title"];function JL(t,e){if(t==null)return{};var n=ZL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jd.apply(this,arguments)}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(r){eV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eV(t,e,n){return e=tV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tV(t){var e=nV(t,"string");return typeof e=="symbol"?e:e+""}function nV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hR(t){return t&&t.map((e,n)=>Te.createElement(e.tag,Ud({key:n},e.attr),hR(e.child)))}function Oe(t){return e=>Te.createElement(rV,jd({attr:Ud({},t.attr)},e),hR(t.child))}function rV(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=JL(t,XL),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Te.createElement("svg",jd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ud(Ud({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Te.createElement("title",null,s),t.children)};return JE!==void 0?Te.createElement(JE.Consumer,null,n=>e(n)):e(cR)}function iV(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M443.5 420.2L336.7 312.4c20.9-26.2 33.5-59.4 33.5-95.5 0-84.5-68.5-153-153.1-153S64 132.5 64 217s68.5 153 153.1 153c36.6 0 70.1-12.8 96.5-34.2l106.1 107.1c3.2 3.4 7.6 5.1 11.9 5.1 4.1 0 8.2-1.5 11.3-4.5 6.6-6.3 6.8-16.7.6-23.3zm-226.4-83.1c-32.1 0-62.3-12.5-85-35.2-22.7-22.7-35.2-52.9-35.2-84.9 0-32.1 12.5-62.3 35.2-84.9 22.7-22.7 52.9-35.2 85-35.2s62.3 12.5 85 35.2c22.7 22.7 35.2 52.9 35.2 84.9 0 32.1-12.5 62.3-35.2 84.9-22.7 22.7-52.9 35.2-85 35.2z"},child:[]}]})(t)}function sV(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"},child:[]}]})(t)}function dR(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 136c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0 240c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0-120c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40z"},child:[]}]})(t)}function oV(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 388c-72.597 0-132-59.405-132-132 0-72.601 59.403-132 132-132 36.3 0 69.299 15.4 92.406 39.601L278 234h154V80l-51.698 51.702C348.406 99.798 304.406 80 256 80c-96.797 0-176 79.203-176 176s78.094 176 176 176c81.045 0 148.287-54.134 169.401-128H378.85c-18.745 49.561-67.138 84-122.85 84z"},child:[]}]})(t)}function aV(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M413.967 276.8c1.06-6.235 1.06-13.518 1.06-20.8s-1.06-13.518-1.06-20.8l44.667-34.318c4.26-3.118 5.319-8.317 2.13-13.518L418.215 115.6c-2.129-4.164-8.507-6.235-12.767-4.164l-53.186 20.801c-10.638-8.318-23.394-15.601-36.16-20.801l-7.448-55.117c-1.06-4.154-5.319-8.318-10.638-8.318h-85.098c-5.318 0-9.577 4.164-10.637 8.318l-8.508 55.117c-12.767 5.2-24.464 12.482-36.171 20.801l-53.186-20.801c-5.319-2.071-10.638 0-12.767 4.164L49.1 187.365c-2.119 4.153-1.061 10.399 2.129 13.518L96.97 235.2c0 7.282-1.06 13.518-1.06 20.8s1.06 13.518 1.06 20.8l-44.668 34.318c-4.26 3.118-5.318 8.317-2.13 13.518L92.721 396.4c2.13 4.164 8.508 6.235 12.767 4.164l53.187-20.801c10.637 8.318 23.394 15.601 36.16 20.801l8.508 55.117c1.069 5.2 5.318 8.318 10.637 8.318h85.098c5.319 0 9.578-4.164 10.638-8.318l8.518-55.117c12.757-5.2 24.464-12.482 36.16-20.801l53.187 20.801c5.318 2.071 10.637 0 12.767-4.164l42.549-71.765c2.129-4.153 1.06-10.399-2.13-13.518l-46.8-34.317zm-158.499 52c-41.489 0-74.46-32.235-74.46-72.8s32.971-72.8 74.46-72.8 74.461 32.235 74.461 72.8-32.972 72.8-74.461 72.8z"},child:[]}]})(t)}function lV(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 372.686L380.83 448l-33.021-142.066L458 210.409l-145.267-12.475L256 64l-56.743 133.934L54 210.409l110.192 95.525L131.161 448z"},child:[]}]})(t)}function uV(t){return Oe({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(t)}function cV(t){return Oe({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:"currentColor"},child:[]}]})(t)}function hV(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Question"},child:[{tag:"g",attr:{},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M11.411,12.459a1.547,1.547,0,0,1,.341-.6,2.644,2.644,0,0,1,.535-.417,2.2,2.2,0,0,0,.363-.286,1.2,1.2,0,0,0,.256-.363A1.084,1.084,0,0,0,13,10.341a.923.923,0,0,0-.142-.517.938.938,0,0,0-.374-.338,1.123,1.123,0,0,0-.519-.119,1.173,1.173,0,0,0-.495.107.934.934,0,0,0-.389.335.884.884,0,0,0-.111.224.516.516,0,0,1-.483.359h0a.506.506,0,0,1-.479-.675,1.661,1.661,0,0,1,.178-.349,1.8,1.8,0,0,1,.748-.634,2.437,2.437,0,0,1,1.031-.215,2.4,2.4,0,0,1,1.082.231,1.737,1.737,0,0,1,.721.641,1.772,1.772,0,0,1,.257.96,1.841,1.841,0,0,1-.118.678,1.685,1.685,0,0,1-.334.536,2.289,2.289,0,0,1-.52.417,2.277,2.277,0,0,0-.462.369,1.113,1.113,0,0,0-.256.455,2.344,2.344,0,0,0-.045.283.487.487,0,0,1-.483.429h0a.484.484,0,0,1-.483-.531A2.931,2.931,0,0,1,11.411,12.459Z"},child:[]},{tag:"circle",attr:{cx:"11.793",cy:"14.891",r:"0.587"},child:[]}]},{tag:"path",attr:{d:"M12,21.931A9.934,9.934,0,1,1,21.934,12,9.945,9.945,0,0,1,12,21.931ZM12,3.064A8.934,8.934,0,1,0,20.934,12,8.943,8.943,0,0,0,12,3.064Z"},child:[]}]}]}]})(t)}function dV(t){return Oe({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M76,60A16,16,0,1,1,60,44,16,16,0,0,1,76,60Zm52-16a16,16,0,1,0,16,16A16,16,0,0,0,128,44Zm68,32a16,16,0,1,0-16-16A16,16,0,0,0,196,76ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm68,0a16,16,0,1,0,16,16A16,16,0,0,0,128,112Zm68,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112ZM60,180a16,16,0,1,0,16,16A16,16,0,0,0,60,180Zm68,0a16,16,0,1,0,16,16A16,16,0,0,0,128,180Zm68,0a16,16,0,1,0,16,16A16,16,0,0,0,196,180Z"},child:[]}]})(t)}function Da(){return Da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Da.apply(null,arguments)}var Ll=function(t){return t&&t.Math===Math&&t},sn=Ll(typeof globalThis=="object"&&globalThis)||Ll(typeof window=="object"&&window)||Ll(typeof self=="object"&&self)||Ll(typeof sh=="object"&&sh)||Ll(typeof sh=="object"&&sh)||function(){return this}()||Function("return this")(),lt=function(t){try{return!!t()}catch{return!0}},fV=lt,fc=!fV(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),pV=fc,fR=Function.prototype,eT=fR.apply,tT=fR.call,Gf=typeof Reflect=="object"&&Reflect.apply||(pV?tT.bind(eT):function(){return tT.apply(eT,arguments)}),pR=fc,mR=Function.prototype,zv=mR.call,mV=pR&&mR.bind.bind(zv,zv),ut=pR?mV:function(t){return function(){return zv.apply(t,arguments)}},gR=ut,gV=gR({}.toString),vV=gR("".slice),Es=function(t){return vV(gV(t),8,-1)},yV=Es,_V=ut,vR=function(t){if(yV(t)==="Function")return _V(t)},Fm=typeof document=="object"&&document.all,Mn=typeof Fm>"u"&&Fm!==void 0?function(t){return typeof t=="function"||t===Fm}:function(t){return typeof t=="function"},pc={},wV=lt,Ln=!wV(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),EV=fc,Sh=Function.prototype.call,Ts=EV?Sh.bind(Sh):function(){return Sh.apply(Sh,arguments)},qf={},yR={}.propertyIsEnumerable,_R=Object.getOwnPropertyDescriptor,TV=_R&&!yR.call({1:2},1);qf.f=TV?function(e){var n=_R(this,e);return!!n&&n.enumerable}:yR;var Qf=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},SV=ut,IV=lt,PV=Es,$m=Object,CV=SV("".split),Yf=IV(function(){return!$m("z").propertyIsEnumerable(0)})?function(t){return PV(t)==="String"?CV(t,""):$m(t)}:$m,wR=function(t){return t==null},AV=wR,RV=TypeError,mc=function(t){if(AV(t))throw new RV("Can't call method on "+t);return t},bV=Yf,xV=mc,wi=function(t){return bV(xV(t))},kV=Mn,jr=function(t){return typeof t=="object"?t!==null:kV(t)},wn={},jm=wn,Um=sn,OV=Mn,nT=function(t){return OV(t)?t:void 0},Ss=function(t,e){return arguments.length<2?nT(jm[t])||nT(Um[t]):jm[t]&&jm[t][e]||Um[t]&&Um[t][e]},DV=ut,wo=DV({}.isPrototypeOf),NV=sn,rT=NV.navigator,iT=rT&&rT.userAgent,ER=iT?String(iT):"",TR=sn,Bm=ER,sT=TR.process,oT=TR.Deno,aT=sT&&sT.versions||oT&&oT.version,lT=aT&&aT.v8,ar,Bd;lT&&(ar=lT.split("."),Bd=ar[0]>0&&ar[0]<4?1:+(ar[0]+ar[1]));!Bd&&Bm&&(ar=Bm.match(/Edge\/(\d+)/),(!ar||ar[1]>=74)&&(ar=Bm.match(/Chrome\/(\d+)/),ar&&(Bd=+ar[1])));var Xf=Bd,uT=Xf,MV=lt,LV=sn,VV=LV.String,tl=!!Object.getOwnPropertySymbols&&!MV(function(){var t=Symbol("symbol detection");return!VV(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&uT&&uT<41}),FV=tl,SR=FV&&!Symbol.sham&&typeof Symbol.iterator=="symbol",$V=Ss,jV=Mn,UV=wo,BV=SR,zV=Object,Jf=BV?function(t){return typeof t=="symbol"}:function(t){var e=$V("Symbol");return jV(e)&&UV(e.prototype,zV(t))},HV=String,e1=function(t){try{return HV(t)}catch{return"Object"}},WV=Mn,KV=e1,GV=TypeError,Zf=function(t){if(WV(t))return t;throw new GV(KV(t)+" is not a function")},qV=Zf,QV=wR,YV=function(t,e){var n=t[e];return QV(n)?void 0:qV(n)},zm=Ts,Hm=Mn,Wm=jr,XV=TypeError,JV=function(t,e){var n,r;if(e==="string"&&Hm(n=t.toString)&&!Wm(r=zm(n,t))||Hm(n=t.valueOf)&&!Wm(r=zm(n,t))||e!=="string"&&Hm(n=t.toString)&&!Wm(r=zm(n,t)))return r;throw new XV("Can't convert object to primitive value")},IR={exports:{}},cT=sn,ZV=Object.defineProperty,e3=function(t,e){try{ZV(cT,t,{value:e,configurable:!0,writable:!0})}catch{cT[t]=e}return e},t3=sn,n3=e3,hT="__core-js_shared__",dT=IR.exports=t3[hT]||n3(hT,{});(dT.versions||(dT.versions=[])).push({version:"3.39.0",mode:"pure",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"});var t1=IR.exports,fT=t1,gc=function(t,e){return fT[t]||(fT[t]=e||{})},r3=mc,i3=Object,Is=function(t){return i3(r3(t))},s3=ut,o3=Is,a3=s3({}.hasOwnProperty),vr=Object.hasOwn||function(e,n){return a3(o3(e),n)},l3=ut,u3=0,c3=Math.random(),h3=l3(1 .toString),n1=function(t){return"Symbol("+(t===void 0?"":t)+")_"+h3(++u3+c3,36)},d3=sn,f3=gc,pT=vr,p3=n1,m3=tl,g3=SR,la=d3.Symbol,Km=f3("wks"),v3=g3?la.for||la:la&&la.withoutSetter||p3,yr=function(t){return pT(Km,t)||(Km[t]=m3&&pT(la,t)?la[t]:v3("Symbol."+t)),Km[t]},y3=Ts,mT=jr,gT=Jf,_3=YV,w3=JV,E3=yr,T3=TypeError,S3=E3("toPrimitive"),PR=function(t,e){if(!mT(t)||gT(t))return t;var n=_3(t,S3),r;if(n){if(e===void 0&&(e="default"),r=y3(n,t,e),!mT(r)||gT(r))return r;throw new T3("Can't convert object to primitive value")}return e===void 0&&(e="number"),w3(t,e)},I3=PR,P3=Jf,r1=function(t){var e=I3(t,"string");return P3(e)?e:e+""},C3=sn,vT=jr,Hv=C3.document,A3=vT(Hv)&&vT(Hv.createElement),CR=function(t){return A3?Hv.createElement(t):{}},R3=Ln,b3=lt,x3=CR,AR=!R3&&!b3(function(){return Object.defineProperty(x3("div"),"a",{get:function(){return 7}}).a!==7}),k3=Ln,O3=Ts,D3=qf,N3=Qf,M3=wi,L3=r1,V3=vr,F3=AR,yT=Object.getOwnPropertyDescriptor;pc.f=k3?yT:function(e,n){if(e=M3(e),n=L3(n),F3)try{return yT(e,n)}catch{}if(V3(e,n))return N3(!O3(D3.f,e,n),e[n])};var $3=lt,j3=Mn,U3=/#|\.prototype\./,vc=function(t,e){var n=z3[B3(t)];return n===W3?!0:n===H3?!1:j3(e)?$3(e):!!e},B3=vc.normalize=function(t){return String(t).replace(U3,".").toLowerCase()},z3=vc.data={},H3=vc.NATIVE="N",W3=vc.POLYFILL="P",K3=vc,_T=vR,G3=Zf,q3=fc,Q3=_T(_T.bind),RR=function(t,e){return G3(t),e===void 0?t:q3?Q3(t,e):function(){return t.apply(e,arguments)}},Ei={},Y3=Ln,X3=lt,bR=Y3&&X3(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),J3=jr,Z3=String,e5=TypeError,nl=function(t){if(J3(t))return t;throw new e5(Z3(t)+" is not an object")},t5=Ln,n5=AR,r5=bR,Ih=nl,wT=r1,i5=TypeError,Gm=Object.defineProperty,s5=Object.getOwnPropertyDescriptor,qm="enumerable",Qm="configurable",Ym="writable";Ei.f=t5?r5?function(e,n,r){if(Ih(e),n=wT(n),Ih(r),typeof e=="function"&&n==="prototype"&&"value"in r&&Ym in r&&!r[Ym]){var i=s5(e,n);i&&i[Ym]&&(e[n]=r.value,r={configurable:Qm in r?r[Qm]:i[Qm],enumerable:qm in r?r[qm]:i[qm],writable:!1})}return Gm(e,n,r)}:Gm:function(e,n,r){if(Ih(e),n=wT(n),Ih(r),n5)try{return Gm(e,n,r)}catch{}if("get"in r||"set"in r)throw new i5("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var o5=Ln,a5=Ei,l5=Qf,ep=o5?function(t,e,n){return a5.f(t,e,l5(1,n))}:function(t,e,n){return t[e]=n,t},Vl=sn,u5=Gf,c5=vR,h5=Mn,d5=pc.f,f5=K3,jo=wn,p5=RR,Uo=ep,ET=vr,m5=function(t){var e=function(n,r,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,i)}return u5(t,this,arguments)};return e.prototype=t.prototype,e},Et=function(t,e){var n=t.target,r=t.global,i=t.stat,s=t.proto,o=r?Vl:i?Vl[n]:Vl[n]&&Vl[n].prototype,a=r?jo:jo[n]||Uo(jo,n,{})[n],l=a.prototype,c,h,d,f,m,w,T,P,_;for(f in e)c=f5(r?f:n+(i?".":"#")+f,t.forced),h=!c&&o&&ET(o,f),w=a[f],h&&(t.dontCallGetSet?(_=d5(o,f),T=_&&_.value):T=o[f]),m=h&&T?T:e[f],!(!c&&!s&&typeof w==typeof m)&&(t.bind&&h?P=p5(m,Vl):t.wrap&&h?P=m5(m):s&&h5(m)?P=c5(m):P=m,(t.sham||m&&m.sham||w&&w.sham)&&Uo(P,"sham",!0),Uo(a,f,P),s&&(d=n+"Prototype",ET(jo,d)||Uo(jo,d,{}),Uo(jo[d],f,m),t.real&&l&&(c||!l[f])&&Uo(l,f,m)))},g5=Math.ceil,v5=Math.floor,y5=Math.trunc||function(e){var n=+e;return(n>0?v5:g5)(n)},_5=y5,i1=function(t){var e=+t;return e!==e||e===0?0:_5(e)},w5=i1,E5=Math.max,T5=Math.min,xR=function(t,e){var n=w5(t);return n<0?E5(n+e,0):T5(n,e)},S5=i1,I5=Math.min,kR=function(t){var e=S5(t);return e>0?I5(e,9007199254740991):0},P5=kR,yc=function(t){return P5(t.length)},C5=wi,A5=xR,R5=yc,TT=function(t){return function(e,n,r){var i=C5(e),s=R5(i);if(s===0)return!t&&-1;var o=A5(r,s),a;if(t&&n!==n){for(;s>o;)if(a=i[o++],a!==a)return!0}else for(;s>o;o++)if((t||o in i)&&i[o]===n)return t||o||0;return!t&&-1}},b5={includes:TT(!0),indexOf:TT(!1)},tp={},x5=ut,Xm=vr,k5=wi,O5=b5.indexOf,D5=tp,ST=x5([].push),OR=function(t,e){var n=k5(t),r=0,i=[],s;for(s in n)!Xm(D5,s)&&Xm(n,s)&&ST(i,s);for(;e.length>r;)Xm(n,s=e[r++])&&(~O5(i,s)||ST(i,s));return i},s1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],N5=OR,M5=s1,np=Object.keys||function(e){return N5(e,M5)},_c={};_c.f=Object.getOwnPropertySymbols;var IT=Ln,L5=ut,V5=Ts,F5=lt,Jm=np,$5=_c,j5=qf,U5=Is,B5=Yf,Bo=Object.assign,PT=Object.defineProperty,z5=L5([].concat),H5=!Bo||F5(function(){if(IT&&Bo({b:1},Bo(PT({},"a",{enumerable:!0,get:function(){PT(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(i){e[i]=i}),Bo({},t)[n]!==7||Jm(Bo({},e)).join("")!==r})?function(e,n){for(var r=U5(e),i=arguments.length,s=1,o=$5.f,a=j5.f;i>s;)for(var l=B5(arguments[s++]),c=o?z5(Jm(l),o(l)):Jm(l),h=c.length,d=0,f;h>d;)f=c[d++],(!IT||V5(a,l,f))&&(r[f]=l[f]);return r}:Bo,W5=Et,CT=H5;W5({target:"Object",stat:!0,arity:2,forced:Object.assign!==CT},{assign:CT});var K5=wn,G5=K5.Object.assign,q5=G5,Q5=q5;const Wv=at(Q5);function on(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Na(t){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(t)}function Y5(t,e){if(Na(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DR(t){var e=Y5(t,"string");return Na(e)=="symbol"?e:e+""}function X5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DR(r.key),r)}}function an(t,e,n){return e&&X5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var J5=yr,Z5=J5("toStringTag"),NR={};NR[Z5]="z";var o1=String(NR)==="[object z]",e6=o1,t6=Mn,ed=Es,n6=yr,r6=n6("toStringTag"),i6=Object,s6=ed(function(){return arguments}())==="Arguments",o6=function(t,e){try{return t[e]}catch{}},a1=e6?ed:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=o6(e=i6(t),r6))=="string"?n:s6?ed(e):(r=ed(e))==="Object"&&t6(e.callee)?"Arguments":r},a6=a1,l6=String,Eo=function(t){if(a6(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return l6(t)},u6=i1,c6=Eo,h6=mc,d6=RangeError,f6=function(e){var n=c6(h6(this)),r="",i=u6(e);if(i<0||i===1/0)throw new d6("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(n+=n))i&1&&(r+=n);return r},MR=ut,p6=kR,AT=Eo,m6=f6,g6=mc,v6=MR(m6),y6=MR("".slice),_6=Math.ceil,RT=function(t){return function(e,n,r){var i=AT(g6(e)),s=p6(n),o=i.length,a=r===void 0?" ":AT(r),l,c;return s<=o||a===""?i:(l=s-o,c=v6(a,_6(l/a.length)),c.length>l&&(c=y6(c,0,l)),t?i+c:c+i)}},w6={start:RT(!1),end:RT(!0)},Ps=ut,bT=lt,Ns=w6.start,E6=RangeError,T6=isFinite,S6=Math.abs,Ti=Date.prototype,Zm=Ti.toISOString,I6=Ps(Ti.getTime),P6=Ps(Ti.getUTCDate),C6=Ps(Ti.getUTCFullYear),A6=Ps(Ti.getUTCHours),R6=Ps(Ti.getUTCMilliseconds),b6=Ps(Ti.getUTCMinutes),x6=Ps(Ti.getUTCMonth),k6=Ps(Ti.getUTCSeconds),O6=bT(function(){return Zm.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!bT(function(){Zm.call(new Date(NaN))})?function(){if(!T6(I6(this)))throw new E6("Invalid time value");var e=this,n=C6(e),r=R6(e),i=n<0?"-":n>9999?"+":"";return i+Ns(S6(n),i?6:4,0)+"-"+Ns(x6(e)+1,2,0)+"-"+Ns(P6(e),2,0)+"T"+Ns(A6(e),2,0)+":"+Ns(b6(e),2,0)+":"+Ns(k6(e),2,0)+"."+Ns(r,3,0)+"Z"}:Zm,D6=Et,LR=Ts,N6=Is,M6=PR,L6=O6,V6=Es,F6=lt,$6=F6(function(){return new Date(NaN).toJSON()!==null||LR(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});D6({target:"Date",proto:!0,forced:$6},{toJSON:function(e){var n=N6(this),r=M6(n,"number");return typeof r=="number"&&!isFinite(r)?null:!("toISOString"in n)&&V6(n)==="Date"?LR(L6,n):n.toISOString()}});var j6=ut,rp=j6([].slice),U6=Es,ip=Array.isArray||function(e){return U6(e)==="Array"},B6=ut,xT=ip,z6=Mn,kT=Es,H6=Eo,OT=B6([].push),W6=function(t){if(z6(t))return t;if(xT(t)){for(var e=t.length,n=[],r=0;r<e;r++){var i=t[r];typeof i=="string"?OT(n,i):(typeof i=="number"||kT(i)==="Number"||kT(i)==="String")&&OT(n,H6(i))}var s=n.length,o=!0;return function(a,l){if(o)return o=!1,l;if(xT(this))return l;for(var c=0;c<s;c++)if(n[c]===a)return l}}},K6=Et,VR=Ss,FR=Gf,G6=Ts,wc=ut,$R=lt,DT=Mn,NT=Jf,jR=rp,q6=W6,Q6=tl,Y6=String,ts=VR("JSON","stringify"),Ph=wc(/./.exec),MT=wc("".charAt),X6=wc("".charCodeAt),J6=wc("".replace),Z6=wc(1 .toString),e9=/[\uD800-\uDFFF]/g,LT=/^[\uD800-\uDBFF]$/,VT=/^[\uDC00-\uDFFF]$/,FT=!Q6||$R(function(){var t=VR("Symbol")("stringify detection");return ts([t])!=="[null]"||ts({a:t})!=="{}"||ts(Object(t))!=="{}"}),$T=$R(function(){return ts("\uDF06\uD834")!=='"\\udf06\\ud834"'||ts("\uDEAD")!=='"\\udead"'}),t9=function(t,e){var n=jR(arguments),r=q6(e);if(!(!DT(r)&&(t===void 0||NT(t))))return n[1]=function(i,s){if(DT(r)&&(s=G6(r,this,Y6(i),s)),!NT(s))return s},FR(ts,null,n)},n9=function(t,e,n){var r=MT(n,e-1),i=MT(n,e+1);return Ph(LT,t)&&!Ph(VT,i)||Ph(VT,t)&&!Ph(LT,r)?"\\u"+Z6(X6(t,0),16):t};ts&&K6({target:"JSON",stat:!0,arity:3,forced:FT||$T},{stringify:function(e,n,r){var i=jR(arguments),s=FR(FT?t9:ts,null,i);return $T&&typeof s=="string"?J6(s,e9,n9):s}});var Kv=wn,r9=Gf;Kv.JSON||(Kv.JSON={stringify:JSON.stringify});var i9=function(e,n,r){return r9(Kv.JSON.stringify,null,arguments)},s9=i9,o9=s9;const a9=at(o9);var l9=ut,u9=Mn,Gv=t1,c9=l9(Function.toString);u9(Gv.inspectSource)||(Gv.inspectSource=function(t){return c9(t)});var h9=Gv.inspectSource,d9=ut,f9=lt,UR=Mn,p9=a1,m9=Ss,g9=h9,BR=function(){},zR=m9("Reflect","construct"),l1=/^\s*(?:class|function)\b/,v9=d9(l1.exec),y9=!l1.test(BR),Fl=function(e){if(!UR(e))return!1;try{return zR(BR,[],e),!0}catch{return!1}},HR=function(e){if(!UR(e))return!1;switch(p9(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return y9||!!v9(l1,g9(e))}catch{return!0}};HR.sham=!0;var u1=!zR||f9(function(){var t;return Fl(Fl.call)||!Fl(Object)||!Fl(function(){t=!0})||t})?HR:Fl,jT=ip,_9=u1,w9=jr,E9=yr,T9=E9("species"),UT=Array,S9=function(t){var e;return jT(t)&&(e=t.constructor,_9(e)&&(e===UT||jT(e.prototype))?e=void 0:w9(e)&&(e=e[T9],e===null&&(e=void 0))),e===void 0?UT:e},I9=S9,WR=function(t,e){return new(I9(t))(e===0?0:e)},P9=RR,C9=ut,A9=Yf,R9=Is,b9=yc,x9=WR,BT=C9([].push),ki=function(t){var e=t===1,n=t===2,r=t===3,i=t===4,s=t===6,o=t===7,a=t===5||s;return function(l,c,h,d){for(var f=R9(l),m=A9(f),w=b9(m),T=P9(c,h),P=0,_=d||x9,y=e?_(l,w):n||o?_(l,0):void 0,E,k;w>P;P++)if((a||P in m)&&(E=m[P],k=T(E,P,f),t))if(e)y[P]=k;else if(k)switch(t){case 3:return!0;case 5:return E;case 6:return P;case 2:BT(y,E)}else switch(t){case 4:return!1;case 7:BT(y,E)}return s?-1:r||i?i:y}},c1={forEach:ki(0),map:ki(1),filter:ki(2),some:ki(3),every:ki(4),find:ki(5),findIndex:ki(6),filterReject:ki(7)},k9=lt,O9=yr,D9=Xf,N9=O9("species"),sp=function(t){return D9>=51||!k9(function(){var e=[],n=e.constructor={};return n[N9]=function(){return{foo:1}},e[t](Boolean).foo!==1})},M9=Et,L9=c1.filter,V9=sp,F9=V9("filter");M9({target:"Array",proto:!0,forced:!F9},{filter:function(e){return L9(this,e,arguments.length>1?arguments[1]:void 0)}});var $9=sn,j9=wn,Ec=function(t,e){var n=j9[t+"Prototype"],r=n&&n[e];if(r)return r;var i=$9[t],s=i&&i.prototype;return s&&s[e]},U9=Ec,B9=U9("Array","filter"),z9=wo,H9=B9,eg=Array.prototype,W9=function(t){var e=t.filter;return t===eg||z9(eg,t)&&e===eg.filter?H9:e},K9=W9,G9=K9;const op=at(G9);var q9=Ln,Q9=Ei,Y9=Qf,h1=function(t,e,n){q9?Q9.f(t,e,Y9(0,n)):t[e]=n},X9=Et,zT=ip,J9=u1,Z9=jr,HT=xR,eF=yc,tF=wi,nF=h1,rF=yr,iF=sp,sF=rp,oF=iF("slice"),aF=rF("species"),tg=Array,lF=Math.max;X9({target:"Array",proto:!0,forced:!oF},{slice:function(e,n){var r=tF(this),i=eF(r),s=HT(e,i),o=HT(n===void 0?i:n,i),a,l,c;if(zT(r)&&(a=r.constructor,J9(a)&&(a===tg||zT(a.prototype))?a=void 0:Z9(a)&&(a=a[aF],a===null&&(a=void 0)),a===tg||a===void 0))return sF(r,s,o);for(l=new(a===void 0?tg:a)(lF(o-s,0)),c=0;s<o;s++,c++)s in r&&nF(l,c,r[s]);return l.length=c,l}});var uF=Ec,cF=uF("Array","slice"),hF=wo,dF=cF,ng=Array.prototype,fF=function(t){var e=t.slice;return t===ng||hF(ng,t)&&e===ng.slice?dF:e},pF=fF,mF=pF;const KR=at(mF);var gF="react-avatar/",rg="failing",WT=function(){try{return"localStorage"in window&&window.localStorage}catch{return!1}}(),zd=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};on(this,t);var n=e.cachePrefix,r=n===void 0?gF:n,i=e.sourceTTL,s=i===void 0?7*24*3600*1e3:i,o=e.sourceSize,a=o===void 0?20:o;this.cachePrefix=r,this.sourceTTL=s,this.sourceSize=a}return an(t,[{key:"set",value:function(n,r){if(WT){r=a9(r);try{localStorage.setItem(this.cachePrefix+n,r)}catch(i){console.error(i)}}}},{key:"get",value:function(n){if(!WT)return null;var r=localStorage.getItem(this.cachePrefix+n);return r?JSON.parse(r):null}},{key:"sourceFailed",value:function(n){var r=this.get(rg)||[];return r=op(r).call(r,function(i){var s=i.expires>0&&i.expires<Date.now(),o=i===n||i.url==n;return!s&&!o}),r.unshift({url:n,expires:Date.now()+this.sourceTTL}),r=KR(r).call(r,0,this.sourceSize-1),this.set(rg,r)}},{key:"hasSourceFailedBefore",value:function(n){var r=this.get(rg)||[];return r.some(function(i){var s=i.expires>0&&i.expires<Date.now(),o=i===n||i.url==n;return o&&!s})}}]),t}();const vF=new zd;var GR=ut,yF=Zf,_F=jr,wF=vr,KT=rp,EF=fc,qR=Function,TF=GR([].concat),SF=GR([].join),ig={},IF=function(t,e,n){if(!wF(ig,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";ig[e]=qR("C,a","return new C("+SF(r,",")+")")}return ig[e](t,n)},PF=EF?qR.bind:function(e){var n=yF(this),r=n.prototype,i=KT(arguments,1),s=function(){var a=TF(i,KT(arguments));return this instanceof s?IF(n,a.length,a):n.apply(e,a)};return _F(r)&&(s.prototype=r),s},CF=u1,AF=e1,RF=TypeError,bF=function(t){if(CF(t))return t;throw new RF(AF(t)+" is not a constructor")},ap={},xF=Ln,kF=bR,OF=Ei,DF=nl,NF=wi,MF=np;ap.f=xF&&!kF?Object.defineProperties:function(e,n){DF(e);for(var r=NF(n),i=MF(n),s=i.length,o=0,a;s>o;)OF.f(e,a=i[o++],r[a]);return e};var LF=Ss,VF=LF("document","documentElement"),FF=gc,$F=n1,GT=FF("keys"),d1=function(t){return GT[t]||(GT[t]=$F(t))},jF=nl,UF=ap,qT=s1,BF=tp,zF=VF,HF=CR,WF=d1,QT=">",YT="<",qv="prototype",Qv="script",QR=WF("IE_PROTO"),sg=function(){},YR=function(t){return YT+Qv+QT+t+YT+"/"+Qv+QT},XT=function(t){t.write(YR("")),t.close();var e=t.parentWindow.Object;return t=null,e},KF=function(){var t=HF("iframe"),e="java"+Qv+":",n;return t.style.display="none",zF.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(YR("document.F=Object")),n.close(),n.F},Ch,td=function(){try{Ch=new ActiveXObject("htmlfile")}catch{}td=typeof document<"u"?document.domain&&Ch?XT(Ch):KF():XT(Ch);for(var t=qT.length;t--;)delete td[qv][qT[t]];return td()};BF[QR]=!0;var XR=Object.create||function(e,n){var r;return e!==null?(sg[qv]=jF(e),r=new sg,sg[qv]=null,r[QR]=e):r=td(),n===void 0?r:UF.f(r,n)},GF=Et,qF=Ss,og=Gf,QF=PF,JT=bF,YF=nl,ZT=jr,XF=XR,JR=lt,f1=qF("Reflect","construct"),JF=Object.prototype,ZF=[].push,ZR=JR(function(){function t(){}return!(f1(function(){},[],t)instanceof t)}),eb=!JR(function(){f1(function(){})}),eS=ZR||eb;GF({target:"Reflect",stat:!0,forced:eS,sham:eS},{construct:function(e,n){JT(e),YF(n);var r=arguments.length<3?e:JT(arguments[2]);if(eb&&!ZR)return f1(e,n,r);if(e===r){switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3])}var i=[null];return og(ZF,i,n),new(og(QF,e,i))}var s=r.prototype,o=XF(ZT(s)?s:JF),a=og(e,o,n);return ZT(a)?a:o}});var e$=wn,t$=e$.Reflect.construct,n$=t$,r$=n$;const gt=at(r$);function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Yv(t,e)}function Tc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function Hd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sc(t,e){if(e&&(Na(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hd(t)}function Yn(t){return Yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yn(t)}function ae(t,e,n){return(e=DR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i$=Et,s$=Is,tb=np,o$=lt,a$=o$(function(){tb(1)});i$({target:"Object",stat:!0,forced:a$},{keys:function(e){return tb(s$(e))}});var l$=wn,u$=l$.Object.keys,c$=u$,h$=c$;const p1=at(h$);var nb={exports:{}},d$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",f$=d$,p$=f$;function rb(){}function ib(){}ib.resetWarningCache=rb;var m$=function(){function t(r,i,s,o,a,l){if(l!==p$){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ib,resetWarningCache:rb};return n.PropTypes=n,n};nb.exports=m$();var m1=nb.exports;const q=at(m1);function g$(t){if(Array.isArray(t))return t}function v$(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function sb(t,e){if(t){if(typeof t=="string")return Xv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xv(t,e):void 0}}function y$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _$(t,e){return g$(t)||v$(t,e)||sb(t,e)||y$()}function w$(t){if(Array.isArray(t))return Xv(t)}function E$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S$(t){return w$(t)||E$(t)||sb(t)||T$()}var I$=lt,P$=function(t,e){var n=[][t];return!!n&&I$(function(){n.call(null,e||function(){return 1},1)})},C$=Et,A$=c1.map,R$=sp,b$=R$("map");C$({target:"Array",proto:!0,forced:!b$},{map:function(e){return A$(this,e,arguments.length>1?arguments[1]:void 0)}});var x$=Ec,k$=x$("Array","map"),O$=wo,D$=k$,ag=Array.prototype,N$=function(t){var e=t.map;return t===ag||O$(ag,t)&&e===ag.map?D$:e},M$=N$,L$=M$;const ob=at(L$);var V$=Zf,F$=Is,$$=Yf,j$=yc,tS=TypeError,nS="Reduce of empty array with no initial value",rS=function(t){return function(e,n,r,i){var s=F$(e),o=$$(s),a=j$(s);if(V$(n),a===0&&r<2)throw new tS(nS);var l=t?a-1:0,c=t?-1:1;if(r<2)for(;;){if(l in o){i=o[l],l+=c;break}if(l+=c,t?l<0:a<=l)throw new tS(nS)}for(;t?l>=0:a>l;l+=c)l in o&&(i=n(i,o[l],l,s));return i}},U$={left:rS(!1),right:rS(!0)},$l=sn,B$=ER,z$=Es,Ah=function(t){return B$.slice(0,t.length)===t},H$=function(){return Ah("Bun/")?"BUN":Ah("Cloudflare-Workers")?"CLOUDFLARE":Ah("Deno/")?"DENO":Ah("Node.js/")?"NODE":$l.Bun&&typeof Bun.version=="string"?"BUN":$l.Deno&&typeof Deno.version=="object"?"DENO":z$($l.process)==="process"?"NODE":$l.window&&$l.document?"BROWSER":"REST"}(),W$=H$,K$=W$==="NODE",G$=Et,q$=U$.left,Q$=P$,iS=Xf,Y$=K$,X$=!Y$&&iS>79&&iS<83,J$=X$||!Q$("reduce");G$({target:"Array",proto:!0,forced:J$},{reduce:function(e){var n=arguments.length;return q$(this,e,n,n>1?arguments[1]:void 0)}});var Z$=Ec,ej=Z$("Array","reduce"),tj=wo,nj=ej,lg=Array.prototype,rj=function(t){var e=t.reduce;return t===lg||tj(lg,t)&&e===lg.reduce?nj:e},ij=rj,sj=ij;const ab=at(sj);var lb=`	
\v\f\r                　\u2028\u2029\uFEFF`,oj=ut,aj=mc,lj=Eo,Jv=lb,sS=oj("".replace),uj=RegExp("^["+Jv+"]+"),cj=RegExp("(^|[^"+Jv+"])["+Jv+"]+$"),ug=function(t){return function(e){var n=lj(aj(e));return t&1&&(n=sS(n,uj,"")),t&2&&(n=sS(n,cj,"$1")),n}},hj={start:ug(1),end:ug(2),trim:ug(3)},ub=sn,dj=lt,fj=ut,pj=Eo,mj=hj.trim,gj=lb,vj=fj("".charAt),Wd=ub.parseFloat,oS=ub.Symbol,aS=oS&&oS.iterator,yj=1/Wd(gj+"-0")!==-1/0||aS&&!dj(function(){Wd(Object(aS))}),_j=yj?function(e){var n=mj(pj(e)),r=Wd(n);return r===0&&vj(n,0)==="-"?-0:r}:Wd,wj=Et,lS=_j;wj({global:!0,forced:parseFloat!==lS},{parseFloat:lS});var Ej=wn,Tj=Ej.parseFloat,Sj=Tj,Ij=Sj;const Pj=at(Ij);var Cj=function(){var t;return!!(typeof window<"u"&&window!==null&&(t="(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)",window.devicePixelRatio>1.25||window.matchMedia&&window.matchMedia(t).matches))};const Aj=at(Cj);var Rj=Aj(),cb=["#A62A21","#7e3794","#0B51C1","#3A6024","#A81563","#B3003C"],bj=/^([-+]?(?:\d+(?:\.\d+)?|\.\d+))([a-z]{2,4}|%)?$/;function xj(t,e){for(var n,r=ob(n=S$(t)).call(n,function(c){return c.charCodeAt(0)}),i=r.length,s=i%(e-1)+1,o=ab(r).call(r,function(c,h){return c+h})%e,a=r[0]%e,l=0;l<i;l++)a=(s*a+o)%e;return a}function g1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cb;if(!t)return"transparent";var n=xj(t,e.length);return e[n]}function lp(t){t=""+t;var e=bj.exec(t)||[],n=_$(e,3),r=n[1],i=r===void 0?0:r,s=n[2],o=s===void 0?"px":s;return{value:Pj(i),str:i+o,unit:o}}function up(t){return t=lp(t),isNaN(t.value)?t=512:t.unit==="px"?t=t.value:t.value===0?t=0:t=512,Rj&&(t=t*2),t}function hb(t,e){var n,r,i,s=e.maxInitials;return KR(n=op(r=ob(i=t.split(/\s/)).call(i,function(o){return o.substring(0,1).toUpperCase()})).call(r,function(o){return!!o})).call(n,0,s).join("").toUpperCase()}var Rh={};function kj(t,e){if(Rh[e]){Rh[e].push(t);return}var n=Rh[e]=[t];setTimeout(function(){delete Rh[e],n.forEach(function(r){return r()})},e)}function Zv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];if(s||s==="")return s;if(s===!1||s===null)return null}}function v1(t){if(t===!0)return"100%";if(t!==!1)return t}function Oj(t){var e=Dj();return function(){var r=Yn(t),i;if(e){var s=Yn(this).constructor;i=gt(r,arguments,s)}else i=r.apply(this,arguments);return Sc(this,i)}}function Dj(){if(typeof Reflect>"u"||!gt||gt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(gt(Boolean,[],function(){})),!0}catch{return!1}}var ey={cache:vF,colors:cb,initials:hb,avatarRedirectUrl:null},Nj=p1(ey),y1=Te.createContext&&Te.createContext(),cp=!y1,Mj=cp?null:y1.Consumer,Lj=Te.forwardRef||function(t){return t},ls=function(t){Tc(n,t);var e=Oj(n);function n(){return on(this,n),e.apply(this,arguments)}return an(n,[{key:"_getContext",value:function(){var i=this,s={};return Nj.forEach(function(o){typeof i.props[o]<"u"&&(s[o]=i.props[o])}),s}},{key:"render",value:function(){var i=this.props.children;return cp?Te.Children.only(i):Te.createElement(y1.Provider,{value:this._getContext()},Te.Children.only(i))}}]),n}(Te.Component);ae(ls,"displayName","ConfigProvider");ae(ls,"propTypes",{cache:q.object,colors:q.arrayOf(q.string),initials:q.func,avatarRedirectUrl:q.string,children:q.node});var db=function(e){function n(r,i){if(cp){var s=i&&i.reactAvatar;return Te.createElement(e,Da({},ey,s,r))}return Te.createElement(Mj,null,function(o){return Te.createElement(e,Da({ref:i},ey,o,r))})}return n.contextTypes=ls.childContextTypes,Lj(n)};cp&&(ls.childContextTypes={reactAvatar:q.object},ls.prototype.getChildContext=function(){return{reactAvatar:this._getContext()}});var hp={},Vj=OR,Fj=s1,$j=Fj.concat("length","prototype");hp.f=Object.getOwnPropertyNames||function(e){return Vj(e,$j)};var fb={},jj=Es,Uj=wi,pb=hp.f,Bj=rp,mb=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],zj=function(t){try{return pb(t)}catch{return Bj(mb)}};fb.f=function(e){return mb&&jj(e)==="Window"?zj(e):pb(Uj(e))};var Hj=ep,gb=function(t,e,n,r){return r&&r.enumerable?t[e]=n:Hj(t,e,n),t},Wj=Ei,Kj=function(t,e,n){return Wj.f(t,e,n)},_1={},Gj=yr;_1.f=Gj;var uS=wn,qj=vr,Qj=_1,Yj=Ei.f,Xj=function(t){var e=uS.Symbol||(uS.Symbol={});qj(e,t)||Yj(e,t,{value:Qj.f(t)})},Jj=Ts,Zj=Ss,e8=yr,t8=gb,n8=function(){var t=Zj("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,r=e8("toPrimitive");e&&!e[r]&&t8(e,r,function(i){return Jj(n,this)},{arity:1})},r8=o1,i8=a1,s8=r8?{}.toString:function(){return"[object "+i8(this)+"]"},o8=o1,a8=Ei.f,l8=ep,u8=vr,c8=s8,h8=yr,cS=h8("toStringTag"),d8=function(t,e,n,r){var i=n?t:t&&t.prototype;i&&(u8(i,cS)||a8(i,cS,{configurable:!0,value:e}),r&&!o8&&l8(i,"toString",c8))},f8=sn,p8=Mn,hS=f8.WeakMap,m8=p8(hS)&&/native code/.test(String(hS)),g8=m8,vb=sn,v8=jr,y8=ep,cg=vr,hg=t1,_8=d1,w8=tp,dS="Object already initialized",ty=vb.TypeError,E8=vb.WeakMap,Kd,$u,Gd,T8=function(t){return Gd(t)?$u(t):Kd(t,{})},S8=function(t){return function(e){var n;if(!v8(e)||(n=$u(e)).type!==t)throw new ty("Incompatible receiver, "+t+" required");return n}};if(g8||hg.state){var Pr=hg.state||(hg.state=new E8);Pr.get=Pr.get,Pr.has=Pr.has,Pr.set=Pr.set,Kd=function(t,e){if(Pr.has(t))throw new ty(dS);return e.facade=t,Pr.set(t,e),e},$u=function(t){return Pr.get(t)||{}},Gd=function(t){return Pr.has(t)}}else{var zo=_8("state");w8[zo]=!0,Kd=function(t,e){if(cg(t,zo))throw new ty(dS);return e.facade=t,y8(t,zo,e),e},$u=function(t){return cg(t,zo)?t[zo]:{}},Gd=function(t){return cg(t,zo)}}var I8={set:Kd,get:$u,has:Gd,enforce:T8,getterFor:S8},dp=Et,Ic=sn,w1=Ts,P8=ut,Ma=Ln,La=tl,C8=lt,It=vr,A8=wo,ny=nl,fp=wi,E1=r1,R8=Eo,ry=Qf,Va=XR,yb=np,b8=hp,_b=fb,x8=_c,wb=pc,Eb=Ei,k8=ap,Tb=qf,fS=gb,O8=Kj,T1=gc,D8=d1,Sb=tp,pS=n1,N8=yr,M8=_1,L8=Xj,V8=n8,F8=d8,Ib=I8,pp=c1.forEach,pn=D8("hidden"),mp="Symbol",ju="prototype",$8=Ib.set,mS=Ib.getterFor(mp),ur=Object[ju],eo=Ic.Symbol,ql=eo&&eo[ju],j8=Ic.RangeError,U8=Ic.TypeError,dg=Ic.QObject,Pb=wb.f,to=Eb.f,Cb=_b.f,B8=Tb.f,Ab=P8([].push),fi=T1("symbols"),Pc=T1("op-symbols"),z8=T1("wks"),iy=!dg||!dg[ju]||!dg[ju].findChild,Rb=function(t,e,n){var r=Pb(ur,e);r&&delete ur[e],to(t,e,n),r&&t!==ur&&to(ur,e,r)},sy=Ma&&C8(function(){return Va(to({},"a",{get:function(){return to(this,"a",{value:7}).a}})).a!==7})?Rb:to,fg=function(t,e){var n=fi[t]=Va(ql);return $8(n,{type:mp,tag:t,description:e}),Ma||(n.description=e),n},gp=function(e,n,r){e===ur&&gp(Pc,n,r),ny(e);var i=E1(n);return ny(r),It(fi,i)?(r.enumerable?(It(e,pn)&&e[pn][i]&&(e[pn][i]=!1),r=Va(r,{enumerable:ry(0,!1)})):(It(e,pn)||to(e,pn,ry(1,Va(null))),e[pn][i]=!0),sy(e,i,r)):to(e,i,r)},S1=function(e,n){ny(e);var r=fp(n),i=yb(r).concat(Ob(r));return pp(i,function(s){(!Ma||w1(bb,r,s))&&gp(e,s,r[s])}),e},H8=function(e,n){return n===void 0?Va(e):S1(Va(e),n)},bb=function(e){var n=E1(e),r=w1(B8,this,n);return this===ur&&It(fi,n)&&!It(Pc,n)?!1:r||!It(this,n)||!It(fi,n)||It(this,pn)&&this[pn][n]?r:!0},xb=function(e,n){var r=fp(e),i=E1(n);if(!(r===ur&&It(fi,i)&&!It(Pc,i))){var s=Pb(r,i);return s&&It(fi,i)&&!(It(r,pn)&&r[pn][i])&&(s.enumerable=!0),s}},kb=function(e){var n=Cb(fp(e)),r=[];return pp(n,function(i){!It(fi,i)&&!It(Sb,i)&&Ab(r,i)}),r},Ob=function(t){var e=t===ur,n=Cb(e?Pc:fp(t)),r=[];return pp(n,function(i){It(fi,i)&&(!e||It(ur,i))&&Ab(r,fi[i])}),r};La||(eo=function(){if(A8(ql,this))throw new U8("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:R8(arguments[0]),n=pS(e),r=function(i){var s=this===void 0?Ic:this;s===ur&&w1(r,Pc,i),It(s,pn)&&It(s[pn],n)&&(s[pn][n]=!1);var o=ry(1,i);try{sy(s,n,o)}catch(a){if(!(a instanceof j8))throw a;Rb(s,n,o)}};return Ma&&iy&&sy(ur,n,{configurable:!0,set:r}),fg(n,e)},ql=eo[ju],fS(ql,"toString",function(){return mS(this).tag}),fS(eo,"withoutSetter",function(t){return fg(pS(t),t)}),Tb.f=bb,Eb.f=gp,k8.f=S1,wb.f=xb,b8.f=_b.f=kb,x8.f=Ob,M8.f=function(t){return fg(N8(t),t)},Ma&&O8(ql,"description",{configurable:!0,get:function(){return mS(this).description}}));dp({global:!0,constructor:!0,wrap:!0,forced:!La,sham:!La},{Symbol:eo});pp(yb(z8),function(t){L8(t)});dp({target:mp,stat:!0,forced:!La},{useSetter:function(){iy=!0},useSimple:function(){iy=!1}});dp({target:"Object",stat:!0,forced:!La,sham:!Ma},{create:H8,defineProperty:gp,defineProperties:S1,getOwnPropertyDescriptor:xb});dp({target:"Object",stat:!0,forced:!La},{getOwnPropertyNames:kb});V8();F8(eo,mp);Sb[pn]=!0;var W8=tl,Db=W8&&!!Symbol.for&&!!Symbol.keyFor,K8=Et,G8=Ss,q8=vr,Q8=Eo,Nb=gc,Y8=Db,pg=Nb("string-to-symbol-registry"),X8=Nb("symbol-to-string-registry");K8({target:"Symbol",stat:!0,forced:!Y8},{for:function(t){var e=Q8(t);if(q8(pg,e))return pg[e];var n=G8("Symbol")(e);return pg[e]=n,X8[n]=e,n}});var J8=Et,Z8=vr,eU=Jf,tU=e1,nU=gc,rU=Db,gS=nU("symbol-to-string-registry");J8({target:"Symbol",stat:!0,forced:!rU},{keyFor:function(e){if(!eU(e))throw new TypeError(tU(e)+" is not a symbol");if(Z8(gS,e))return gS[e]}});var iU=Et,sU=tl,oU=lt,Mb=_c,aU=Is,lU=!sU||oU(function(){Mb.f(1)});iU({target:"Object",stat:!0,forced:lU},{getOwnPropertySymbols:function(e){var n=Mb.f;return n?n(aU(e)):[]}});var uU=wn,cU=uU.Object.getOwnPropertySymbols,hU=cU,dU=hU;const qd=at(dU);var Lb={exports:{}},fU=Et,pU=lt,mU=wi,Vb=pc.f,Fb=Ln,gU=!Fb||pU(function(){Vb(1)});fU({target:"Object",stat:!0,forced:gU,sham:!Fb},{getOwnPropertyDescriptor:function(e,n){return Vb(mU(e),n)}});var vU=wn,$b=vU.Object,yU=Lb.exports=function(e,n){return $b.getOwnPropertyDescriptor(e,n)};$b.getOwnPropertyDescriptor.sham&&(yU.sham=!0);var _U=Lb.exports,wU=_U,EU=wU;const vp=at(EU);var TU=Ss,SU=ut,IU=hp,PU=_c,CU=nl,AU=SU([].concat),RU=TU("Reflect","ownKeys")||function(e){var n=IU.f(CU(e)),r=PU.f;return r?AU(n,r(e)):n},bU=Et,xU=Ln,kU=RU,OU=wi,DU=pc,NU=h1;bU({target:"Object",stat:!0,sham:!xU},{getOwnPropertyDescriptors:function(e){for(var n=OU(e),r=DU.f,i=kU(n),s={},o=0,a,l;i.length>o;)l=r(n,a=i[o++]),l!==void 0&&NU(s,a,l);return s}});var MU=wn,LU=MU.Object.getOwnPropertyDescriptors,VU=LU,FU=VU;const Qd=at(FU);var jb={exports:{}},$U=Et,jU=Ln,vS=ap.f;$U({target:"Object",stat:!0,forced:Object.defineProperties!==vS,sham:!jU},{defineProperties:vS});var UU=wn,Ub=UU.Object,BU=jb.exports=function(e,n){return Ub.defineProperties(e,n)};Ub.defineProperties.sham&&(BU.sham=!0);var zU=jb.exports,HU=zU,WU=HU;const Bb=at(WU);var zb={exports:{}},KU=Et,GU=Ln,yS=Ei.f;KU({target:"Object",stat:!0,forced:Object.defineProperty!==yS,sham:!GU},{defineProperty:yS});var qU=wn,Hb=qU.Object,QU=zb.exports=function(e,n,r){return Hb.defineProperty(e,n,r)};Hb.defineProperty.sham&&(QU.sham=!0);var YU=zb.exports,XU=YU,JU=XU;const Wb=at(JU);var ZU=function(){function t(){on(this,t),this.sourcePointer=0,this.active=!0,this.fetch=null}return an(t,[{key:"isActive",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!(n.internal!==this||!this.fetch||this.active!==!0)}}]),t}();function _S(t,e){var n=p1(t);if(qd){var r=qd(t);e&&(r=op(r).call(r,function(i){return vp(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Qd?Bb(t,Qd(n)):_S(Object(n)).forEach(function(r){Wb(t,r,vp(n,r))})}return t}function e7(t){var e=t7();return function(){var r=Yn(t),i;if(e){var s=Yn(this).constructor;i=gt(r,arguments,s)}else i=r.apply(this,arguments);return Sc(this,i)}}function t7(){if(typeof Reflect>"u"||!gt||gt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(gt(Boolean,[],function(){})),!0}catch{return!1}}function n7(t,e,n){var r=e.cache,i=new t(e);if(!i.isCompatible(e))return n();i.get(function(s){var o=s&&s.src&&r.hasSourceFailedBefore(s.src);!o&&s?n(s):n()})}function r7(t){var e=t.sources,n=e===void 0?[]:e,r=ab(n).call(n,function(s,o){return Wv(s,o.propTypes)},{}),i=function(s){Tc(a,s);var o=e7(a);function a(l){var c;return on(this,a),c=o.call(this,l),ae(Hd(c),"_createFetcher",function(h){return function(d){var f=c.props.cache;if(h.isActive(c.state)){d&&d.type==="error"&&f.sourceFailed(d.target.src);var m=h.sourcePointer;if(n.length!==m){var w=n[m];h.sourcePointer++,n7(w,c.props,function(T){if(!T)return setTimeout(h.fetch,0);h.isActive(c.state)&&(T=mg({src:null,value:null,color:null},T),c.setState(function(P){return h.isActive(P)?T:{}}))})}}}}),ae(Hd(c),"fetch",function(){var h=new ZU;h.fetch=c._createFetcher(h),c.setState({internal:h},h.fetch)}),c.state={internal:null,src:null,value:null,color:l.color},c}return an(a,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"componentDidUpdate",value:function(c){var h=!1;for(var d in r)h=h||c[d]!==this.props[d];h&&setTimeout(this.fetch,0)}},{key:"componentWillUnmount",value:function(){this.state.internal&&(this.state.internal.active=!1)}},{key:"render",value:function(){var c=this.props,h=c.children,d=c.propertyName,f=this.state,m=f.src,w=f.value,T=f.color,P=f.sourceName,_=f.internal,y={src:m,value:w,color:T,sourceName:P,onRenderFailed:function(){return _&&_.fetch()}};if(typeof h=="function")return h(y);var E=Te.Children.only(h);return Te.cloneElement(E,ae({},d,y))}}]),a}(V.PureComponent);return ae(i,"displayName","AvatarDataProvider"),ae(i,"propTypes",mg(mg({},r),{},{cache:q.object,propertyName:q.string})),ae(i,"defaultProps",{propertyName:"avatar"}),ae(i,"Cache",zd),ae(i,"ConfigProvider",ls),Wv(db(i),{ConfigProvider:ls,Cache:zd})}function wS(t,e){var n=p1(t);if(qd){var r=qd(t);e&&(r=op(r).call(r,function(i){return vp(t,i).enumerable})),n.push.apply(n,r)}return n}function i7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Qd?Bb(t,Qd(n)):wS(Object(n)).forEach(function(r){Wb(t,r,vp(n,r))})}return t}function s7(t){var e=o7();return function(){var r=Yn(t),i;if(e){var s=Yn(this).constructor;i=gt(r,arguments,s)}else i=r.apply(this,arguments);return Sc(this,i)}}function o7(){if(typeof Reflect>"u"||!gt||gt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(gt(Boolean,[],function(){})),!0}catch{return!1}}var I1=function(t){Tc(n,t);var e=s7(n);function n(){return on(this,n),e.apply(this,arguments)}return an(n,[{key:"render",value:function(){var i=this.props,s=i.className,o=i.unstyled,a=i.round,l=i.style,c=i.avatar,h=i.onClick,d=i.children,f=c.sourceName,m=lp(this.props.size),w=o?null:i7({display:"inline-block",verticalAlign:"middle",width:m.str,height:m.str,borderRadius:v1(a),fontFamily:"Helvetica, Arial, sans-serif"},l),T=[s,"sb-avatar"];if(f){var P=f.toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"");T.push("sb-avatar--"+P)}return Te.createElement("div",{className:T.join(" "),onClick:h,style:w},d)}}]),n}(Te.PureComponent);ae(I1,"propTypes",{className:q.string,round:q.oneOfType([q.bool,q.string]),style:q.object,size:q.oneOfType([q.number,q.string]),unstyled:q.bool,avatar:q.object,onClick:q.func,children:q.node});function a7(t){var e=l7();return function(){var r=Yn(t),i;if(e){var s=Yn(this).constructor;i=gt(r,arguments,s)}else i=r.apply(this,arguments);return Sc(this,i)}}function l7(){if(typeof Reflect>"u"||!gt||gt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(gt(Boolean,[],function(){})),!0}catch{return!1}}var P1=function(t){Tc(n,t);var e=a7(n);function n(){return on(this,n),e.apply(this,arguments)}return an(n,[{key:"render",value:function(){var i=this.props,s=i.className,o=i.round,a=i.unstyled,l=i.alt,c=i.title,h=i.name,d=i.value,f=i.avatar,m=lp(this.props.size),w=a?null:{maxWidth:"100%",width:m.str,height:m.str,borderRadius:v1(o)};return Te.createElement(I1,this.props,Te.createElement("img",{className:s+" sb-avatar__image",width:m.str,height:m.str,style:w,src:f.src,alt:Zv(l,h||d),title:Zv(c,h||d),onError:f.onRenderFailed}))}}]),n}(Te.PureComponent);ae(P1,"propTypes",{alt:q.oneOfType([q.string,q.bool]),title:q.oneOfType([q.string,q.bool]),name:q.string,value:q.string,avatar:q.object,className:q.string,unstyled:q.bool,round:q.oneOfType([q.bool,q.string,q.number]),size:q.oneOfType([q.number,q.string])});ae(P1,"defaultProps",{className:"",round:!1,size:100,unstyled:!1});var u7=TypeError,c7=9007199254740991,h7=function(t){if(t>c7)throw u7("Maximum allowed index exceeded");return t},d7=Et,f7=lt,p7=ip,m7=jr,g7=Is,v7=yc,ES=h7,TS=h1,y7=WR,_7=sp,w7=yr,E7=Xf,Kb=w7("isConcatSpreadable"),T7=E7>=51||!f7(function(){var t=[];return t[Kb]=!1,t.concat()[0]!==t}),S7=function(t){if(!m7(t))return!1;var e=t[Kb];return e!==void 0?!!e:p7(t)},I7=!T7||!_7("concat");d7({target:"Array",proto:!0,arity:1,forced:I7},{concat:function(e){var n=g7(this),r=y7(n,0),i=0,s,o,a,l,c;for(s=-1,a=arguments.length;s<a;s++)if(c=s===-1?n:arguments[s],S7(c))for(l=v7(c),ES(i+l),o=0;o<l;o++,i++)o in c&&TS(r,i,c[o]);else ES(i+1),TS(r,i++,c);return r.length=i,r}});var P7=Ec,C7=P7("Array","concat"),A7=wo,R7=C7,gg=Array.prototype,b7=function(t){var e=t.concat;return t===gg||A7(gg,t)&&e===gg.concat?R7:e},x7=b7,k7=x7;const du=at(k7);function O7(t){var e=D7();return function(){var r=Yn(t),i;if(e){var s=Yn(this).constructor;i=gt(r,arguments,s)}else i=r.apply(this,arguments);return Sc(this,i)}}function D7(){if(typeof Reflect>"u"||!gt||gt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(gt(Boolean,[],function(){})),!0}catch{return!1}}var C1=function(t){Tc(n,t);var e=O7(n);function n(){var r,i;on(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return i=e.call.apply(e,du(r=[this]).call(r,o)),ae(Hd(i),"_scaleTextNode",function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,h=i.props,d=h.unstyled,f=h.textSizeRatio,m=h.textMarginRatio,w=h.avatar;if(i._node=l,!(!l||!l.parentNode||d||w.src||!i._mounted)){var T=l.parentNode,P=T.parentNode,_=T.getBoundingClientRect(),y=_.width,E=_.height;if(y==0&&E==0){var k=Math.min(c*1.5,500);kj(function(){return i._scaleTextNode(l,k)},k);return}if(!P.style.fontSize){var F=E/f;P.style.fontSize="".concat(F,"px")}T.style.fontSize=null;var b=l.getBoundingClientRect(),C=b.width;if(!(C<0)){var v=y*(1-2*m);C>v&&(T.style.fontSize="calc(1em * ".concat(v/C,")"))}}}),i}return an(n,[{key:"componentDidMount",value:function(){this._mounted=!0,this._scaleTextNode(this._node)}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var i=this.props,s=i.className,o=i.round,a=i.unstyled,l=i.title,c=i.name,h=i.value,d=i.avatar,f=lp(this.props.size),m=a?null:{width:f.str,height:f.str,lineHeight:"initial",textAlign:"center",color:this.props.fgColor,background:d.color,borderRadius:v1(o)},w=a?null:{display:"table",tableLayout:"fixed",width:"100%",height:"100%"},T=a?null:{display:"table-cell",verticalAlign:"middle",fontSize:"100%",whiteSpace:"nowrap"},P=[d.value,this.props.size].join("");return Te.createElement(I1,this.props,Te.createElement("div",{className:s+" sb-avatar__text",style:m,title:Zv(l,c||h)},Te.createElement("div",{style:w},Te.createElement("span",{style:T},Te.createElement("span",{ref:this._scaleTextNode,key:P},d.value)))))}}]),n}(Te.PureComponent);ae(C1,"propTypes",{name:q.string,value:q.string,avatar:q.object,title:q.oneOfType([q.string,q.bool]),className:q.string,unstyled:q.bool,fgColor:q.string,textSizeRatio:q.number,textMarginRatio:q.number,round:q.oneOfType([q.bool,q.string,q.number]),size:q.oneOfType([q.number,q.string])});ae(C1,"defaultProps",{className:"",fgColor:"#FFF",round:!1,size:100,textSizeRatio:3,textMarginRatio:.15,unstyled:!1});function N7(t){var e=r7(t),n=db(Te.forwardRef(function(r,i){return Te.createElement(e,Da({},r,{propertyName:"avatar"}),function(s){var o=s.src?P1:C1;return Te.createElement(o,Da({},r,{avatar:s,ref:i}))})}));return Wv(n,{getRandomColor:g1,ConfigProvider:ls,Cache:zd})}var Gb={exports:{}},qb={exports:{}};(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return e.rotl(n,8)&16711935|e.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=e.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],i=0,s=0;i<n.length;i++,s+=8)r[s>>>5]|=n[i]<<24-s%32;return r},wordsToBytes:function(n){for(var r=[],i=0;i<n.length*32;i+=8)r.push(n[i>>>5]>>>24-i%32&255);return r},bytesToHex:function(n){for(var r=[],i=0;i<n.length;i++)r.push((n[i]>>>4).toString(16)),r.push((n[i]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],i=0;i<n.length;i+=2)r.push(parseInt(n.substr(i,2),16));return r},bytesToBase64:function(n){for(var r=[],i=0;i<n.length;i+=3)for(var s=n[i]<<16|n[i+1]<<8|n[i+2],o=0;o<4;o++)i*8+o*6<=n.length*8?r.push(t.charAt(s>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],i=0,s=0;i<n.length;s=++i%4)s!=0&&r.push((t.indexOf(n.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<s*2|t.indexOf(n.charAt(i))>>>6-s*2);return r}};qb.exports=e})();var M7=qb.exports,oy={utf8:{stringToBytes:function(t){return oy.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(oy.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n)&255);return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},SS=oy;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var L7=function(t){return t!=null&&(Qb(t)||V7(t)||!!t._isBuffer)};function Qb(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function V7(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Qb(t.slice(0,0))}(function(){var t=M7,e=SS.utf8,n=L7,r=SS.bin,i=function(s,o){s.constructor==String?o&&o.encoding==="binary"?s=r.stringToBytes(s):s=e.stringToBytes(s):n(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var a=t.bytesToWords(s),l=s.length*8,c=1732584193,h=-271733879,d=-1732584194,f=271733878,m=0;m<a.length;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var w=i._ff,T=i._gg,P=i._hh,_=i._ii,m=0;m<a.length;m+=16){var y=c,E=h,k=d,F=f;c=w(c,h,d,f,a[m+0],7,-680876936),f=w(f,c,h,d,a[m+1],12,-389564586),d=w(d,f,c,h,a[m+2],17,606105819),h=w(h,d,f,c,a[m+3],22,-1044525330),c=w(c,h,d,f,a[m+4],7,-176418897),f=w(f,c,h,d,a[m+5],12,1200080426),d=w(d,f,c,h,a[m+6],17,-1473231341),h=w(h,d,f,c,a[m+7],22,-45705983),c=w(c,h,d,f,a[m+8],7,1770035416),f=w(f,c,h,d,a[m+9],12,-1958414417),d=w(d,f,c,h,a[m+10],17,-42063),h=w(h,d,f,c,a[m+11],22,-1990404162),c=w(c,h,d,f,a[m+12],7,1804603682),f=w(f,c,h,d,a[m+13],12,-40341101),d=w(d,f,c,h,a[m+14],17,-1502002290),h=w(h,d,f,c,a[m+15],22,1236535329),c=T(c,h,d,f,a[m+1],5,-165796510),f=T(f,c,h,d,a[m+6],9,-1069501632),d=T(d,f,c,h,a[m+11],14,643717713),h=T(h,d,f,c,a[m+0],20,-373897302),c=T(c,h,d,f,a[m+5],5,-701558691),f=T(f,c,h,d,a[m+10],9,38016083),d=T(d,f,c,h,a[m+15],14,-660478335),h=T(h,d,f,c,a[m+4],20,-405537848),c=T(c,h,d,f,a[m+9],5,568446438),f=T(f,c,h,d,a[m+14],9,-1019803690),d=T(d,f,c,h,a[m+3],14,-187363961),h=T(h,d,f,c,a[m+8],20,1163531501),c=T(c,h,d,f,a[m+13],5,-1444681467),f=T(f,c,h,d,a[m+2],9,-51403784),d=T(d,f,c,h,a[m+7],14,1735328473),h=T(h,d,f,c,a[m+12],20,-1926607734),c=P(c,h,d,f,a[m+5],4,-378558),f=P(f,c,h,d,a[m+8],11,-2022574463),d=P(d,f,c,h,a[m+11],16,1839030562),h=P(h,d,f,c,a[m+14],23,-35309556),c=P(c,h,d,f,a[m+1],4,-1530992060),f=P(f,c,h,d,a[m+4],11,1272893353),d=P(d,f,c,h,a[m+7],16,-155497632),h=P(h,d,f,c,a[m+10],23,-1094730640),c=P(c,h,d,f,a[m+13],4,681279174),f=P(f,c,h,d,a[m+0],11,-358537222),d=P(d,f,c,h,a[m+3],16,-722521979),h=P(h,d,f,c,a[m+6],23,76029189),c=P(c,h,d,f,a[m+9],4,-640364487),f=P(f,c,h,d,a[m+12],11,-421815835),d=P(d,f,c,h,a[m+15],16,530742520),h=P(h,d,f,c,a[m+2],23,-995338651),c=_(c,h,d,f,a[m+0],6,-198630844),f=_(f,c,h,d,a[m+7],10,1126891415),d=_(d,f,c,h,a[m+14],15,-1416354905),h=_(h,d,f,c,a[m+5],21,-57434055),c=_(c,h,d,f,a[m+12],6,1700485571),f=_(f,c,h,d,a[m+3],10,-1894986606),d=_(d,f,c,h,a[m+10],15,-1051523),h=_(h,d,f,c,a[m+1],21,-2054922799),c=_(c,h,d,f,a[m+8],6,1873313359),f=_(f,c,h,d,a[m+15],10,-30611744),d=_(d,f,c,h,a[m+6],15,-1560198380),h=_(h,d,f,c,a[m+13],21,1309151649),c=_(c,h,d,f,a[m+4],6,-145523070),f=_(f,c,h,d,a[m+11],10,-1120210379),d=_(d,f,c,h,a[m+2],15,718787259),h=_(h,d,f,c,a[m+9],21,-343485551),c=c+y>>>0,h=h+E>>>0,d=d+k>>>0,f=f+F>>>0}return t.endian([c,h,d,f])};i._ff=function(s,o,a,l,c,h,d){var f=s+(o&a|~o&l)+(c>>>0)+d;return(f<<h|f>>>32-h)+o},i._gg=function(s,o,a,l,c,h,d){var f=s+(o&l|a&~l)+(c>>>0)+d;return(f<<h|f>>>32-h)+o},i._hh=function(s,o,a,l,c,h,d){var f=s+(o^a^l)+(c>>>0)+d;return(f<<h|f>>>32-h)+o},i._ii=function(s,o,a,l,c,h,d){var f=s+(a^(o|~l))+(c>>>0)+d;return(f<<h|f>>>32-h)+o},i._blocksize=16,i._digestsize=16,Gb.exports=function(s,o){if(s==null)throw new Error("Illegal argument "+s);var a=t.wordsToBytes(i(s,o));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):t.bytesToHex(a)}})();var F7=Gb.exports;const $7=at(F7);var Yb=an(function t(e){var n=this;on(this,t),ae(this,"props",null),ae(this,"isCompatible",function(){return!!n.props.email||!!n.props.md5Email}),ae(this,"get",function(r){var i=n.props,s=i.md5Email||$7(i.email),o=up(i.size),a="https://secure.gravatar.com/avatar/".concat(s,"?d=404");o&&(a+="&s=".concat(o)),r({sourceName:"gravatar",src:a})}),this.props=e});ae(Yb,"propTypes",{email:q.string,md5Email:q.string});var Xb=an(function t(e){var n=this;on(this,t),ae(this,"props",null),ae(this,"isCompatible",function(){return!!n.props.facebookId}),ae(this,"get",function(r){var i,s=n.props.facebookId,o=up(n.props.size),a="https://graph.facebook.com/".concat(s,"/picture");o&&(a+=du(i="?width=".concat(o,"&height=")).call(i,o)),r({sourceName:"facebook",src:a})}),this.props=e});ae(Xb,"propTypes",{facebookId:q.string});var Jb=an(function t(e){var n=this;on(this,t),ae(this,"props",null),ae(this,"isCompatible",function(){return!!n.props.githubHandle}),ae(this,"get",function(r){var i=n.props.githubHandle,s=up(n.props.size),o="https://avatars.githubusercontent.com/".concat(i,"?v=4");s&&(o+="&s=".concat(s)),r({sourceName:"github",src:o})}),this.props=e});ae(Jb,"propTypes",{githubHandle:q.string});var Zb=an(function t(e){var n=this;on(this,t),ae(this,"props",null),ae(this,"isCompatible",function(){return!!n.props.skypeId}),ae(this,"get",function(r){var i=n.props.skypeId,s="https://api.skype.com/users/".concat(i,"/profile/avatar");r({sourceName:"skype",src:s})}),this.props=e});ae(Zb,"propTypes",{skypeId:q.string});var ex=function(){function t(e){var n=this;on(this,t),ae(this,"props",null),ae(this,"isCompatible",function(){return!!(n.props.name||n.props.value||n.props.email)}),ae(this,"get",function(r){var i=n.getValue();if(!i)return r(null);r({sourceName:"text",value:i,color:n.getColor()})}),this.props=e}return an(t,[{key:"getInitials",value:function(){var n=this.props,r=n.name,i=n.initials;return typeof i=="string"?i:typeof i=="function"?i(r,this.props):hb(r,this.props)}},{key:"getValue",value:function(){return this.props.name?this.getInitials():this.props.value?this.props.value:null}},{key:"getColor",value:function(){var n=this.props,r=n.color,i=n.colors,s=n.name,o=n.email,a=n.value,l=s||o||a;return r||g1(l,i)}}]),t}();ae(ex,"propTypes",{color:q.string,name:q.string,value:q.string,email:q.string,maxInitials:q.number,initials:q.oneOfType([q.string,q.func])});var tx=an(function t(e){var n=this;on(this,t),ae(this,"props",null),ae(this,"isCompatible",function(){return!!n.props.src}),ae(this,"get",function(r){r({sourceName:"src",src:n.props.src})}),this.props=e});ae(tx,"propTypes",{src:q.string});var nx=an(function t(e){var n=this;on(this,t),ae(this,"props",null),ae(this,"icon","✷"),ae(this,"isCompatible",function(){return!0}),ae(this,"get",function(r){var i=n.props,s=i.color,o=i.colors;r({sourceName:"icon",value:n.icon,color:s||g1(n.icon,o)})}),this.props=e});ae(nx,"propTypes",{color:q.string});function yp(t,e){var n;return n=an(function r(i){var s=this;on(this,r),ae(this,"props",null),ae(this,"isCompatible",function(){return!!s.props.avatarRedirectUrl&&!!s.props[e]}),ae(this,"get",function(o){var a,l,c,h=s.props.avatarRedirectUrl,d=up(s.props.size),f=h.replace(/\/*$/,"/"),m=s.props[e],w=d?"size=".concat(d):"",T=du(a=du(l=du(c="".concat(f)).call(c,t,"/")).call(l,m,"?")).call(a,w);o({sourceName:t,src:T})}),this.props=i}),ae(n,"propTypes",ae({},e,q.oneOfType([q.string,q.number]))),n}const j7=yp("twitter","twitterHandle"),U7=yp("vkontakte","vkontakteId"),B7=yp("instagram","instagramId"),z7=yp("google","googleId");var H7=[Xb,z7,Jb,j7,B7,U7,Zb,Yb,tx,ex,nx];const W7=N7({sources:H7});var rx={exports:{}},ix={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cc=V;function K7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var G7=typeof Object.is=="function"?Object.is:K7,q7=Cc.useSyncExternalStore,Q7=Cc.useRef,Y7=Cc.useEffect,X7=Cc.useMemo,J7=Cc.useDebugValue;ix.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Q7(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=X7(function(){function l(m){if(!c){if(c=!0,h=m,m=r(m),i!==void 0&&o.hasValue){var w=o.value;if(i(w,m))return d=w}return d=m}if(w=d,G7(h,m))return w;var T=r(m);return i!==void 0&&i(w,T)?w:(h=m,d=T)}var c=!1,h,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=q7(t,s[0],s[1]);return Y7(function(){o.hasValue=!0,o.value=a},[a]),J7(a),a};rx.exports=ix;var Z7=rx.exports,Pn="default"in Yg?Te:Yg,IS=Symbol.for("react-redux-context"),PS=typeof globalThis<"u"?globalThis:{};function eB(){if(!Pn.createContext)return{};const t=PS[IS]??(PS[IS]=new Map);let e=t.get(Pn.createContext);return e||(e=Pn.createContext(null),t.set(Pn.createContext,e)),e}var us=eB(),tB=()=>{throw new Error("uSES not initialized!")};function A1(t=us){return function(){return Pn.useContext(t)}}var sx=A1(),ox=tB,nB=t=>{ox=t},rB=(t,e)=>t===e;function iB(t=us){const e=t===us?sx:A1(t),n=(r,i={})=>{const{equalityFn:s=rB,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:h,identityFunctionCheck:d}=e();Pn.useRef(!0);const f=Pn.useCallback({[r.name](w){return r(w)}}[r.name],[r,h,o.stabilityCheck]),m=ox(l.addNestedSub,a.getState,c||a.getState,f,s);return Pn.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var Ac=iB();function sB(t){t()}function oB(){let t=null,e=null;return{clear(){t=null,e=null},notify(){sB(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var CS={notify(){},get:()=>[]};function aB(t,e){let n,r=CS,i=0,s=!1;function o(T){h();const P=r.subscribe(T);let _=!1;return()=>{_||(_=!0,P(),d())}}function a(){r.notify()}function l(){w.onStateChange&&w.onStateChange()}function c(){return s}function h(){i++,n||(n=t.subscribe(l),r=oB())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=CS)}function f(){s||(s=!0,h())}function m(){s&&(s=!1,d())}const w={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return w}var lB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uB=typeof navigator<"u"&&navigator.product==="ReactNative",cB=lB||uB?Pn.useLayoutEffect:Pn.useEffect;function hB({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Pn.useMemo(()=>{const c=aB(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Pn.useMemo(()=>t.getState(),[t]);cB(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||us;return Pn.createElement(l.Provider,{value:o},n)}var dB=hB;function ax(t=us){const e=t===us?sx:A1(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var fB=ax();function pB(t=us){const e=t===us?fB:ax(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var rl=pB();nB(Z7.useSyncExternalStoreWithSelector);function xt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var mB=typeof Symbol=="function"&&Symbol.observable||"@@observable",AS=mB,vg=()=>Math.random().toString(36).substring(7).split("").join("."),gB={INIT:`@@redux/INIT${vg()}`,REPLACE:`@@redux/REPLACE${vg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vg()}`},Yd=gB;function R1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function lx(t,e,n){if(typeof t!="function")throw new Error(xt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xt(1));return n(lx)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((P,_)=>{o.set(_,P)}))}function h(){if(l)throw new Error(xt(3));return i}function d(P){if(typeof P!="function")throw new Error(xt(4));if(l)throw new Error(xt(5));let _=!0;c();const y=a++;return o.set(y,P),function(){if(_){if(l)throw new Error(xt(6));_=!1,c(),o.delete(y),s=null}}}function f(P){if(!R1(P))throw new Error(xt(7));if(typeof P.type>"u")throw new Error(xt(8));if(typeof P.type!="string")throw new Error(xt(17));if(l)throw new Error(xt(9));try{l=!0,i=r(i,P)}finally{l=!1}return(s=o).forEach(y=>{y()}),P}function m(P){if(typeof P!="function")throw new Error(xt(10));r=P,f({type:Yd.REPLACE})}function w(){const P=d;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(xt(11));function y(){const k=_;k.next&&k.next(h())}return y(),{unsubscribe:P(y)}},[AS](){return this}}}return f({type:Yd.INIT}),{dispatch:f,subscribe:d,getState:h,replaceReducer:m,[AS]:w}}function vB(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Yd.INIT})>"u")throw new Error(xt(12));if(typeof n(void 0,{type:Yd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xt(13))})}function yB(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{vB(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let h=0;h<r.length;h++){const d=r[h],f=n[d],m=o[d],w=f(m,a);if(typeof w>"u")throw a&&a.type,new Error(xt(14));c[d]=w,l=l||w!==m}return l=l||r.length!==Object.keys(o).length,l?c:o}}function Xd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function _B(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(xt(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=Xd(...a)(i.dispatch),{...i,dispatch:s}}}function wB(t){return R1(t)&&"type"in t&&typeof t.type=="string"}var ux=Symbol.for("immer-nothing"),RS=Symbol.for("immer-draftable"),xn=Symbol.for("immer-state");function lr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Fa=Object.getPrototypeOf;function ho(t){return!!t&&!!t[xn]}function pi(t){var e;return t?cx(t)||Array.isArray(t)||!!t[RS]||!!((e=t.constructor)!=null&&e[RS])||wp(t)||Ep(t):!1}var EB=Object.prototype.constructor.toString();function cx(t){if(!t||typeof t!="object")return!1;const e=Fa(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===EB}function Jd(t,e){_p(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function _p(t){const e=t[xn];return e?e.type_:Array.isArray(t)?1:wp(t)?2:Ep(t)?3:0}function ay(t,e){return _p(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function hx(t,e,n){const r=_p(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function TB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function wp(t){return t instanceof Map}function Ep(t){return t instanceof Set}function Fs(t){return t.copy_||t.base_}function ly(t,e){if(wp(t))return new Map(t);if(Ep(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=cx(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[xn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Fa(t),r)}else{const r=Fa(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function b1(t,e=!1){return Tp(t)||ho(t)||!pi(t)||(_p(t)>1&&(t.set=t.add=t.clear=t.delete=SB),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>b1(r,!0))),t}function SB(){lr(2)}function Tp(t){return Object.isFrozen(t)}var IB={};function fo(t){const e=IB[t];return e||lr(0,t),e}var Uu;function dx(){return Uu}function PB(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bS(t,e){e&&(fo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function uy(t){cy(t),t.drafts_.forEach(CB),t.drafts_=null}function cy(t){t===Uu&&(Uu=t.parent_)}function xS(t){return Uu=PB(Uu,t)}function CB(t){const e=t[xn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function kS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[xn].modified_&&(uy(e),lr(4)),pi(t)&&(t=Zd(e,t),e.parent_||ef(e,t)),e.patches_&&fo("Patches").generateReplacementPatches_(n[xn].base_,t,e.patches_,e.inversePatches_)):t=Zd(e,n,[]),uy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ux?t:void 0}function Zd(t,e,n){if(Tp(e))return e;const r=e[xn];if(!r)return Jd(e,(i,s)=>OS(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return ef(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Jd(s,(a,l)=>OS(t,r,i,a,l,n,o)),ef(t,i,!1),n&&t.patches_&&fo("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function OS(t,e,n,r,i,s,o){if(ho(i)){const a=s&&e&&e.type_!==3&&!ay(e.assigned_,r)?s.concat(r):void 0,l=Zd(t,i,a);if(hx(n,r,l),ho(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(pi(i)&&!Tp(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Zd(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&ef(t,i)}}function ef(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&b1(e,n)}function AB(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:dx(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=x1;n&&(i=[r],s=Bu);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var x1={get(t,e){if(e===xn)return t;const n=Fs(t);if(!ay(n,e))return RB(t,n,e);const r=n[e];return t.finalized_||!pi(r)?r:r===yg(t.base_,e)?(_g(t),t.copy_[e]=dy(r,t)):r},has(t,e){return e in Fs(t)},ownKeys(t){return Reflect.ownKeys(Fs(t))},set(t,e,n){const r=fx(Fs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=yg(Fs(t),e),s=i==null?void 0:i[xn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(TB(n,i)&&(n!==void 0||ay(t.base_,e)))return!0;_g(t),hy(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return yg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,_g(t),hy(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){lr(11)},getPrototypeOf(t){return Fa(t.base_)},setPrototypeOf(){lr(12)}},Bu={};Jd(x1,(t,e)=>{Bu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Bu.deleteProperty=function(t,e){return Bu.set.call(this,t,e,void 0)};Bu.set=function(t,e,n){return x1.set.call(this,t[0],e,n,t[0])};function yg(t,e){const n=t[xn];return(n?Fs(n):t)[e]}function RB(t,e,n){var i;const r=fx(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function fx(t,e){if(!(e in t))return;let n=Fa(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Fa(n)}}function hy(t){t.modified_||(t.modified_=!0,t.parent_&&hy(t.parent_))}function _g(t){t.copy_||(t.copy_=ly(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var bB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,h=>n.call(this,h,...c))}}typeof n!="function"&&lr(6),r!==void 0&&typeof r!="function"&&lr(7);let i;if(pi(e)){const s=xS(this),o=dy(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?uy(s):cy(s)}return bS(s,r),kS(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===ux&&(i=void 0),this.autoFreeze_&&b1(i,!0),r){const s=[],o=[];fo("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else lr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){pi(t)||lr(8),ho(t)&&(t=xB(t));const e=xS(this),n=dy(t,void 0);return n[xn].isManual_=!0,cy(e),n}finishDraft(t,e){const n=t&&t[xn];(!n||!n.isManual_)&&lr(9);const{scope_:r}=n;return bS(r,e),kS(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=fo("Patches").applyPatches_;return ho(t)?r(t,e):this.produce(t,i=>r(i,e))}};function dy(t,e){const n=wp(t)?fo("MapSet").proxyMap_(t,e):Ep(t)?fo("MapSet").proxySet_(t,e):AB(t,e);return(e?e.scope_:dx()).drafts_.push(n),n}function xB(t){return ho(t)||lr(10,t),px(t)}function px(t){if(!pi(t)||Tp(t))return t;const e=t[xn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=ly(t,e.scope_.immer_.useStrictShallowCopy_)}else n=ly(t,!0);return Jd(n,(r,i)=>{hx(n,r,px(i))}),e&&(e.finalized_=!1),n}var kn=new bB,mx=kn.produce;kn.produceWithPatches.bind(kn);kn.setAutoFreeze.bind(kn);kn.setUseStrictShallowCopy.bind(kn);kn.applyPatches.bind(kn);kn.createDraft.bind(kn);kn.finishDraft.bind(kn);function gx(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var kB=gx(),OB=gx,DB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xd:Xd.apply(null,arguments)};function DS(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(xr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>wB(r)&&r.type===t,n}var vx=class Ql extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ql.prototype)}static get[Symbol.species](){return Ql}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ql(...e[0].concat(this)):new Ql(...e.concat(this))}};function NS(t){return pi(t)?mx(t,()=>{}):t}function MS(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(xr(10));const r=n.insert(e,t);return t.set(e,r),r}function NB(t){return typeof t=="boolean"}var MB=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new vx;return n&&(NB(n)?o.push(kB):o.push(OB(n.extraArgument))),o},LB="RTK_autoBatch",yx=t=>e=>{setTimeout(e,t)},VB=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:yx(10),FB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?VB:t.type==="callback"?t.queueNotification:yx(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const d=()=>i&&h(),f=r.subscribe(d);return a.add(h),()=>{f(),a.delete(h)}},dispatch(h){var d;try{return i=!((d=h==null?void 0:h.meta)!=null&&d[LB]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(h)}finally{i=!0}}})},$B=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new vx(t);return r&&i.push(FB(typeof r=="object"?r:void 0)),i};function jB(t){const e=MB(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(R1(n))a=yB(n);else throw new Error(xr(1));let l;typeof r=="function"?l=r(e):l=e();let c=Xd;i&&(c=DB({trace:!1,...typeof i=="object"&&i}));const h=_B(...l),d=$B(h);let f=typeof o=="function"?o(d):d();const m=c(...f);return lx(a,s,m)}function _x(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(xr(28));if(a in e)throw new Error(xr(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function UB(t){return typeof t=="function"}function BB(t,e){let[n,r,i]=_x(e),s;if(UB(t))s=()=>NS(t());else{const a=NS(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,d)=>{if(d)if(ho(h)){const m=d(h,l);return m===void 0?h:m}else{if(pi(h))return mx(h,f=>d(f,l));{const f=d(h,l);if(f===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return h},a)}return o.getInitialState=s,o}var zB=Symbol.for("rtk-slice-createasyncthunk");function HB(t,e){return`${t}/${e}`}function WB({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[zB];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(xr(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(qB()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,k){const F=typeof E=="string"?E:E.type;if(!F)throw new Error(xr(12));if(F in c.sliceCaseReducersByType)throw new Error(xr(13));return c.sliceCaseReducersByType[F]=k,h},addMatcher(E,k){return c.sliceMatchers.push({matcher:E,reducer:k}),h},exposeAction(E,k){return c.actionCreators[E]=k,h},exposeCaseReducer(E,k){return c.sliceCaseReducersByName[E]=k,h}};l.forEach(E=>{const k=a[E],F={reducerName:E,type:HB(s,E),createNotation:typeof i.reducers=="function"};YB(k)?JB(F,k,h,e):QB(F,k,h)});function d(){const[E={},k=[],F=void 0]=typeof i.extraReducers=="function"?_x(i.extraReducers):[i.extraReducers],b={...E,...c.sliceCaseReducersByType};return BB(i.initialState,C=>{for(let v in b)C.addCase(v,b[v]);for(let v of c.sliceMatchers)C.addMatcher(v.matcher,v.reducer);for(let v of k)C.addMatcher(v.matcher,v.reducer);F&&C.addDefaultCase(F)})}const f=E=>E,m=new Map;let w;function T(E,k){return w||(w=d()),w(E,k)}function P(){return w||(w=d()),w.getInitialState()}function _(E,k=!1){function F(C){let v=C[E];return typeof v>"u"&&k&&(v=P()),v}function b(C=f){const v=MS(m,k,{insert:()=>new WeakMap});return MS(v,C,{insert:()=>{const I={};for(const[A,O]of Object.entries(i.selectors??{}))I[A]=KB(O,C,P,k);return I}})}return{reducerPath:E,getSelectors:b,get selectors(){return b(F)},selectSlice:F}}const y={name:s,reducer:T,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:P,..._(o),injectInto(E,{reducerPath:k,...F}={}){const b=k??o;return E.inject({reducerPath:b,reducer:T},F),{...y,..._(b,!0)}}};return y}}function KB(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var GB=WB();function qB(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function QB({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!XB(r))throw new Error(xr(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?DS(t,o):DS(t))}function YB(t){return t._reducerDefinitionType==="asyncThunk"}function XB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function JB({type:t,reducerName:e},n,r,i){if(!i)throw new Error(xr(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:h}=n,d=i(t,s,h);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||bh,pending:a||bh,rejected:l||bh,settled:c||bh})}function bh(){}function xr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const wx=GB({name:"appSlice",initialState:{open:!1,emails:[],selectedEmail:null,searchText:"",user:null},reducers:{setOpen:(t,e)=>{t.open=e.payload},setEmails:(t,e)=>{t.emails=e.payload},setSelectedEmail:(t,e)=>{t.selectedEmail=e.payload},setSearchText:(t,e)=>{t.searchText=e.payload},setUser:(t,e)=>{t.user=e.payload}}}),{setOpen:fy,setEmails:ZB,setSelectedEmail:ez,setSearchText:tz,setUser:Ex}=wx.actions,nz=wx.reducer;function rz(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Sp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const py=t=>Array.isArray(t);function Tx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function zu(t){return typeof t=="string"||Array.isArray(t)}function LS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function k1(t,e,n,r){if(typeof e=="function"){const[i,s]=LS(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=LS(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Ip(t,e,n){const r=t.getProps();return k1(r,e,n!==void 0?n:r.custom,t)}const O1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D1=["initial",...O1],Rc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],To=new Set(Rc),si=t=>t*1e3,oi=t=>t/1e3,iz={type:"spring",stiffness:500,damping:25,restSpeed:10},sz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),oz={type:"keyframes",duration:.8},az={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lz=(t,{keyframes:e})=>e.length>2?oz:To.has(t)?t.startsWith("scale")?sz(e[1]):iz:az;function N1(t,e){return t?t[e]||t.default||t:void 0}const uz={skipAnimations:!1,useManualTiming:!1},cz=t=>t!==null;function Pp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(cz),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Qt=t=>t;function hz(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,d=!1)=>{const m=d&&r?e:n;return h&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const xh=["read","resolveKeyframes","update","preRender","render","postRender"],dz=40;function Sx(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=xh.reduce((_,y)=>(_[y]=hz(s),_),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:d,postRender:f}=o,m=()=>{const _=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,dz),1),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},w=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:xh.reduce((_,y)=>{const E=o[y];return _[y]=(k,F=!1,b=!1)=>(n||w(),E.schedule(k,F,b)),_},{}),cancel:_=>{for(let y=0;y<xh.length;y++)o[xh[y]].cancel(_)},state:i,steps:o}}const{schedule:Le,cancel:cs,state:Ot,steps:wg}=Sx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qt,!0),Ix=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fz=1e-7,pz=12;function mz(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Ix(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>fz&&++a<pz);return o}function bc(t,e,n,r){if(t===e&&n===r)return Qt;const i=s=>mz(s,0,1,t,n);return s=>s===0||s===1?s:Ix(i(s),e,r)}const Px=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Cx=t=>e=>1-t(1-e),Ax=bc(.33,1.53,.69,.99),M1=Cx(Ax),Rx=Px(M1),bx=t=>(t*=2)<1?.5*M1(t):.5*(2-Math.pow(2,-10*(t-1))),L1=t=>1-Math.sin(Math.acos(t)),xx=Cx(L1),kx=Px(L1),Ox=t=>/^0[^.\s]+$/u.test(t);function gz(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Ox(t):!0}let my=Qt;const Dx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Nx=t=>e=>typeof e=="string"&&e.startsWith(t),Mx=Nx("--"),vz=Nx("var(--"),V1=t=>vz(t)?yz.test(t.split("/*")[0].trim()):!1,yz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_z=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wz(t){const e=_z.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Lx(t,e,n=1){const[r,i]=wz(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Dx(o)?parseFloat(o):o}return V1(i)?Lx(i,e,n+1):i}const hs=(t,e,n)=>n>e?e:n<t?t:n,il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hu={...il,transform:t=>hs(0,1,t)},kh={...il,default:1},xc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ni=xc("deg"),kr=xc("%"),ue=xc("px"),Ez=xc("vh"),Tz=xc("vw"),VS={...kr,parse:t=>kr.parse(t)/100,transform:t=>kr.transform(t*100)},Sz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),FS=t=>t===il||t===ue,$S=(t,e)=>parseFloat(t.split(", ")[e]),jS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return $S(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?$S(s[1],t):0}},Iz=new Set(["x","y","z"]),Pz=Rc.filter(t=>!Iz.has(t));function Cz(t){const e=[];return Pz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $a={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:jS(4,13),y:jS(5,14)};$a.translateX=$a.x;$a.translateY=$a.y;const Vx=t=>e=>e.test(t),Az={test:t=>t==="auto",parse:t=>t},Fx=[il,ue,kr,Ni,Tz,Ez,Az],US=t=>Fx.find(Vx(t)),no=new Set;let gy=!1,vy=!1;function $x(){if(vy){const t=Array.from(no).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Cz(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vy=!1,gy=!1,no.forEach(t=>t.complete()),no.clear()}function jx(){no.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vy=!0)})}function Rz(){jx(),$x()}class F1{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(no.add(this),gy||(gy=!0,Le.read(jx),Le.resolveKeyframes($x))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),no.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,no.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fu=t=>Math.round(t*1e5)/1e5,$1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bz(t){return t==null}const xz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,j1=(t,e)=>n=>!!(typeof n=="string"&&xz.test(n)&&n.startsWith(t)||e&&!bz(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ux=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match($1);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},kz=t=>hs(0,255,t),Eg={...il,transform:t=>Math.round(kz(t))},Gs={test:j1("rgb","red"),parse:Ux("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Eg.transform(t)+", "+Eg.transform(e)+", "+Eg.transform(n)+", "+fu(Hu.transform(r))+")"};function Oz(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yy={test:j1("#"),parse:Oz,transform:Gs.transform},ua={test:j1("hsl","hue"),parse:Ux("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+kr.transform(fu(e))+", "+kr.transform(fu(n))+", "+fu(Hu.transform(r))+")"},Ht={test:t=>Gs.test(t)||yy.test(t)||ua.test(t),parse:t=>Gs.test(t)?Gs.parse(t):ua.test(t)?ua.parse(t):yy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Gs.transform(t):ua.transform(t)},Dz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Nz(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match($1))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Dz))===null||n===void 0?void 0:n.length)||0)>0}const Bx="number",zx="color",Mz="var",Lz="var(",BS="${}",Vz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Vz,l=>(Ht.test(l)?(r.color.push(s),i.push(zx),n.push(Ht.parse(l))):l.startsWith(Lz)?(r.var.push(s),i.push(Mz),n.push(l)):(r.number.push(s),i.push(Bx),n.push(parseFloat(l))),++s,BS)).split(BS);return{values:n,split:a,indexes:r,types:i}}function Hx(t){return Wu(t).values}function Wx(t){const{split:e,types:n}=Wu(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Bx?s+=fu(i[o]):a===zx?s+=Ht.transform(i[o]):s+=i[o]}return s}}const Fz=t=>typeof t=="number"?0:t;function $z(t){const e=Hx(t);return Wx(t)(e.map(Fz))}const ds={test:Nz,parse:Hx,createTransformer:Wx,getAnimatableNone:$z},jz=new Set(["brightness","contrast","saturate","opacity"]);function Uz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match($1)||[];if(!r)return t;const i=n.replace(r,"");let s=jz.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Bz=/\b([a-z-]*)\(.*?\)/gu,_y={...ds,getAnimatableNone:t=>{const e=t.match(Bz);return e?e.map(Uz).join(" "):t}},zz={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue},Hz={rotate:Ni,rotateX:Ni,rotateY:Ni,rotateZ:Ni,scale:kh,scaleX:kh,scaleY:kh,scaleZ:kh,skew:Ni,skewX:Ni,skewY:Ni,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:Hu,originX:VS,originY:VS,originZ:ue},zS={...il,transform:Math.round},U1={...zz,...Hz,zIndex:zS,size:ue,fillOpacity:Hu,strokeOpacity:Hu,numOctaves:zS},Wz={...U1,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:_y,WebkitFilter:_y},B1=t=>Wz[t];function Kx(t,e){let n=B1(t);return n!==_y&&(n=ds),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Kz=new Set(["auto","none","0"]);function Gz(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Kz.has(s)&&Wu(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Kx(n,i)}class Gx extends F1{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),V1(c))){const h=Lx(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Sz.has(r)||e.length!==2)return;const[i,s]=e,o=US(i),a=US(s);if(o!==a)if(FS(o)&&FS(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)gz(e[i])&&r.push(i);r.length&&Gz(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$a[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=$a[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function z1(t){return typeof t=="function"}let nd;function qz(){nd=void 0}const Or={now:()=>(nd===void 0&&Or.set(Ot.isProcessing||uz.useManualTiming?Ot.timestamp:performance.now()),nd),set:t=>{nd=t,queueMicrotask(qz)}},HS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ds.test(t)||t==="0")&&!t.startsWith("url("));function Qz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Yz(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=HS(i,e),a=HS(s,e);return!o||!a?!1:Qz(t)||(n==="spring"||z1(n))&&r}const Xz=40;class qx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Or.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Xz?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Rz(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Or.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Yz(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Pp(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function Qx(t,e){return e?t*(1e3/e):0}const Jz=5;function Yx(t,e,n){const r=Math.max(e-Jz,0);return Qx(n-t(r),e-r)}const Tg=.001,Zz=.01,eH=10,tH=.05,nH=1;function rH({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=hs(tH,nH,o),t=hs(Zz,eH,oi(t)),o<1?(i=c=>{const h=c*o,d=h*t,f=h-n,m=wy(c,o),w=Math.exp(-d);return Tg-f/m*w},s=c=>{const d=c*o*t,f=d*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-d),T=wy(Math.pow(c,2),o);return(-i(c)+Tg>0?-1:1)*((f-m)*w)/T}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-Tg+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=sH(i,s,a);if(t=si(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const iH=12;function sH(t,e,n){let r=n;for(let i=1;i<iH;i++)r=r-t(r)/e(r);return r}function wy(t,e){return t*Math.sqrt(1-e*e)}const oH=["duration","bounce"],aH=["stiffness","damping","mass"];function WS(t,e){return e.some(n=>t[n]!==void 0)}function lH(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!WS(t,aH)&&WS(t,oH)){const n=rH(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Xx({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=lH({...r,velocity:-oi(r.velocity||0)}),m=d||0,w=l/(2*Math.sqrt(a*c)),T=s-i,P=oi(Math.sqrt(a/c)),_=Math.abs(T)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let y;if(w<1){const E=wy(P,w);y=k=>{const F=Math.exp(-w*P*k);return s-F*((m+w*P*T)/E*Math.sin(E*k)+T*Math.cos(E*k))}}else if(w===1)y=E=>s-Math.exp(-P*E)*(T+(m+P*T)*E);else{const E=P*Math.sqrt(w*w-1);y=k=>{const F=Math.exp(-w*P*k),b=Math.min(E*k,300);return s-F*((m+w*P*T)*Math.sinh(b)+E*T*Math.cosh(b))/E}}return{calculatedDuration:f&&h||null,next:E=>{const k=y(E);if(f)o.done=E>=h;else{let F=0;w<1&&(F=E===0?si(m):Yx(y,E,k));const b=Math.abs(F)<=n,C=Math.abs(s-k)<=e;o.done=b&&C}return o.value=o.done?s:k,o}}}function KS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},m=v=>a!==void 0&&v<a||l!==void 0&&v>l,w=v=>a===void 0?l:l===void 0||Math.abs(a-v)<Math.abs(l-v)?a:l;let T=n*e;const P=d+T,_=o===void 0?P:o(P);_!==P&&(T=_-d);const y=v=>-T*Math.exp(-v/r),E=v=>_+y(v),k=v=>{const I=y(v),A=E(v);f.done=Math.abs(I)<=c,f.value=f.done?_:A};let F,b;const C=v=>{m(f.value)&&(F=v,b=Xx({keyframes:[f.value,w(f.value)],velocity:Yx(E,v,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:v=>{let I=!1;return!b&&F===void 0&&(I=!0,k(v),C(v)),F!==void 0&&v>=F?b.next(v-F):(!I&&k(v),f)}}}const uH=bc(.42,0,1,1),cH=bc(0,0,.58,1),Jx=bc(.42,0,.58,1),hH=t=>Array.isArray(t)&&typeof t[0]!="number",H1=t=>Array.isArray(t)&&typeof t[0]=="number",GS={linear:Qt,easeIn:uH,easeInOut:Jx,easeOut:cH,circIn:L1,circInOut:kx,circOut:xx,backIn:M1,backInOut:Rx,backOut:Ax,anticipate:bx},qS=t=>{if(H1(t)){my(t.length===4);const[e,n,r,i]=t;return bc(e,n,r,i)}else if(typeof t=="string")return my(GS[t]!==void 0),GS[t];return t},dH=(t,e)=>n=>e(t(n)),ai=(...t)=>t.reduce(dH),ja=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Je=(t,e,n)=>t+(e-t)*n;function Sg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fH({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Sg(l,a,t+1/3),s=Sg(l,a,t),o=Sg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function tf(t,e){return n=>n>0?e:t}const Ig=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},pH=[yy,Gs,ua],mH=t=>pH.find(e=>e.test(t));function QS(t){const e=mH(t);if(!e)return!1;let n=e.parse(t);return e===ua&&(n=fH(n)),n}const YS=(t,e)=>{const n=QS(t),r=QS(e);if(!n||!r)return tf(t,e);const i={...n};return s=>(i.red=Ig(n.red,r.red,s),i.green=Ig(n.green,r.green,s),i.blue=Ig(n.blue,r.blue,s),i.alpha=Je(n.alpha,r.alpha,s),Gs.transform(i))},Ey=new Set(["none","hidden"]);function gH(t,e){return Ey.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function vH(t,e){return n=>Je(t,e,n)}function W1(t){return typeof t=="number"?vH:typeof t=="string"?V1(t)?tf:Ht.test(t)?YS:wH:Array.isArray(t)?Zx:typeof t=="object"?Ht.test(t)?YS:yH:tf}function Zx(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>W1(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function yH(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=W1(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function _H(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const wH=(t,e)=>{const n=ds.createTransformer(e),r=Wu(t),i=Wu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ey.has(t)&&!i.values.length||Ey.has(e)&&!r.values.length?gH(t,e):ai(Zx(_H(r,i),i.values),n):tf(t,e)};function ek(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Je(t,e,n):W1(t)(t,e)}function EH(t,e,n){const r=[],i=n||ek,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Qt:e;a=ai(l,a)}r.push(a)}return r}function TH(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(my(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=EH(e,r,i),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=ja(t[h],t[h+1],c);return o[h](d)};return n?c=>l(hs(t[0],t[s-1],c)):l}function SH(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ja(0,e,r);t.push(Je(n,1,i))}}function IH(t){const e=[0];return SH(e,t.length-1),e}function PH(t,e){return t.map(n=>n*e)}function CH(t,e){return t.map(()=>e||Jx).splice(0,t.length-1)}function nf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=hH(r)?r.map(qS):qS(r),s={done:!1,value:e[0]},o=PH(n&&n.length===e.length?n:IH(e),t),a=TH(o,e,{ease:Array.isArray(i)?i:CH(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const XS=2e4;function AH(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<XS;)e+=n,r=t.next(e);return e>=XS?1/0:e}const RH=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Le.update(e,!0),stop:()=>cs(e),now:()=>Ot.isProcessing?Ot.timestamp:Or.now()}},bH={decay:KS,inertia:KS,tween:nf,keyframes:nf,spring:Xx},xH=t=>t/100;class K1 extends qx{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||F1,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=z1(n)?n:bH[n]||nf;let l,c;a!==nf&&typeof e[0]!="number"&&(l=ai(xH,ek(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=AH(h));const{calculatedDuration:d}=h,f=d+i,m=f*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:v}=this.options;return{done:!0,value:v[v.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:w,repeatDelay:T,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?_<0:_>h;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let E=this.currentTime,k=s;if(m){const v=Math.min(this.currentTime,h)/d;let I=Math.floor(v),A=v%1;!A&&v>=1&&(A=1),A===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(w==="reverse"?(A=1-A,T&&(A-=T/d)):w==="mirror"&&(k=o)),E=hs(0,1,A)*d}const F=y?{done:!1,value:l[0]}:k.next(E);a&&(F.value=a(F.value));let{done:b}=F;!y&&c!==null&&(b=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&b);return C&&i!==void 0&&(F.value=Pp(l,this.options,i)),P&&P(F.value),C&&this.finish(),F}get duration(){const{resolved:e}=this;return e?oi(e.calculatedDuration):0}get time(){return oi(this.currentTime)}set time(e){e=si(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=oi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=RH,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const kH=new Set(["opacity","clipPath","filter","transform"]),OH=10,DH=(t,e)=>{let n="";const r=Math.max(Math.round(e/OH),2);for(let i=0;i<r;i++)n+=t(ja(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function G1(t){let e;return()=>(e===void 0&&(e=t()),e)}const NH={linearEasing:void 0};function MH(t,e){const n=G1(t);return()=>{var r;return(r=NH[e])!==null&&r!==void 0?r:n()}}const rf=MH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function tk(t){return!!(typeof t=="function"&&rf()||!t||typeof t=="string"&&(t in Ty||rf())||H1(t)||Array.isArray(t)&&t.every(tk))}const Yl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ty={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yl([0,.65,.55,1]),circOut:Yl([.55,0,1,.45]),backIn:Yl([.31,.01,.66,-.59]),backOut:Yl([.33,1.53,.69,.99])};function nk(t,e){if(t)return typeof t=="function"&&rf()?DH(t,e):H1(t)?Yl(t):Array.isArray(t)?t.map(n=>nk(n,e)||Ty.easeOut):Ty[t]}function LH(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=nk(a,i);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function JS(t,e){t.timeline=e,t.onfinish=null}const VH=G1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sf=10,FH=2e4;function $H(t){return z1(t.type)||t.type==="spring"||!tk(t.ease)}function jH(t,e){const n=new K1({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<FH;)r=n.sample(s),i.push(r.value),s+=sf;return{times:void 0,keyframes:i,duration:s-sf,ease:"linear"}}const rk={anticipate:bx,backInOut:Rx,circInOut:kx};function UH(t){return t in rk}class ZS extends qx{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Gx(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:h}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&rf()&&UH(o)&&(o=rk[o]),$H(this.options)){const{onComplete:f,onUpdate:m,motionValue:w,element:T,...P}=this.options,_=jH(e,P);e=_.keyframes,e.length===1&&(e[1]=e[0]),i=_.duration,s=_.times,o=_.ease,a="keyframes"}const d=LH(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(JS(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(Pp(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return oi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return oi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=si(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Qt;const{animation:r}=n;JS(r,e)}return Qt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:d,element:f,...m}=this.options,w=new K1({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),T=si(this.time);c.setWithVelocity(w.sample(T-sf).value,w.sample(T).value,sf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return VH()&&r&&kH.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const BH=G1(()=>window.ScrollTimeline!==void 0);class zH{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>BH()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function HH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const q1=(t,e,n,r={},i,s)=>o=>{const a=N1(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-si(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};HH(a)||(h={...h,...lz(t,h)}),h.duration&&(h.duration=si(h.duration)),h.repeatDelay&&(h.repeatDelay=si(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const f=Pp(h.keyframes,a);if(f!==void 0)return Le.update(()=>{h.onUpdate(f),h.onComplete()}),new zH([])}return!s&&ZS.supports(h)?new ZS(h):new K1(h)},WH=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),KH=t=>py(t)?t[t.length-1]||0:t;function Q1(t,e){t.indexOf(e)===-1&&t.push(e)}function Y1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class X1{constructor(){this.subscriptions=[]}add(e){return Q1(this.subscriptions,e),()=>Y1(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eI=30,GH=t=>!isNaN(parseFloat(t));class qH{constructor(e,n={}){this.version="11.11.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Or.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Or.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=GH(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new X1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Or.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>eI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,eI);return Qx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ku(t,e){return new qH(t,e)}function QH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ku(n))}function YH(t,e){const n=Ip(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=KH(s[o]);QH(t,o,a)}}const J1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XH="framerAppearId",ik="data-"+J1(XH);function sk(t){return t.props[ik]}const qt=t=>!!(t&&t.getVelocity);function JH(t){return!!(qt(t)&&t.add)}function Sy(t,e){const n=t.getValue("willChange");if(JH(n))return n.add(e)}function ZH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ok(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),m=l[d];if(m===void 0||h&&ZH(h,d))continue;const w={delay:n,...N1(o||{},d)};let T=!1;if(window.MotionHandoffAnimation){const _=sk(t);if(_){const y=window.MotionHandoffAnimation(_,d,Le);y!==null&&(w.startTime=y,T=!0)}}Sy(t,d),f.start(q1(d,f,m,t.shouldReduceMotion&&To.has(d)?{type:!1}:w,t,T));const P=f.animation;P&&c.push(P)}return a&&Promise.all(c).then(()=>{Le.update(()=>{a&&YH(t,a)})}),c}function Iy(t,e,n={}){var r;const i=Ip(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(ok(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return eW(t,e,h+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function eW(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(tW).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Iy(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function tW(t,e){return t.sortNodePosition(e)}function nW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Iy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Iy(t,e,n);else{const i=typeof e=="function"?Ip(t,e,n.custom):e;r=Promise.all(ok(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const rW=D1.length;function ak(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ak(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<rW;n++){const r=D1[n],i=t.props[r];(zu(i)||i===!1)&&(e[r]=i)}return e}const iW=[...O1].reverse(),sW=O1.length;function oW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nW(t,n,r)))}function aW(t){let e=oW(t),n=tI(),r=!0;const i=l=>(c,h)=>{var d;const f=Ip(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:w,...T}=f;c={...c,...T,...w}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,h=ak(t.parent)||{},d=[],f=new Set;let m={},w=1/0;for(let P=0;P<sW;P++){const _=iW[P],y=n[_],E=c[_]!==void 0?c[_]:h[_],k=zu(E),F=_===l?y.isActive:null;F===!1&&(w=P);let b=E===h[_]&&E!==c[_]&&k;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),y.protectedKeys={...m},!y.isActive&&F===null||!E&&!y.prevProp||Sp(E)||typeof E=="boolean")continue;const C=lW(y.prevProp,E);let v=C||_===l&&y.isActive&&!b&&k||P>w&&k,I=!1;const A=Array.isArray(E)?E:[E];let O=A.reduce(i(_),{});F===!1&&(O={});const{prevResolvedValues:D={}}=y,R={...D,...O},Ae=pe=>{v=!0,f.has(pe)&&(I=!0,f.delete(pe)),y.needsAnimating[pe]=!0;const W=t.getValue(pe);W&&(W.liveStyle=!1)};for(const pe in R){const W=O[pe],ie=D[pe];if(m.hasOwnProperty(pe))continue;let oe=!1;py(W)&&py(ie)?oe=!Tx(W,ie):oe=W!==ie,oe?W!=null?Ae(pe):f.add(pe):W!==void 0&&f.has(pe)?Ae(pe):y.protectedKeys[pe]=!0}y.prevProp=E,y.prevResolvedValues=O,y.isActive&&(m={...m,...O}),r&&t.blockInitialAnimation&&(v=!1),v&&(!(b&&C)||I)&&d.push(...A.map(pe=>({animation:pe,options:{type:_}})))}if(f.size){const P={};f.forEach(_=>{const y=t.getBaseTarget(_),E=t.getValue(_);E&&(E.liveStyle=!0),P[_]=y??null}),d.push({animation:P})}let T=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(d):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=tI(),r=!0}}}function lW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Tx(e,t):!1}function Ms(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tI(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}class Cs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class uW extends Cs{constructor(e){super(e),e.animationState||(e.animationState=aW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let cW=0;class hW extends Cs{constructor(){super(...arguments),this.id=cW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const dW={animation:{Feature:uW},exit:{Feature:hW}},lk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Cp(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const fW=t=>e=>lk(e)&&t(e,Cp(e));function Zr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function li(t,e,n,r){return Zr(t,e,fW(n),r)}const nI=(t,e)=>Math.abs(t-e);function pW(t,e){const n=nI(t.x,e.x),r=nI(t.y,e.y);return Math.sqrt(n**2+r**2)}class uk{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Cg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=pW(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:w}=d,{timestamp:T}=Ot;this.history.push({...w,timestamp:T});const{onStart:P,onMove:_}=this.handlers;f||(P&&P(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Pg(f,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Cg(d.type==="pointercancel"?this.lastMoveEventInfo:Pg(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,P),w&&w(d,P)},!lk(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Cp(e),a=Pg(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ot;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Cg(a,this.history)),this.removeListeners=ai(li(this.contextWindow,"pointermove",this.handlePointerMove),li(this.contextWindow,"pointerup",this.handlePointerUp),li(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cs(this.updatePoint)}}function Pg(t,e){return e?{point:e(t.point)}:t}function rI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cg({point:t},e){return{point:t,delta:rI(t,ck(e)),offset:rI(t,mW(e)),velocity:gW(e,.1)}}function mW(t){return t[0]}function ck(t){return t[t.length-1]}function gW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ck(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>si(e)));)n--;if(!r)return{x:0,y:0};const s=oi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function hk(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const iI=hk("dragHorizontal"),sI=hk("dragVertical");function dk(t){let e=!1;if(t==="y")e=sI();else if(t==="x")e=iI();else{const n=iI(),r=sI();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function fk(){const t=dk(!0);return t?(t(),!1):!0}function ca(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const pk=1e-4,vW=1-pk,yW=1+pk,mk=.01,_W=0-mk,wW=0+mk;function On(t){return t.max-t.min}function EW(t,e,n){return Math.abs(t-e)<=n}function oI(t,e,n,r=.5){t.origin=r,t.originPoint=Je(e.min,e.max,t.origin),t.scale=On(n)/On(e),t.translate=Je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=vW&&t.scale<=yW||isNaN(t.scale))&&(t.scale=1),(t.translate>=_W&&t.translate<=wW||isNaN(t.translate))&&(t.translate=0)}function pu(t,e,n,r){oI(t.x,e.x,n.x,r?r.originX:void 0),oI(t.y,e.y,n.y,r?r.originY:void 0)}function aI(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function TW(t,e,n){aI(t.x,e.x,n.x),aI(t.y,e.y,n.y)}function lI(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function mu(t,e,n){lI(t.x,e.x,n.x),lI(t.y,e.y,n.y)}function SW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Je(n,t,r.max):Math.min(t,n)),t}function uI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function IW(t,{top:e,left:n,bottom:r,right:i}){return{x:uI(t.x,n,i),y:uI(t.y,e,r)}}function cI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function PW(t,e){return{x:cI(t.x,e.x),y:cI(t.y,e.y)}}function CW(t,e){let n=.5;const r=On(t),i=On(e);return i>r?n=ja(e.min,e.max-r,t.min):r>i&&(n=ja(t.min,t.max-i,e.min)),hs(0,1,n)}function AW(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Py=.35;function RW(t=Py){return t===!1?t=0:t===!0&&(t=Py),{x:hI(t,"left","right"),y:hI(t,"top","bottom")}}function hI(t,e,n){return{min:dI(t,e),max:dI(t,n)}}function dI(t,e){return typeof t=="number"?t:t[e]||0}const fI=()=>({translate:0,scale:1,origin:0,originPoint:0}),ha=()=>({x:fI(),y:fI()}),pI=()=>({min:0,max:0}),it=()=>({x:pI(),y:pI()});function Un(t){return[t("x"),t("y")]}function gk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function bW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ag(t){return t===void 0||t===1}function Cy({scale:t,scaleX:e,scaleY:n}){return!Ag(t)||!Ag(e)||!Ag(n)}function $s(t){return Cy(t)||vk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vk(t){return mI(t.x)||mI(t.y)}function mI(t){return t&&t!=="0%"}function of(t,e,n){const r=t-n,i=e*r;return n+i}function gI(t,e,n,r,i){return i!==void 0&&(t=of(t,i,r)),of(t,n,r)+e}function Ay(t,e=0,n=1,r,i){t.min=gI(t.min,e,n,r,i),t.max=gI(t.max,e,n,r,i)}function yk(t,{x:e,y:n}){Ay(t.x,e.translate,e.scale,e.originPoint),Ay(t.y,n.translate,n.scale,n.originPoint)}const vI=.999999999999,yI=1.0000000000001;function kW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&fa(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yk(t,o)),r&&$s(s.latestValues)&&fa(t,s.latestValues))}e.x<yI&&e.x>vI&&(e.x=1),e.y<yI&&e.y>vI&&(e.y=1)}function da(t,e){t.min=t.min+e,t.max=t.max+e}function _I(t,e,n,r,i=.5){const s=Je(t.min,t.max,i);Ay(t,e,n,s,r)}function fa(t,e){_I(t.x,e.x,e.scaleX,e.scale,e.originX),_I(t.y,e.y,e.scaleY,e.scale,e.originY)}function _k(t,e){return gk(xW(t.getBoundingClientRect(),e))}function OW(t,e,n){const r=_k(t,n),{scroll:i}=e;return i&&(da(r.x,i.offset.x),da(r.y,i.offset.y)),r}const wk=({current:t})=>t?t.ownerDocument.defaultView:null,DW=new WeakMap;class NW{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cp(h,"page").point)},s=(h,d)=>{const{drag:f,dragPropagation:m,onDragStart:w}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dk(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(P=>{let _=this.getAxisMotionValue(P).get()||0;if(kr.test(_)){const{projection:y}=this.visualElement;if(y&&y.layout){const E=y.layout.layoutBox[P];E&&(_=On(E)*(parseFloat(_)/100))}}this.originPoint[P]=_}),w&&Le.postRender(()=>w(h,d)),Sy(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:w,onDrag:T}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:P}=d;if(m&&this.currentDirection===null){this.currentDirection=MW(P),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",d.point,P),this.updateAxis("y",d.point,P),this.visualElement.render(),T&&T(h,d)},a=(h,d)=>this.stop(h,d),l=()=>Un(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new uk(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:wk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Le.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Oh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=SW(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ca(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=IW(i.layoutBox,n):this.constraints=!1,this.elastic=RW(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Un(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=AW(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ca(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=OW(r,i.root,this.visualElement.getTransformPagePoint());let o=PW(i.layout.layoutBox,s);if(n){const a=n(bW(o));this.hasMutatedConstraints=!!a,a&&(o=gk(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Un(h=>{if(!Oh(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Sy(this.visualElement,e),r.start(q1(e,r,0,n,this.visualElement,!1))}stopAnimation(){Un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Un(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Un(n=>{const{drag:r}=this.getProps();if(!Oh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ca(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Un(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=CW({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Un(o=>{if(!Oh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Je(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;DW.set(this.visualElement,this);const e=this.visualElement.current,n=li(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ca(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Le.read(r);const o=Zr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Un(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Py,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Oh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function MW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class LW extends Cs{constructor(e){super(e),this.removeGroupControls=Qt,this.removeListeners=Qt,this.controls=new NW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const wI=t=>(e,n)=>{t&&Le.postRender(()=>t(e,n))};class VW extends Cs{constructor(){super(...arguments),this.removePointerDownListener=Qt}onPointerDown(e){this.session=new uk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:wI(e),onStart:wI(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Le.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=li(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ap=V.createContext(null);function FW(){const t=V.useContext(Ap);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=V.useId();V.useEffect(()=>r(i),[]);const s=V.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const Z1=V.createContext({}),Ek=V.createContext({}),rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const n=EI(t,e.target.x),r=EI(t,e.target.y);return`${n}% ${r}%`}},$W={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ds.parse(t);if(i.length>5)return r;const s=ds.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Je(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},af={};function jW(t){Object.assign(af,t)}const{schedule:e_,cancel:vie}=Sx(queueMicrotask,!1);class UW extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;jW(BW),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Le.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),e_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Tk(t){const[e,n]=FW(),r=V.useContext(Z1);return L.jsx(UW,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(Ek),isPresent:e,safeToRemove:n})}const BW={borderRadius:{...jl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jl,borderTopRightRadius:jl,borderBottomLeftRadius:jl,borderBottomRightRadius:jl,boxShadow:$W},Sk=["TopLeft","TopRight","BottomLeft","BottomRight"],zW=Sk.length,TI=t=>typeof t=="string"?parseFloat(t):t,SI=t=>typeof t=="number"||ue.test(t);function HW(t,e,n,r,i,s){i?(t.opacity=Je(0,n.opacity!==void 0?n.opacity:1,WW(r)),t.opacityExit=Je(e.opacity!==void 0?e.opacity:1,0,KW(r))):s&&(t.opacity=Je(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<zW;o++){const a=`border${Sk[o]}Radius`;let l=II(e,a),c=II(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||SI(l)===SI(c)?(t[a]=Math.max(Je(TI(l),TI(c),r),0),(kr.test(c)||kr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Je(e.rotate||0,n.rotate||0,r))}function II(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WW=Ik(0,.5,xx),KW=Ik(.5,.95,Qt);function Ik(t,e,n){return r=>r<t?0:r>e?1:n(ja(t,e,r))}function PI(t,e){t.min=e.min,t.max=e.max}function jn(t,e){PI(t.x,e.x),PI(t.y,e.y)}function CI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function AI(t,e,n,r,i){return t-=e,t=of(t,1/n,r),i!==void 0&&(t=of(t,1/i,r)),t}function GW(t,e=0,n=1,r=.5,i,s=t,o=t){if(kr.test(e)&&(e=parseFloat(e),e=Je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Je(s.min,s.max,r);t===s&&(a-=e),t.min=AI(t.min,e,n,a,i),t.max=AI(t.max,e,n,a,i)}function RI(t,e,[n,r,i],s,o){GW(t,e[n],e[r],e[i],e.scale,s,o)}const qW=["x","scaleX","originX"],QW=["y","scaleY","originY"];function bI(t,e,n,r){RI(t.x,e,qW,n?n.x:void 0,r?r.x:void 0),RI(t.y,e,QW,n?n.y:void 0,r?r.y:void 0)}function xI(t){return t.translate===0&&t.scale===1}function Pk(t){return xI(t.x)&&xI(t.y)}function kI(t,e){return t.min===e.min&&t.max===e.max}function YW(t,e){return kI(t.x,e.x)&&kI(t.y,e.y)}function OI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ck(t,e){return OI(t.x,e.x)&&OI(t.y,e.y)}function DI(t){return On(t.x)/On(t.y)}function NI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class XW{constructor(){this.members=[]}add(e){Q1(this.members,e),e.scheduleRender()}remove(e){if(Y1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JW(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:f,skewX:m,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ZW=(t,e)=>t.depth-e.depth;class eK{constructor(){this.children=[],this.isDirty=!1}add(e){Q1(this.children,e),this.isDirty=!0}remove(e){Y1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZW),this.isDirty=!1,this.children.forEach(e)}}function id(t){const e=qt(t)?t.get():t;return WH(e)?e.toValue():e}function tK(t,e){const n=Or.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(cs(r),t(s-e))};return Le.read(r,!0),()=>cs(r)}function nK(t){return t instanceof SVGElement&&t.tagName!=="svg"}function rK(t,e,n){const r=qt(t)?t:Ku(t);return r.start(q1("",r,e,n)),r.animation}const js={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Xl=typeof window<"u"&&window.MotionDebug!==void 0,Rg=["","X","Y","Z"],iK={visibility:"hidden"},MI=1e3;let sK=0;function bg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Ak(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Le,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Ak(r)}function Rk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=sK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xl&&(js.totalNodes=js.resolvedTargetDeltas=js.recalculatedProjection=0),this.nodes.forEach(lK),this.nodes.forEach(fK),this.nodes.forEach(pK),this.nodes.forEach(uK),Xl&&window.MotionDebug.record(js)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new eK)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new X1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nK(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=tK(f,250),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(VI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||_K,{onLayoutAnimationStart:P,onLayoutAnimationComplete:_}=h.getProps(),y=!this.targetLayout||!Ck(this.targetLayout,w)||m,E=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,E);const k={...N1(T,"layout"),onPlay:P,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||VI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ak(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LI);return}this.isUpdating||this.nodes.forEach(hK),this.isUpdating=!1,this.nodes.forEach(dK),this.nodes.forEach(oK),this.nodes.forEach(aK),this.clearAllSnapshots();const a=Or.now();Ot.delta=hs(0,1e3/60,a-Ot.timestamp),Ot.timestamp=a,Ot.isProcessing=!0,wg.update.process(Ot),wg.preRender.process(Ot),wg.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,e_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cK),this.sharedNodes.forEach(gK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Pk(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||$s(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),wK(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return it();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(EK))){const{scroll:h}=this.root;h&&(da(l.x,h.offset.x),da(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=it();if(jn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&jn(l,o),da(l.x,d.offset.x),da(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=it();jn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&fa(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),$s(h.latestValues)&&fa(l,h.latestValues)}return $s(this.latestValues)&&fa(l,this.latestValues),l}removeTransform(o){const a=it();jn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!$s(c.latestValues))continue;Cy(c.latestValues)&&c.updateSnapshot();const h=it(),d=c.measurePageBox();jn(h,d),bI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return $s(this.latestValues)&&bI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),mu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jn(this.target,this.layout.layoutBox),yk(this.target,this.targetDelta)):jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),mu(this.relativeTargetOrigin,this.target,m.target),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xl&&js.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cy(this.parent.latestValues)||vk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;jn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;kW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=it());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CI(this.prevProjectionDelta.x,this.projectionDelta.x),CI(this.prevProjectionDelta.y,this.projectionDelta.y)),pu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!NI(this.projectionDelta.x,this.prevProjectionDelta.x)||!NI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Xl&&js.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ha(),this.projectionDelta=ha(),this.projectionDeltaWithTransform=ha()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=it(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,T=m!==w,P=this.getStack(),_=!P||P.members.length<=1,y=!!(T&&!_&&this.options.crossfade===!0&&!this.path.some(yK));this.animationProgress=0;let E;this.mixTargetDelta=k=>{const F=k/1e3;FI(d.x,o.x,F),FI(d.y,o.y,F),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vK(this.relativeTarget,this.relativeTargetOrigin,f,F),E&&YW(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=it()),jn(E,this.relativeTarget)),T&&(this.animationValues=h,HW(h,c,this.latestValues,F,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{rd.hasAnimatedSinceResize=!0,this.currentAnimation=rK(0,MI,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&bk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||it();const d=On(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=On(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}jn(a,l),fa(a,h),pu(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new XW),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&bg("z",o,c,this.animationValues);for(let h=0;h<Rg.length;h++)bg(`rotate${Rg[h]}`,o,c,this.animationValues),bg(`skew${Rg[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return iK;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=id(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=id(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$s(this.latestValues)&&(T.transform=h?h({},""):"none",this.hasProjected=!1),T}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=JW(this.projectionDeltaWithTransform,this.treeScale,f),h&&(c.transform=h(f,c.transform));const{x:m,y:w}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const T in af){if(f[T]===void 0)continue;const{correct:P,applyTo:_}=af[T],y=c.transform==="none"?f[T]:P(f[T],d);if(_){const E=_.length;for(let k=0;k<E;k++)c[_[k]]=y}else c[T]=y}return this.options.layoutId&&(c.pointerEvents=d===this?id(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(LI),this.root.sharedNodes.clear()}}}function oK(t){t.updateLayout()}function aK(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Un(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],m=On(f);f.min=r[d].min,f.max=f.min+m}):bk(s,n.layoutBox,r)&&Un(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],m=On(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=ha();pu(a,r,n.layoutBox);const l=ha();o?pu(l,t.applyTransform(i,!0),n.measuredBox):pu(l,r,n.layoutBox);const c=!Pk(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const w=it();mu(w,n.layoutBox,f.layoutBox);const T=it();mu(T,r,m.layoutBox),Ck(w,T)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=w,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function lK(t){Xl&&js.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cK(t){t.clearSnapshot()}function LI(t){t.clearMeasurements()}function hK(t){t.isLayoutDirty=!1}function dK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function VI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fK(t){t.resolveTargetDelta()}function pK(t){t.calcProjection()}function mK(t){t.resetSkewAndRotation()}function gK(t){t.removeLeadSnapshot()}function FI(t,e,n){t.translate=Je(e.translate,0,n),t.scale=Je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $I(t,e,n,r){t.min=Je(e.min,n.min,r),t.max=Je(e.max,n.max,r)}function vK(t,e,n,r){$I(t.x,e.x,n.x,r),$I(t.y,e.y,n.y,r)}function yK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _K={duration:.45,ease:[.4,0,.1,1]},jI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),UI=jI("applewebkit/")&&!jI("chrome/")?Math.round:Qt;function BI(t){t.min=UI(t.min),t.max=UI(t.max)}function wK(t){BI(t.x),BI(t.y)}function bk(t,e,n){return t==="position"||t==="preserve-aspect"&&!EW(DI(e),DI(n),.2)}function EK(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const TK=Rk({attachResizeListener:(t,e)=>Zr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xg={current:void 0},xk=Rk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xg.current){const t=new TK({});t.mount(window),t.setOptions({layoutScroll:!0}),xg.current=t}return xg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),SK={pan:{Feature:VW},drag:{Feature:LW,ProjectionNode:xk,MeasureLayout:Tk}};function zI(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||fk())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Le.postRender(()=>l(s,o))};return li(t.current,n,i,{passive:!t.getProps()[r]})}class IK extends Cs{mount(){this.unmount=ai(zI(this.node,!0),zI(this.node,!1))}unmount(){}}class PK extends Cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ai(Zr(this.node.current,"focus",()=>this.onFocus()),Zr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const kk=(t,e)=>e?t===e?!0:kk(t,e.parentElement):!1;function kg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Cp(n))}class CK extends Cs{constructor(){super(...arguments),this.removeStartListeners=Qt,this.removeEndListeners=Qt,this.removeAccessibleListeners=Qt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=li(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),f=!d&&!kk(this.node.current,a.target)?h:c;f&&Le.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=li(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ai(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||kg("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&Le.postRender(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=Zr(this.node.current,"keyup",o),kg("down",(a,l)=>{this.startPress(a,l)})},n=Zr(this.node.current,"keydown",e),r=()=>{this.isPressing&&kg("cancel",(s,o)=>this.cancelPress(s,o))},i=Zr(this.node.current,"blur",r);this.removeAccessibleListeners=ai(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Le.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!fk()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Le.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=li(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Zr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ai(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ry=new WeakMap,Og=new WeakMap,AK=t=>{const e=Ry.get(t.target);e&&e(t)},RK=t=>{t.forEach(AK)};function bK({root:t,...e}){const n=t||document;Og.has(n)||Og.set(n,{});const r=Og.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(RK,{root:t,...e})),r[i]}function xK(t,e,n){const r=bK(e);return Ry.set(t,n),r.observe(t),()=>{Ry.delete(t),r.unobserve(t)}}const kK={some:0,all:1};class OK extends Cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:kK[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=c?h:d;f&&f(l)};return xK(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(DK(e,n))&&this.startObserver()}unmount(){}}function DK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const NK={inView:{Feature:OK},tap:{Feature:CK},focus:{Feature:PK},hover:{Feature:IK}},MK={layout:{ProjectionNode:xk,MeasureLayout:Tk}},t_=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Rp=V.createContext({}),n_=typeof window<"u",Ok=n_?V.useLayoutEffect:V.useEffect,Dk=V.createContext({strict:!1});function LK(t,e,n,r,i){var s,o;const{visualElement:a}=V.useContext(Rp),l=V.useContext(Dk),c=V.useContext(Ap),h=V.useContext(t_).reducedMotion,d=V.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const f=d.current,m=V.useContext(Ek);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&VK(d.current,n,i,m);const w=V.useRef(!1);V.useInsertionEffect(()=>{f&&w.current&&f.update(n,c)});const T=n[ik],P=V.useRef(!!T&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,T))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,T)));return Ok(()=>{f&&(w.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),e_.render(f.render),P.current&&f.animationState&&f.animationState.animateChanges())}),V.useEffect(()=>{f&&(!P.current&&f.animationState&&f.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,T)}),P.current=!1))}),f}function VK(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Nk(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ca(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Nk(t){if(t)return t.options.allowProjection!==!1?t.projection:Nk(t.parent)}function FK(t,e,n){return V.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ca(n)&&(n.current=r))},[e])}function bp(t){return Sp(t.animate)||D1.some(e=>zu(t[e]))}function Mk(t){return!!(bp(t)||t.variants)}function $K(t,e){if(bp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||zu(n)?n:void 0,animate:zu(r)?r:void 0}}return t.inherit!==!1?e:{}}function jK(t){const{initial:e,animate:n}=$K(t,V.useContext(Rp));return V.useMemo(()=>({initial:e,animate:n}),[HI(e),HI(n)])}function HI(t){return Array.isArray(t)?t.join(" "):t}const WI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ua={};for(const t in WI)Ua[t]={isEnabled:e=>WI[t].some(n=>!!e[n])};function UK(t){for(const e in t)Ua[e]={...Ua[e],...t[e]}}const BK=Symbol.for("motionComponentSymbol");function zK({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&UK(t);function s(a,l){let c;const h={...V.useContext(t_),...a,layoutId:HK(a)},{isStatic:d}=h,f=jK(a),m=r(a,d);if(!d&&n_){WK();const w=KK(h);c=w.MeasureLayout,f.visualElement=LK(i,m,h,e,w.ProjectionNode)}return L.jsxs(Rp.Provider,{value:f,children:[c&&f.visualElement?L.jsx(c,{visualElement:f.visualElement,...h}):null,n(i,a,FK(m,f.visualElement,l),m,d,f.visualElement)]})}const o=V.forwardRef(s);return o[BK]=i,o}function HK({layoutId:t}){const e=V.useContext(Z1).id;return e&&t!==void 0?e+"-"+t:t}function WK(t,e){V.useContext(Dk).strict}function KK(t){const{drag:e,layout:n}=Ua;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const GK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function r_(t){return typeof t!="string"||t.includes("-")?!1:!!(GK.indexOf(t)>-1||/[A-Z]/u.test(t))}function Lk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Vk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fk(t,e,n,r){Lk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Vk.has(i)?i:J1(i),e.attrs[i])}function $k(t,{layout:e,layoutId:n}){return To.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!af[t]||t==="opacity")}function i_(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(qt(i[o])||e.style&&qt(e.style[o])||$k(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function jk(t,e,n){const r=i_(t,e,n);for(const i in t)if(qt(t[i])||qt(e[i])){const s=Rc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function s_(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}function qK({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:QK(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const Uk=t=>(e,n)=>{const r=V.useContext(Rp),i=V.useContext(Ap),s=()=>qK(t,e,r,i);return n?s():s_(s)};function QK(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=id(s[f]);let{initial:o,animate:a}=t;const l=bp(t),c=Mk(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!Sp(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const w=k1(t,f[m]);if(w){const{transitionEnd:T,transition:P,..._}=w;for(const y in _){let E=_[y];if(Array.isArray(E)){const k=h?E.length-1:0;E=E[k]}E!==null&&(i[y]=E)}for(const y in T)i[y]=T[y]}}}return i}const o_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Bk=()=>({...o_(),attrs:{}}),zk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,YK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XK=Rc.length;function JK(t,e,n){let r="",i=!0;for(let s=0;s<XK;s++){const o=Rc[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=zk(a,U1[o]);if(!l){i=!1;const h=YK[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function a_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(To.has(l)){o=!0;continue}else if(Mx(l)){i[l]=c;continue}else{const h=zk(c,U1[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=JK(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}function KI(t,e,n){return typeof t=="string"?t:ue.transform(e+n*t)}function ZK(t,e,n){const r=KI(e,t.x,t.width),i=KI(n,t.y,t.height);return`${r} ${i}`}const eG={offset:"stroke-dashoffset",array:"stroke-dasharray"},tG={offset:"strokeDashoffset",array:"strokeDasharray"};function nG(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?eG:tG;t[s.offset]=ue.transform(-r);const o=ue.transform(e),a=ue.transform(n);t[s.array]=`${o} ${a}`}function l_(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d){if(a_(t,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:w}=t;f.transform&&(w&&(m.transform=f.transform),delete f.transform),w&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=ZK(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&nG(f,o,a,l,!1)}const u_=t=>typeof t=="string"&&t.toLowerCase()==="svg",rG={useVisualState:Uk({scrapeMotionValuesFromProps:jk,createRenderState:Bk,onMount:(t,e,{renderState:n,latestValues:r})=>{Le.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Le.render(()=>{l_(n,r,u_(e.tagName),t.transformTemplate),Fk(e,n)})}})},iG={useVisualState:Uk({scrapeMotionValuesFromProps:i_,createRenderState:o_})};function Hk(t,e,n){for(const r in e)!qt(e[r])&&!$k(r,n)&&(t[r]=e[r])}function sG({transformTemplate:t},e){return V.useMemo(()=>{const n=o_();return a_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function oG(t,e){const n=t.style||{},r={};return Hk(r,n,t),Object.assign(r,sG(t,e)),r}function aG(t,e){const n={},r=oG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const lG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lG.has(t)}let Wk=t=>!lf(t);function uG(t){t&&(Wk=e=>e.startsWith("on")?!lf(e):t(e))}try{uG(require("@emotion/is-prop-valid").default)}catch{}function cG(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Wk(i)||n===!0&&lf(i)||!e&&!lf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function hG(t,e,n,r){const i=V.useMemo(()=>{const s=Bk();return l_(s,e,u_(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Hk(s,t.style,t),i.style={...s,...i.style}}return i}function dG(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(r_(n)?hG:aG)(r,s,o,n),c=cG(r,typeof n=="string",t),h=n!==V.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=V.useMemo(()=>qt(d)?d.get():d,[d]);return V.createElement(n,{...h,children:f})}}function fG(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...r_(r)?rG:iG,preloadedFeatures:t,useRender:dG(i),createVisualElement:e,Component:r};return zK(o)}}const by={current:null},Kk={current:!1};function pG(){if(Kk.current=!0,!!n_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>by.current=t.matches;t.addListener(e),e()}else by.current=!1}function mG(t,e,n){for(const r in e){const i=e[r],s=n[r];if(qt(i))t.addValue(r,i);else if(qt(s))t.addValue(r,Ku(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Ku(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const GI=new WeakMap,gG=[...Fx,Ht,ds],vG=t=>gG.find(Vx(t)),qI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yG{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=F1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Or.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Le.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=bp(n),this.isVariantNode=Mk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&qt(m)&&m.set(l[f],!1)}}mount(e){this.current=e,GI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Kk.current||pG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:by.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){GI.delete(this.current),this.projection&&this.projection.unmount(),cs(this.notifyUpdate),cs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=To.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Le.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ua){const n=Ua[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<qI.length;r++){const i=qI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=mG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ku(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Dx(i)||Ox(i))?i=parseFloat(i):!vG(i)&&ds.test(n)&&(i=Kx(e,n)),this.setBaseTarget(e,qt(i)?i.get():i)),qt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=k1(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new X1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Gk extends yG{constructor(){super(...arguments),this.KeyframeResolver=Gx}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function _G(t){return window.getComputedStyle(t)}class wG extends Gk{constructor(){super(...arguments),this.type="html",this.renderInstance=Lk}readValueFromInstance(e,n){if(To.has(n)){const r=B1(n);return r&&r.default||0}else{const r=_G(e),i=(Mx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _k(e,n)}build(e,n,r){a_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return i_(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class EG extends Gk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(To.has(n)){const r=B1(n);return r&&r.default||0}return n=Vk.has(n)?n:J1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return jk(e,n,r)}build(e,n,r){l_(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Fk(e,n,r,i)}mount(e){this.isSVGTag=u_(e.tagName),super.mount(e)}}const TG=(t,e)=>r_(t)?new EG(e):new wG(e,{allowProjection:t!==V.Fragment}),SG=fG({...dW,...NK,...SK,...MK},TG),qk=rz(SG);class IG extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PG({children:t,isPresent:e}){const n=V.useId(),r=V.useRef(null),i=V.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=V.useContext(t_);return V.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),L.jsx(IG,{isPresent:e,childRef:r,sizeRef:i,children:V.cloneElement(t,{ref:r})})}const CG=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=s_(AG),l=V.useId(),c=V.useCallback(d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),h=V.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),c]:[n,c]);return V.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),V.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=L.jsx(PG,{isPresent:n,children:t})),L.jsx(Ap.Provider,{value:h,children:t})};function AG(){return new Map}const Dh=t=>t.key||"";function QI(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const RG=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=V.useMemo(()=>QI(t),[t]),l=a.map(Dh),c=V.useRef(!0),h=V.useRef(a),d=s_(()=>new Map),[f,m]=V.useState(a),[w,T]=V.useState(a);Ok(()=>{c.current=!1,h.current=a;for(let y=0;y<w.length;y++){const E=Dh(w[y]);l.includes(E)?d.delete(E):d.get(E)!==!0&&d.set(E,!1)}},[w,l.length,l.join("-")]);const P=[];if(a!==f){let y=[...a];for(let E=0;E<w.length;E++){const k=w[E],F=Dh(k);l.includes(F)||(y.splice(E,0,k),P.push(k))}o==="wait"&&P.length&&(y=P),T(QI(y)),m(a);return}const{forceRender:_}=V.useContext(Z1);return L.jsx(L.Fragment,{children:w.map(y=>{const E=Dh(y),k=a===w||l.includes(E),F=()=>{if(d.has(E))d.set(E,!0);else return;let b=!0;d.forEach(C=>{C||(b=!1)}),b&&(_==null||_(),T(h.current),i&&i())};return L.jsx(CG,{isPresent:k,initial:!c.current||r?void 0:!1,custom:k?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:k?void 0:F,children:y},E)})})};var YI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Yk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[h],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new xG;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kG=function(t){const e=Qk(t);return Yk.encodeByteArray(e,!0)},uf=function(t){return kG(t).replace(/\./g,"")},Xk=function(t){try{return Yk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=()=>OG().__FIREBASE_DEFAULTS__,NG=()=>{if(typeof process>"u"||typeof YI>"u")return;const t=YI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xk(t[1]);return e&&JSON.parse(e)},xp=()=>{try{return DG()||NG()||MG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jk=t=>{var e,n;return(n=(e=xp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LG=t=>{const e=Jk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zk=()=>{var t;return(t=xp())===null||t===void 0?void 0:t.config},eO=t=>{var e;return(e=xp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VG=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uf(JSON.stringify(n)),uf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $G(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function jG(){var t;const e=(t=xp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zG(){const t=Xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HG(){return!jG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nO(){try{return typeof indexedDB=="object"}catch{return!1}}function rO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function WG(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG="FirebaseError";class _r extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KG,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,So.prototype.create)}}class So{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?GG(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new _r(i,a,r)}}function GG(t,e){return t.replace(qG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qG=/\{\$([^}]+)}/g;function QG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(XI(s)&&XI(o)){if(!Gu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function YG(t,e){const n=new XG(t,e);return n.subscribe.bind(n)}class XG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dg),i.error===void 0&&(i.error=Dg),i.complete===void 0&&(i.complete=Dg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG=1e3,eq=2,tq=4*60*60*1e3,nq=.5;function JI(t,e=ZG,n=eq){const r=e*Math.pow(n,t),i=Math.round(nq*r*(Math.random()-.5)*2);return Math.min(tq,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sq(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iq(t){return t===Us?void 0:t}function sq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const aq={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},lq=_e.INFO,uq={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},cq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=uq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kp{constructor(e){this.name=e,this._logLevel=lq,this._logHandler=cq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const hq=(t,e)=>e.some(n=>t instanceof n);let ZI,eP;function dq(){return ZI||(ZI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fq(){return eP||(eP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iO=new WeakMap,xy=new WeakMap,sO=new WeakMap,Ng=new WeakMap,c_=new WeakMap;function pq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ns(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iO.set(n,t)}).catch(()=>{}),c_.set(e,t),e}function mq(t){if(xy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xy.set(t,e)}let ky={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gq(t){ky=t(ky)}function vq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mg(this),e,...n);return sO.set(r,e.sort?e.sort():[e]),ns(r)}:fq().includes(t)?function(...e){return t.apply(Mg(this),e),ns(iO.get(this))}:function(...e){return ns(t.apply(Mg(this),e))}}function yq(t){return typeof t=="function"?vq(t):(t instanceof IDBTransaction&&mq(t),hq(t,dq())?new Proxy(t,ky):t)}function ns(t){if(t instanceof IDBRequest)return pq(t);if(Ng.has(t))return Ng.get(t);const e=yq(t);return e!==t&&(Ng.set(t,e),c_.set(e,t)),e}const Mg=t=>c_.get(t);function oO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ns(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ns(o.result),l.oldVersion,l.newVersion,ns(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const _q=["get","getKey","getAll","getAllKeys","count"],wq=["put","add","delete","clear"],Lg=new Map;function tP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lg.get(e))return Lg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_q.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Lg.set(e,s),s}gq(t=>({...t,get:(e,n,r)=>tP(e,n)||t.get(e,n,r),has:(e,n)=>!!tP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Oy="@firebase/app",nP="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new kp("@firebase/app"),Sq="@firebase/app-compat",Iq="@firebase/analytics-compat",Pq="@firebase/analytics",Cq="@firebase/app-check-compat",Aq="@firebase/app-check",Rq="@firebase/auth",bq="@firebase/auth-compat",xq="@firebase/database",kq="@firebase/data-connect",Oq="@firebase/database-compat",Dq="@firebase/functions",Nq="@firebase/functions-compat",Mq="@firebase/installations",Lq="@firebase/installations-compat",Vq="@firebase/messaging",Fq="@firebase/messaging-compat",$q="@firebase/performance",jq="@firebase/performance-compat",Uq="@firebase/remote-config",Bq="@firebase/remote-config-compat",zq="@firebase/storage",Hq="@firebase/storage-compat",Wq="@firebase/firestore",Kq="@firebase/vertexai",Gq="@firebase/firestore-compat",qq="firebase",Qq="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="[DEFAULT]",Yq={[Oy]:"fire-core",[Sq]:"fire-core-compat",[Pq]:"fire-analytics",[Iq]:"fire-analytics-compat",[Aq]:"fire-app-check",[Cq]:"fire-app-check-compat",[Rq]:"fire-auth",[bq]:"fire-auth-compat",[xq]:"fire-rtdb",[kq]:"fire-data-connect",[Oq]:"fire-rtdb-compat",[Dq]:"fire-fn",[Nq]:"fire-fn-compat",[Mq]:"fire-iid",[Lq]:"fire-iid-compat",[Vq]:"fire-fcm",[Fq]:"fire-fcm-compat",[$q]:"fire-perf",[jq]:"fire-perf-compat",[Uq]:"fire-rc",[Bq]:"fire-rc-compat",[zq]:"fire-gcs",[Hq]:"fire-gcs-compat",[Wq]:"fire-fst",[Gq]:"fire-fst-compat",[Kq]:"fire-vertex","fire-js":"fire-js",[qq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Map,Xq=new Map,Ny=new Map;function rP(t,e){try{t.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vr(t){const e=t.name;if(Ny.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Ny.set(e,t);for(const n of cf.values())rP(n,t);for(const n of Xq.values())rP(n,t);return!0}function Io(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new So("app","Firebase",Jq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=Qq;function aO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw rs.create("bad-app-name",{appName:String(i)});if(n||(n=Zk()),!n)throw rs.create("no-options");const s=cf.get(i);if(s){if(Gu(n,s.options)&&Gu(r,s.config))return s;throw rs.create("duplicate-app",{appName:i})}const o=new oq(i);for(const l of Ny.values())o.addComponent(l);const a=new Zq(n,r,o);return cf.set(i,a),a}function h_(t=Dy){const e=cf.get(t);if(!e&&t===Dy&&Zk())return aO();if(!e)throw rs.create("no-app",{appName:t});return e}function Gn(t,e,n){var r;let i=(r=Yq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(a.join(" "));return}Vr(new mr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ="firebase-heartbeat-database",tQ=1,qu="firebase-heartbeat-store";let Vg=null;function lO(){return Vg||(Vg=oO(eQ,tQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw rs.create("idb-open",{originalErrorMessage:t.message})})),Vg}async function nQ(t){try{const n=(await lO()).transaction(qu),r=await n.objectStore(qu).get(uO(t));return await n.done,r}catch(e){if(e instanceof _r)mi.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(n.message)}}}async function iP(t,e){try{const r=(await lO()).transaction(qu,"readwrite");await r.objectStore(qu).put(e,uO(t)),await r.done}catch(n){if(n instanceof _r)mi.warn(n.message);else{const r=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mi.warn(r.message)}}}function uO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=1024,iQ=30*24*60*60*1e3;class sQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=iQ}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sP(),{heartbeatsToSend:r,unsentEntries:i}=oQ(this._heartbeatsCache.heartbeats),s=uf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return mi.warn(n),""}}}function sP(){return new Date().toISOString().substring(0,10)}function oQ(t,e=rQ){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),oP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nO()?rO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nQ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return iP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return iP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function oP(t){return uf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(t){Vr(new mr("platform-logger",e=>new Eq(e),"PRIVATE")),Vr(new mr("heartbeat",e=>new sQ(e),"PRIVATE")),Gn(Oy,nP,t),Gn(Oy,nP,"esm2017"),Gn("fire-js","")}lQ("");function d_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uQ=cO,hO=new So("auth","Firebase",cO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new kp("@firebase/auth");function cQ(t,...e){hf.logLevel<=_e.WARN&&hf.warn(`Auth (${sl}): ${t}`,...e)}function sd(t,...e){hf.logLevel<=_e.ERROR&&hf.error(`Auth (${sl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,...e){throw p_(t,...e)}function fr(t,...e){return p_(t,...e)}function f_(t,e,n){const r=Object.assign(Object.assign({},uQ()),{[e]:n});return new So("auth","Firebase",r).create(e,{appName:t.name})}function ro(t){return f_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hQ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fr(t,"argument-error"),f_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function p_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hO.create(t,...e)}function he(t,e,...n){if(!t)throw p_(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sd(e),new Error(e)}function gi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dQ(){return aP()==="http:"||aP()==="https:"}function aP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dQ()||tO()||"connection"in navigator)?navigator.onLine:!0}function pQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=$G()||BG()}get(){return fQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t,e){gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ=new Oc(3e4,6e4);function g_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ol(t,e,n,r,i={}){return fO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=kc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return UG()||(c.referrerPolicy="no-referrer"),dO.fetch()(pO(t,t.config.apiHost,n,a),c)})}async function fO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mQ),e);try{const i=new yQ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Nh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Nh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Nh(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw f_(t,h,c);Fr(t,h)}}catch(i){if(i instanceof _r)throw i;Fr(t,"network-request-failed",{message:String(i)})}}async function vQ(t,e,n,r,i={}){const s=await ol(t,e,n,r,i);return"mfaPendingCredential"in s&&Fr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function pO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?m_(t.config,i):`${t.config.apiScheme}://${i}`}class yQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),gQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Q(t,e){return ol(t,"POST","/v1/accounts:delete",e)}async function mO(t,e){return ol(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wQ(t,e=!1){const n=Jt(t),r=await n.getIdToken(e),i=v_(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gu(Fg(i.auth_time)),issuedAtTime:gu(Fg(i.iat)),expirationTime:gu(Fg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fg(t){return Number(t)*1e3}function v_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xk(n);return i?JSON.parse(i):(sd("Failed to decode base64 JWT payload"),null)}catch(i){return sd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lP(t){const e=v_(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _r&&EQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qu(t,mO(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gO(s.providerUserInfo):[],a=IQ(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ly(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function SQ(t){const e=Jt(t);await df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gO(t){return t.map(e=>{var{providerId:n}=e,r=d_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PQ(t,e){const n=await fO(t,{},async()=>{const r=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=pO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CQ(t,e){return ol(t,"POST","/v2/accounts:revokeToken",g_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=lP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await PQ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new wa;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=d_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ly(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wQ(this,e)}reload(){return SQ(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(ro(this.auth));const e=await this.getIdToken();return await Qu(this,_Q(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:k,isAnonymous:F,providerData:b,stsTokenManager:C}=n;he(E&&C,e,"internal-error");const v=wa.fromJSON(this.name,C);he(typeof E=="string",e,"internal-error"),Oi(d,e.name),Oi(f,e.name),he(typeof k=="boolean",e,"internal-error"),he(typeof F=="boolean",e,"internal-error"),Oi(m,e.name),Oi(w,e.name),Oi(T,e.name),Oi(P,e.name),Oi(_,e.name),Oi(y,e.name);const I=new ni({uid:E,auth:e,email:f,emailVerified:k,displayName:d,isAnonymous:F,photoURL:w,phoneNumber:m,tenantId:T,stsTokenManager:v,createdAt:_,lastLoginAt:y});return b&&Array.isArray(b)&&(I.providerData=b.map(A=>Object.assign({},A))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new wa;i.updateFromServerResponse(n);const s=new ni({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await df(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?gO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new wa;a.updateFromIdToken(r);const l=new ni({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ly(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new Map;function ri(t){gi(t instanceof Function,"Expected a class definition");let e=uP.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vO.type="NONE";const cP=vO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=od(this.userKey,i.apiKey,s),this.fullPersistenceKey=od("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ea(ri(cP),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ri(cP);const o=od(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=ni._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ea(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ea(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SO(e))return"Blackberry";if(IO(e))return"Webos";if(_O(e))return"Safari";if((e.includes("chrome/")||wO(e))&&!e.includes("edge/"))return"Chrome";if(TO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yO(t=Xt()){return/firefox\//i.test(t)}function _O(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wO(t=Xt()){return/crios\//i.test(t)}function EO(t=Xt()){return/iemobile/i.test(t)}function TO(t=Xt()){return/android/i.test(t)}function SO(t=Xt()){return/blackberry/i.test(t)}function IO(t=Xt()){return/webos/i.test(t)}function y_(t=Xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AQ(t=Xt()){var e;return y_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RQ(){return zG()&&document.documentMode===10}function PO(t=Xt()){return y_(t)||TO(t)||IO(t)||SO(t)||/windows phone/i.test(t)||EO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t,e=[]){let n;switch(t){case"Browser":n=hP(Xt());break;case"Worker":n=`${hP(Xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xQ(t,e={}){return ol(t,"GET","/v2/passwordPolicy",g_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ=6;class OQ{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kQ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dP(this),this.idTokenSubscription=new dP(this),this.beforeStateQueue=new bQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ea.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mO(this,{idToken:e}),r=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ei(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await df(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(ro(this));const n=e?Jt(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xQ(this),n=new OQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new So("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await CQ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await Ea.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cQ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Op(t){return Jt(t)}class dP{constructor(e){this.auth=e,this.observer=null,this.addObserver=YG(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NQ(t){__=t}function MQ(t){return __.loadJS(t)}function LQ(){return __.gapiScript}function VQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FQ(t,e){const n=Io(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Gu(s,e??{}))return i;Fr(i,"already-initialized")}return n.initialize({options:e})}function $Q(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jQ(t,e,n){const r=Op(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=AO(e),{host:o,port:a}=UQ(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),BQ()}function AO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UQ(t){const e=AO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:fP(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:fP(o)}}}function fP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t,e){return vQ(t,"POST","/v1/accounts:signInWithIdp",g_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ="http://localhost";class po extends RO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=d_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new po(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ta(e,n)}buildRequest(){const e={requestUri:zQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends w_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Dc{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return po._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Dc{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Dc{constructor(){super("twitter.com")}static credential(e,n){return po._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bi.credential(n,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ni._fromIdTokenResponse(e,r,i),o=pP(r);return new Ba({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pP(r);return new Ba({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends _r{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ff.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ff(e,n,r,i)}}function bO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ff._fromErrorAndOperation(t,s,e,r):s})}async function HQ(t,e,n=!1){const r=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ba._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WQ(t,e,n=!1){const{auth:r}=t;if(ei(r.app))return Promise.reject(ro(r));const i="reauthenticate";try{const s=await Qu(t,bO(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=v_(s.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),Ba._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KQ(t,e,n=!1){if(ei(t.app))return Promise.reject(ro(t));const r="signIn",i=await bO(t,r,e),s=await Ba._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function GQ(t,e,n,r){return Jt(t).onIdTokenChanged(e,n,r)}function qQ(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}function QQ(t){return Jt(t).signOut()}const pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ=1e3,XQ=10;class kO extends xO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);RQ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kO.type="LOCAL";const JQ=kO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO extends xO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OO.type="SESSION";const DO=OO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Dp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await ZQ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=E_("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function tY(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function nY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iY(){return NO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="firebaseLocalStorageDb",sY=1,mf="firebaseLocalStorage",LO="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Np(t,e){return t.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function oY(){const t=indexedDB.deleteDatabase(MO);return new Nc(t).toPromise()}function Vy(){const t=indexedDB.open(MO,sY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mf,{keyPath:LO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mf)?e(r):(r.close(),await oY(),e(await Vy()))})})}async function mP(t,e,n){const r=Np(t,!0).put({[LO]:e,value:n});return new Nc(r).toPromise()}async function aY(t,e){const n=Np(t,!1).get(e),r=await new Nc(n).toPromise();return r===void 0?null:r.value}function gP(t,e){const n=Np(t,!0).delete(e);return new Nc(n).toPromise()}const lY=800,uY=3;class VO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dp._getInstance(iY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nY(),!this.activeServiceWorker)return;this.sender=new eY(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vy();return await mP(e,pf,"1"),await gP(e,pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Np(i,!1).getAll();return new Nc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VO.type="LOCAL";const cY=VO;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e){return e?ri(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends RO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hY(t){return KQ(t.auth,new T_(t),t.bypassAuthState)}function dY(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),WQ(n,new T_(t),t.bypassAuthState)}async function fY(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),HQ(n,new T_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hY;case"linkViaPopup":case"linkViaRedirect":return fY;case"reauthViaPopup":case"reauthViaRedirect":return dY;default:Fr(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY=new Oc(2e3,1e4);async function mY(t,e,n){if(ei(t.app))return Promise.reject(fr(t,"operation-not-supported-in-this-environment"));const r=Op(t);hQ(t,e,w_);const i=FO(r,n);return new qs(r,"signInViaPopup",e,i).executeNotNull()}class qs extends $O{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=E_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pY.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY="pendingRedirect",ad=new Map;class vY extends $O{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ad.get(this.auth._key());if(!e){try{const r=await yY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ad.set(this.auth._key(),e)}return this.bypassAuthState||ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yY(t,e){const n=EY(e),r=wY(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _Y(t,e){ad.set(t._key(),e)}function wY(t){return ri(t._redirectPersistence)}function EY(t){return od(gY,t.config.apiKey,t.name)}async function TY(t,e,n=!1){if(ei(t.app))return Promise.reject(ro(t));const r=Op(t),i=FO(r,e),o=await new vY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SY=10*60*1e3;class IY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SY&&this.cachedEventUids.clear(),this.cachedEventUids.has(vP(e))}saveEventToCache(e){this.cachedEventUids.add(vP(e)),this.lastProcessedEventTime=Date.now()}}function vP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CY(t,e={}){return ol(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RY=/^https?/;async function bY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CY(t);for(const n of e)try{if(xY(n))return}catch{}Fr(t,"unauthorized-domain")}function xY(t){const e=My(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!RY.test(n))return!1;if(AY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=new Oc(3e4,6e4);function yP(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OY(t){return new Promise((e,n)=>{var r,i,s;function o(){yP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yP(),n(fr(t,"network-request-failed"))},timeout:kY.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Dr().gapi)===null||s===void 0)&&s.load)o();else{const a=VQ("iframefcb");return Dr()[a]=()=>{gapi.load?o():n(fr(t,"network-request-failed"))},MQ(`${LQ()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ld=null,e})}let ld=null;function DY(t){return ld=ld||OY(t),ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY=new Oc(5e3,15e3),MY="__/auth/iframe",LY="emulator/auth/iframe",VY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $Y(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?m_(e,LY):`https://${t.config.authDomain}/${MY}`,r={apiKey:e.apiKey,appName:t.name,v:sl},i=FY.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${kc(r).slice(1)}`}async function jY(t){const e=await DY(t),n=Dr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:$Y(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VY,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fr(t,"network-request-failed"),a=Dr().setTimeout(()=>{s(o)},NY.get());function l(){Dr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BY=500,zY=600,HY="_blank",WY="http://localhost";class _P{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KY(t,e,n,r=BY,i=zY){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},UY),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Xt().toLowerCase();n&&(a=wO(c)?HY:n),yO(c)&&(e=e||WY,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(AQ(c)&&a!=="_self")return GY(e||"",a),new _P(null);const d=window.open(e||"",a,h);he(d,t,"popup-blocked");try{d.focus()}catch{}return new _P(d)}function GY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY="__/auth/handler",QY="emulator/auth/handler",YY=encodeURIComponent("fac");async function wP(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sl,eventId:i};if(e instanceof w_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",QG(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Dc){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${YY}=${encodeURIComponent(l)}`:"";return`${XY(t)}?${kc(a).slice(1)}${c}`}function XY({config:t}){return t.emulator?m_(t,QY):`https://${t.authDomain}/${qY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="webStorageSupport";class JY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DO,this._completeRedirectFn=TY,this._overrideRedirectResult=_Y}async _openPopup(e,n,r,i){var s;gi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await wP(e,n,r,My(),i);return KY(e,o,E_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await wP(e,n,r,My(),i);return tY(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jY(e),r=new IY(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($g,{type:$g},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$g];o!==void 0&&n(!!o),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bY(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PO()||_O()||y_()}}const ZY=JY;var EP="@firebase/auth",TP="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nX(t){Vr(new mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CO(t)},c=new DQ(r,i,s,l);return $Q(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new mr("auth-internal",e=>{const n=Op(e.getProvider("auth").getImmediate());return(r=>new eX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(EP,TP,tX(t)),Gn(EP,TP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=5*60,iX=eO("authIdTokenMaxAge")||rX;let SP=null;const sX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iX)return;const i=n==null?void 0:n.token;SP!==i&&(SP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oX(t=h_()){const e=Io(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FQ(t,{popupRedirectResolver:ZY,persistence:[cY,JQ,DO]}),r=eO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=sX(s.toString());qQ(n,o,()=>o(n.currentUser)),GQ(n,a=>o(a))}}const i=Jk("auth");return i&&jQ(n,`http://${i}`),n}function aX(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=fr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nX("Browser");var lX="firebase",uX="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(lX,uX,"app");const UO="@firebase/installations",S_="0.6.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1e4,zO=`w:${S_}`,HO="FIS_v2",cX="https://firebaseinstallations.googleapis.com/v1",hX=60*60*1e3,dX="installations",fX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},mo=new So(dX,fX,pX);function WO(t){return t instanceof _r&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO({projectId:t}){return`${cX}/projects/${t}/installations`}function GO(t){return{token:t.token,requestStatus:2,expiresIn:gX(t.expiresIn),creationTime:Date.now()}}async function qO(t,e){const r=(await e.json()).error;return mo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function QO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function mX(t,{refreshToken:e}){const n=QO(t);return n.append("Authorization",vX(e)),n}async function YO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function gX(t){return Number(t.replace("s","000"))}function vX(t){return`${HO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yX({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=KO(t),i=QO(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:HO,appId:t.appId,sdkVersion:zO},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await YO(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:GO(c.authToken)}}else throw await qO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX=/^[cdef][\w-]{21}$/,Fy="";function EX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=TX(t);return wX.test(n)?n:Fy}catch{return Fy}}function TX(t){return _X(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new Map;function ZO(t,e){const n=Mp(t);eD(n,e),SX(n,e)}function eD(t,e){const n=JO.get(t);if(n)for(const r of n)r(e)}function SX(t,e){const n=IX();n&&n.postMessage({key:t,fid:e}),PX()}let Qs=null;function IX(){return!Qs&&"BroadcastChannel"in self&&(Qs=new BroadcastChannel("[Firebase] FID Change"),Qs.onmessage=t=>{eD(t.data.key,t.data.fid)}),Qs}function PX(){JO.size===0&&Qs&&(Qs.close(),Qs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CX="firebase-installations-database",AX=1,go="firebase-installations-store";let jg=null;function I_(){return jg||(jg=oO(CX,AX,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(go)}}})),jg}async function gf(t,e){const n=Mp(t),i=(await I_()).transaction(go,"readwrite"),s=i.objectStore(go),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&ZO(t,e.fid),e}async function tD(t){const e=Mp(t),r=(await I_()).transaction(go,"readwrite");await r.objectStore(go).delete(e),await r.done}async function Lp(t,e){const n=Mp(t),i=(await I_()).transaction(go,"readwrite"),s=i.objectStore(go),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&ZO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P_(t){let e;const n=await Lp(t.appConfig,r=>{const i=RX(r),s=bX(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Fy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function RX(t){const e=t||{fid:EX(),registrationStatus:0};return nD(e)}function bX(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(mo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=xX(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kX(t)}:{installationEntry:e}}async function xX(t,e){try{const n=await yX(t,e);return gf(t.appConfig,n)}catch(n){throw WO(n)&&n.customData.serverCode===409?await tD(t.appConfig):await gf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kX(t){let e=await IP(t.appConfig);for(;e.registrationStatus===1;)await XO(100),e=await IP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await P_(t);return r||n}return e}function IP(t){return Lp(t,e=>{if(!e)throw mo.create("installation-not-found");return nD(e)})}function nD(t){return OX(t)?{fid:t.fid,registrationStatus:0}:t}function OX(t){return t.registrationStatus===1&&t.registrationTime+BO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DX({appConfig:t,heartbeatServiceProvider:e},n){const r=NX(t,n),i=mX(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:zO,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await YO(()=>fetch(r,a));if(l.ok){const c=await l.json();return GO(c)}else throw await qO("Generate Auth Token",l)}function NX(t,{fid:e}){return`${KO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C_(t,e=!1){let n;const r=await Lp(t.appConfig,s=>{if(!rD(s))throw mo.create("not-registered");const o=s.authToken;if(!e&&VX(o))return s;if(o.requestStatus===1)return n=MX(t,e),s;{if(!navigator.onLine)throw mo.create("app-offline");const a=$X(s);return n=LX(t,a),a}});return n?await n:r.authToken}async function MX(t,e){let n=await PP(t.appConfig);for(;n.authToken.requestStatus===1;)await XO(100),n=await PP(t.appConfig);const r=n.authToken;return r.requestStatus===0?C_(t,e):r}function PP(t){return Lp(t,e=>{if(!rD(e))throw mo.create("not-registered");const n=e.authToken;return jX(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function LX(t,e){try{const n=await DX(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await gf(t.appConfig,r),n}catch(n){if(WO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await tD(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await gf(t.appConfig,r)}throw n}}function rD(t){return t!==void 0&&t.registrationStatus===2}function VX(t){return t.requestStatus===2&&!FX(t)}function FX(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+hX}function $X(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function jX(t){return t.requestStatus===1&&t.requestTime+BO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UX(t){const e=t,{installationEntry:n,registrationPromise:r}=await P_(e);return r?r.catch(console.error):C_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BX(t,e=!1){const n=t;return await zX(n),(await C_(n,e)).token}async function zX(t){const{registrationPromise:e}=await P_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(t){if(!t||!t.options)throw Ug("App Configuration");if(!t.name)throw Ug("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ug(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ug(t){return mo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="installations",WX="installations-internal",KX=t=>{const e=t.getProvider("app").getImmediate(),n=HX(e),r=Io(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},GX=t=>{const e=t.getProvider("app").getImmediate(),n=Io(e,iD).getImmediate();return{getId:()=>UX(n),getToken:i=>BX(n,i)}};function qX(){Vr(new mr(iD,KX,"PUBLIC")),Vr(new mr(WX,GX,"PRIVATE"))}qX();Gn(UO,S_);Gn(UO,S_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="analytics",QX="firebase_id",YX="origin",XX=60*1e3,JX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",A_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new kp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new So("analytics","Analytics",ZX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(t){if(!t.startsWith(A_)){const e=An.create("invalid-gtag-resource",{gtagURL:t});return _n.warn(e.message),""}return t}function sD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function tJ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function nJ(t,e){const n=tJ("firebase-js-sdk-policy",{createScriptURL:eJ}),r=document.createElement("script"),i=`${A_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function rJ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function iJ(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await sD(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){_n.error(a)}t("config",i,s)}async function sJ(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await sD(n);for(const l of o){const c=a.find(d=>d.measurementId===l),h=c&&e[c.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){_n.error(s)}}function oJ(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await sJ(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await iJ(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){_n.error(a)}}return i}function aJ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=oJ(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function lJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(A_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ=30,cJ=1e3;class hJ{constructor(e={},n=cJ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const oD=new hJ;function dJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function fJ(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:dJ(r)},s=JX.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function pJ(t,e=oD,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw An.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw An.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new vJ;return setTimeout(async()=>{a.abort()},XX),aD({appId:r,apiKey:i,measurementId:s},o,a,e)}async function aD(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=oD){var s;const{appId:o,measurementId:a}=t;try{await mJ(r,e)}catch(l){if(a)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await fJ(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!gJ(c)){if(i.deleteThrottleMetadata(o),a)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const h=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?JI(n,i.intervalMillis,uJ):JI(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(o,d),_n.debug(`Calling attemptFetch again in ${h} millis`),aD(t,d,r,i)}}function mJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gJ(t){if(!(t instanceof _r)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class vJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yJ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _J(){if(nO())try{await rO()}catch(t){return _n.warn(An.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return _n.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wJ(t,e,n,r,i,s,o){var a;const l=pJ(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>_n.error(m)),e.push(l);const c=_J().then(m=>{if(m)return r.getId()}),[h,d]=await Promise.all([l,c]);lJ(s)||nJ(s,h.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[YX]="firebase",f.update=!0,d!=null&&(f[QX]=d),i("config",h.measurementId,f),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e){this.app=e}_delete(){return delete vu[this.app.options.appId],Promise.resolve()}}let vu={},CP=[];const AP={};let Bg="dataLayer",TJ="gtag",RP,lD,bP=!1;function SJ(){const t=[];if(tO()&&t.push("This is a browser extension environment."),WG()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=An.create("invalid-analytics-context",{errorInfo:e});_n.warn(n.message)}}function IJ(t,e,n){SJ();const r=t.options.appId;if(!r)throw An.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(vu[r]!=null)throw An.create("already-exists",{id:r});if(!bP){rJ(Bg);const{wrappedGtag:s,gtagCore:o}=aJ(vu,CP,AP,Bg,TJ);lD=s,RP=o,bP=!0}return vu[r]=wJ(t,CP,AP,e,RP,Bg,n),new EJ(t)}function PJ(t=h_()){t=Jt(t);const e=Io(t,vf);return e.isInitialized()?e.getImmediate():CJ(t)}function CJ(t,e={}){const n=Io(t,vf);if(n.isInitialized()){const i=n.getImmediate();if(Gu(e,n.getOptions()))return i;throw An.create("already-initialized")}return n.initialize({options:e})}function AJ(t,e,n,r){t=Jt(t),yJ(lD,vu[t.app.options.appId],e,n,r).catch(i=>_n.error(i))}const xP="@firebase/analytics",kP="0.10.9";function RJ(){Vr(new mr(vf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return IJ(r,i,n)},"PUBLIC")),Vr(new mr("analytics-internal",t,"PRIVATE")),Gn(xP,kP),Gn(xP,kP,"esm2017");function t(e){try{const n=e.getProvider(vf).getImmediate();return{logEvent:(r,i,s)=>AJ(n,r,i,s)}}catch(n){throw An.create("interop-component-reg-failed",{reason:n})}}}RJ();var OP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var io,uD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,v){function I(){}I.prototype=v.prototype,C.D=v.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(A,O,D){for(var R=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)R[Ae-2]=arguments[Ae];return v.prototype[O].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,v,I){I||(I=0);var A=Array(16);if(typeof v=="string")for(var O=0;16>O;++O)A[O]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(O=0;16>O;++O)A[O]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=C.g[0],I=C.g[1],O=C.g[2];var D=C.g[3],R=v+(D^I&(O^D))+A[0]+3614090360&4294967295;v=I+(R<<7&4294967295|R>>>25),R=D+(O^v&(I^O))+A[1]+3905402710&4294967295,D=v+(R<<12&4294967295|R>>>20),R=O+(I^D&(v^I))+A[2]+606105819&4294967295,O=D+(R<<17&4294967295|R>>>15),R=I+(v^O&(D^v))+A[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=v+(D^I&(O^D))+A[4]+4118548399&4294967295,v=I+(R<<7&4294967295|R>>>25),R=D+(O^v&(I^O))+A[5]+1200080426&4294967295,D=v+(R<<12&4294967295|R>>>20),R=O+(I^D&(v^I))+A[6]+2821735955&4294967295,O=D+(R<<17&4294967295|R>>>15),R=I+(v^O&(D^v))+A[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=v+(D^I&(O^D))+A[8]+1770035416&4294967295,v=I+(R<<7&4294967295|R>>>25),R=D+(O^v&(I^O))+A[9]+2336552879&4294967295,D=v+(R<<12&4294967295|R>>>20),R=O+(I^D&(v^I))+A[10]+4294925233&4294967295,O=D+(R<<17&4294967295|R>>>15),R=I+(v^O&(D^v))+A[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=v+(D^I&(O^D))+A[12]+1804603682&4294967295,v=I+(R<<7&4294967295|R>>>25),R=D+(O^v&(I^O))+A[13]+4254626195&4294967295,D=v+(R<<12&4294967295|R>>>20),R=O+(I^D&(v^I))+A[14]+2792965006&4294967295,O=D+(R<<17&4294967295|R>>>15),R=I+(v^O&(D^v))+A[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=v+(O^D&(I^O))+A[1]+4129170786&4294967295,v=I+(R<<5&4294967295|R>>>27),R=D+(I^O&(v^I))+A[6]+3225465664&4294967295,D=v+(R<<9&4294967295|R>>>23),R=O+(v^I&(D^v))+A[11]+643717713&4294967295,O=D+(R<<14&4294967295|R>>>18),R=I+(D^v&(O^D))+A[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=v+(O^D&(I^O))+A[5]+3593408605&4294967295,v=I+(R<<5&4294967295|R>>>27),R=D+(I^O&(v^I))+A[10]+38016083&4294967295,D=v+(R<<9&4294967295|R>>>23),R=O+(v^I&(D^v))+A[15]+3634488961&4294967295,O=D+(R<<14&4294967295|R>>>18),R=I+(D^v&(O^D))+A[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=v+(O^D&(I^O))+A[9]+568446438&4294967295,v=I+(R<<5&4294967295|R>>>27),R=D+(I^O&(v^I))+A[14]+3275163606&4294967295,D=v+(R<<9&4294967295|R>>>23),R=O+(v^I&(D^v))+A[3]+4107603335&4294967295,O=D+(R<<14&4294967295|R>>>18),R=I+(D^v&(O^D))+A[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=v+(O^D&(I^O))+A[13]+2850285829&4294967295,v=I+(R<<5&4294967295|R>>>27),R=D+(I^O&(v^I))+A[2]+4243563512&4294967295,D=v+(R<<9&4294967295|R>>>23),R=O+(v^I&(D^v))+A[7]+1735328473&4294967295,O=D+(R<<14&4294967295|R>>>18),R=I+(D^v&(O^D))+A[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=v+(I^O^D)+A[5]+4294588738&4294967295,v=I+(R<<4&4294967295|R>>>28),R=D+(v^I^O)+A[8]+2272392833&4294967295,D=v+(R<<11&4294967295|R>>>21),R=O+(D^v^I)+A[11]+1839030562&4294967295,O=D+(R<<16&4294967295|R>>>16),R=I+(O^D^v)+A[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=v+(I^O^D)+A[1]+2763975236&4294967295,v=I+(R<<4&4294967295|R>>>28),R=D+(v^I^O)+A[4]+1272893353&4294967295,D=v+(R<<11&4294967295|R>>>21),R=O+(D^v^I)+A[7]+4139469664&4294967295,O=D+(R<<16&4294967295|R>>>16),R=I+(O^D^v)+A[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=v+(I^O^D)+A[13]+681279174&4294967295,v=I+(R<<4&4294967295|R>>>28),R=D+(v^I^O)+A[0]+3936430074&4294967295,D=v+(R<<11&4294967295|R>>>21),R=O+(D^v^I)+A[3]+3572445317&4294967295,O=D+(R<<16&4294967295|R>>>16),R=I+(O^D^v)+A[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=v+(I^O^D)+A[9]+3654602809&4294967295,v=I+(R<<4&4294967295|R>>>28),R=D+(v^I^O)+A[12]+3873151461&4294967295,D=v+(R<<11&4294967295|R>>>21),R=O+(D^v^I)+A[15]+530742520&4294967295,O=D+(R<<16&4294967295|R>>>16),R=I+(O^D^v)+A[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=v+(O^(I|~D))+A[0]+4096336452&4294967295,v=I+(R<<6&4294967295|R>>>26),R=D+(I^(v|~O))+A[7]+1126891415&4294967295,D=v+(R<<10&4294967295|R>>>22),R=O+(v^(D|~I))+A[14]+2878612391&4294967295,O=D+(R<<15&4294967295|R>>>17),R=I+(D^(O|~v))+A[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=v+(O^(I|~D))+A[12]+1700485571&4294967295,v=I+(R<<6&4294967295|R>>>26),R=D+(I^(v|~O))+A[3]+2399980690&4294967295,D=v+(R<<10&4294967295|R>>>22),R=O+(v^(D|~I))+A[10]+4293915773&4294967295,O=D+(R<<15&4294967295|R>>>17),R=I+(D^(O|~v))+A[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=v+(O^(I|~D))+A[8]+1873313359&4294967295,v=I+(R<<6&4294967295|R>>>26),R=D+(I^(v|~O))+A[15]+4264355552&4294967295,D=v+(R<<10&4294967295|R>>>22),R=O+(v^(D|~I))+A[6]+2734768916&4294967295,O=D+(R<<15&4294967295|R>>>17),R=I+(D^(O|~v))+A[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=v+(O^(I|~D))+A[4]+4149444226&4294967295,v=I+(R<<6&4294967295|R>>>26),R=D+(I^(v|~O))+A[11]+3174756917&4294967295,D=v+(R<<10&4294967295|R>>>22),R=O+(v^(D|~I))+A[2]+718787259&4294967295,O=D+(R<<15&4294967295|R>>>17),R=I+(D^(O|~v))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+v&4294967295,C.g[1]=C.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,v){v===void 0&&(v=C.length);for(var I=v-this.blockSize,A=this.B,O=this.h,D=0;D<v;){if(O==0)for(;D<=I;)i(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<v;)if(A[O++]=C.charCodeAt(D++),O==this.blockSize){i(this,A),O=0;break}}else for(;D<v;)if(A[O++]=C[D++],O==this.blockSize){i(this,A),O=0;break}}this.h=O,this.o+=v},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var v=1;v<C.length-8;++v)C[v]=0;var I=8*this.o;for(v=C.length-8;v<C.length;++v)C[v]=I&255,I/=256;for(this.u(C),C=Array(16),v=I=0;4>v;++v)for(var A=0;32>A;A+=8)C[I++]=this.g[v]>>>A&255;return C};function s(C,v){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=v(C)}function o(C,v){this.h=v;for(var I=[],A=!0,O=C.length-1;0<=O;O--){var D=C[O]|0;A&&D==v||(I[O]=D,A=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?s(C,function(v){return new o([v|0],0>v?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return P(c(-C));for(var v=[],I=1,A=0;C>=I;A++)v[A]=C/I|0,I*=4294967296;return new o(v,0)}function h(C,v){if(C.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(C.charAt(0)=="-")return P(h(C.substring(1),v));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(v,8)),A=d,O=0;O<C.length;O+=8){var D=Math.min(8,C.length-O),R=parseInt(C.substring(O,O+D),v);8>D?(D=c(Math.pow(v,D)),A=A.j(D).add(c(R))):(A=A.j(I),A=A.add(c(R)))}return A}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-P(this).m();for(var C=0,v=1,I=0;I<this.g.length;I++){var A=this.i(I);C+=(0<=A?A:4294967296+A)*v,v*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(T(this))return"-"+P(this).toString(C);for(var v=c(Math.pow(C,6)),I=this,A="";;){var O=k(I,v).g;I=_(I,O.j(v));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=O,w(I))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var v=0;v<C.g.length;v++)if(C.g[v]!=0)return!1;return!0}function T(C){return C.h==-1}t.l=function(C){return C=_(this,C),T(C)?-1:w(C)?0:1};function P(C){for(var v=C.g.length,I=[],A=0;A<v;A++)I[A]=~C.g[A];return new o(I,~C.h).add(f)}t.abs=function(){return T(this)?P(this):this},t.add=function(C){for(var v=Math.max(this.g.length,C.g.length),I=[],A=0,O=0;O<=v;O++){var D=A+(this.i(O)&65535)+(C.i(O)&65535),R=(D>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);A=R>>>16,D&=65535,R&=65535,I[O]=R<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(C,v){return C.add(P(v))}t.j=function(C){if(w(this)||w(C))return d;if(T(this))return T(C)?P(this).j(P(C)):P(P(this).j(C));if(T(C))return P(this.j(P(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var v=this.g.length+C.g.length,I=[],A=0;A<2*v;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var O=0;O<C.g.length;O++){var D=this.i(A)>>>16,R=this.i(A)&65535,Ae=C.i(O)>>>16,Zt=C.i(O)&65535;I[2*A+2*O]+=R*Zt,y(I,2*A+2*O),I[2*A+2*O+1]+=D*Zt,y(I,2*A+2*O+1),I[2*A+2*O+1]+=R*Ae,y(I,2*A+2*O+1),I[2*A+2*O+2]+=D*Ae,y(I,2*A+2*O+2)}for(A=0;A<v;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=v;A<2*v;A++)I[A]=0;return new o(I,0)};function y(C,v){for(;(C[v]&65535)!=C[v];)C[v+1]+=C[v]>>>16,C[v]&=65535,v++}function E(C,v){this.g=C,this.h=v}function k(C,v){if(w(v))throw Error("division by zero");if(w(C))return new E(d,d);if(T(C))return v=k(P(C),v),new E(P(v.g),P(v.h));if(T(v))return v=k(C,P(v)),new E(P(v.g),v.h);if(30<C.g.length){if(T(C)||T(v))throw Error("slowDivide_ only works with positive integers.");for(var I=f,A=v;0>=A.l(C);)I=F(I),A=F(A);var O=b(I,1),D=b(A,1);for(A=b(A,2),I=b(I,2);!w(A);){var R=D.add(A);0>=R.l(C)&&(O=O.add(I),D=R),A=b(A,1),I=b(I,1)}return v=_(C,O.j(v)),new E(O,v)}for(O=d;0<=C.l(v);){for(I=Math.max(1,Math.floor(C.m()/v.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(I),R=D.j(v);T(R)||0<R.l(C);)I-=A,D=c(I),R=D.j(v);w(D)&&(D=f),O=O.add(D),C=_(C,R)}return new E(O,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var v=Math.max(this.g.length,C.g.length),I=[],A=0;A<v;A++)I[A]=this.i(A)&C.i(A);return new o(I,this.h&C.h)},t.or=function(C){for(var v=Math.max(this.g.length,C.g.length),I=[],A=0;A<v;A++)I[A]=this.i(A)|C.i(A);return new o(I,this.h|C.h)},t.xor=function(C){for(var v=Math.max(this.g.length,C.g.length),I=[],A=0;A<v;A++)I[A]=this.i(A)^C.i(A);return new o(I,this.h^C.h)};function F(C){for(var v=C.g.length+1,I=[],A=0;A<v;A++)I[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(I,C.h)}function b(C,v){var I=v>>5;v%=32;for(var A=C.g.length-I,O=[],D=0;D<A;D++)O[D]=0<v?C.i(D+I)>>>v|C.i(D+I+1)<<32-v:C.i(D+I);return new o(O,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,io=o}).apply(typeof OP<"u"?OP:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cD,Jl,hD,ud,$y,dD,fD,pD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var g=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var M=u[S];if(!(M in g))break e;g=g[M]}u=u[u.length-1],S=g[u],p=p(S),p!=S&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var g=0,S=!1,M={next:function(){if(!S&&g<u.length){var j=g++;return{value:p(j,u[j]),done:!1}}return S=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,g){return u.call.apply(u.bind,arguments)}function d(u,p,g){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,S),u.apply(p,M)}}return function(){return u.apply(p,arguments)}}function f(u,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function m(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(S,M,j){for(var K=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)K[Fe-2]=arguments[Fe];return p.prototype[M].apply(S,K)}}function T(u){const p=u.length;if(0<p){const g=Array(p);for(let S=0;S<p;S++)g[S]=u[S];return g}return[]}function P(u,p){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const M=u.length||0,j=S.length||0;u.length=M+j;for(let K=0;K<j;K++)u[M+K]=S[K]}else u.push(S)}}class _{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var F=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function b(u,p,g){for(const S in u)p.call(g,u[S],S,u)}function C(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function v(u){const p={};for(const g in u)p[g]=u[g];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,p){let g,S;for(let M=1;M<arguments.length;M++){S=arguments[M];for(g in S)u[g]=S[g];for(let j=0;j<I.length;j++)g=I[j],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function O(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function D(u){a.setTimeout(()=>{throw u},0)}function R(){var u=ie;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ae{constructor(){this.h=this.g=null}add(p,g){const S=Zt.get();S.set(p,g),this.h?this.h.next=S:this.g=S,this.h=S}}var Zt=new _(()=>new Xn,u=>u.reset());class Xn{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,W=!1,ie=new Ae,oe=()=>{const u=a.Promise.resolve(void 0);pe=()=>{u.then(Re)}};var Re=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(g){D(g)}var p=Zt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}W=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ve(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function At(u,p){if(Ve.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(F){e:{try{k(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Rt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&At.aa.h.call(this)}}w(At,Ve);var Rt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ln="closure_listenable_"+(1e6*Math.random()|0),tm=0;function nm(u,p,g,S,M){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!S,this.ha=M,this.key=++tm,this.da=this.fa=!1}function xo(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ct(u){this.src=u,this.g={},this.h=0}ct.prototype.add=function(u,p,g,S,M){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var K=ko(u,p,S,M);return-1<K?(p=u[K],g||(p.fa=!1)):(p=new nm(p,this.src,j,!!S,M),p.fa=g,u.push(p)),p};function wr(u,p){var g=p.type;if(g in u.g){var S=u.g[g],M=Array.prototype.indexOf.call(S,p,void 0),j;(j=0<=M)&&Array.prototype.splice.call(S,M,1),j&&(xo(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function ko(u,p,g,S){for(var M=0;M<u.length;++M){var j=u[M];if(!j.da&&j.listener==p&&j.capture==!!g&&j.ha==S)return M}return-1}var dl="closure_lm_"+(1e6*Math.random()|0),Jn={};function Uc(u,p,g,S,M){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Uc(u,p[j],g,S,M);return null}return g=pl(g),u&&u[ln]?u.K(p,g,c(S)?!!S.capture:!!S,M):rm(u,p,g,!1,S,M)}function rm(u,p,g,S,M,j){if(!p)throw Error("Invalid event type");var K=c(M)?!!M.capture:!!M,Fe=Zn(u);if(Fe||(u[dl]=Fe=new ct(u)),g=Fe.add(p,g,S,K,j),g.proxy)return g;if(S=Bc(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)vt||(M=K),M===void 0&&(M=!1),u.addEventListener(p.toString(),S,M);else if(u.attachEvent)u.attachEvent(Hc(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Bc(){function u(g){return p.call(u.src,u.listener,g)}const p=im;return u}function zc(u,p,g,S,M){if(Array.isArray(p))for(var j=0;j<p.length;j++)zc(u,p[j],g,S,M);else S=c(S)?!!S.capture:!!S,g=pl(g),u&&u[ln]?(u=u.i,p=String(p).toString(),p in u.g&&(j=u.g[p],g=ko(j,g,S,M),-1<g&&(xo(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete u.g[p],u.h--)))):u&&(u=Zn(u))&&(p=u.g[p.toString()],u=-1,p&&(u=ko(p,g,S,M)),(g=-1<u?p[u]:null)&&fl(g))}function fl(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ln])wr(p.i,u);else{var g=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(g,S,u.capture):p.detachEvent?p.detachEvent(Hc(g),S):p.addListener&&p.removeListener&&p.removeListener(S),(g=Zn(p))?(wr(g,u),g.h==0&&(g.src=null,p[dl]=null)):xo(u)}}}function Hc(u){return u in Jn?Jn[u]:Jn[u]="on"+u}function im(u,p){if(u.da)u=!0;else{p=new At(p,this);var g=u.listener,S=u.ha||u.src;u.fa&&fl(u),u=g.call(S,p)}return u}function Zn(u){return u=u[dl],u instanceof ct?u:null}var Ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function pl(u){return typeof u=="function"?u:(u[Ur]||(u[Ur]=function(p){return u.handleEvent(p)}),u[Ur])}function ht(){Se.call(this),this.i=new ct(this),this.M=this,this.F=null}w(ht,Se),ht.prototype[ln]=!0,ht.prototype.removeEventListener=function(u,p,g,S){zc(this,u,p,g,S)};function Ke(u,p){var g,S=u.F;if(S)for(g=[];S;S=S.F)g.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new Ve(p,u);else if(p instanceof Ve)p.target=p.target||u;else{var M=p;p=new Ve(S,u),A(p,M)}if(M=!0,g)for(var j=g.length-1;0<=j;j--){var K=p.g=g[j];M=un(K,S,!0,p)&&M}if(K=p.g=u,M=un(K,S,!0,p)&&M,M=un(K,S,!1,p)&&M,g)for(j=0;j<g.length;j++)K=p.g=g[j],M=un(K,S,!1,p)&&M}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],S=0;S<g.length;S++)xo(g[S]);delete u.g[p],u.h--}}this.F=null},ht.prototype.K=function(u,p,g,S){return this.i.add(String(u),p,!1,g,S)},ht.prototype.L=function(u,p,g,S){return this.i.add(String(u),p,!0,g,S)};function un(u,p,g,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,j=0;j<p.length;++j){var K=p[j];if(K&&!K.da&&K.capture==g){var Fe=K.listener,bt=K.ha||K.src;K.fa&&wr(u.i,K),M=Fe.call(bt,S)!==!1&&M}}return M&&!S.defaultPrevented}function ml(u,p,g){if(typeof u=="function")g&&(u=f(u,g));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function bs(u){u.g=ml(()=>{u.g=null,u.i&&(u.i=!1,bs(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class sm extends Se{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:bs(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cn(u){Se.call(this),this.h=u,this.g={}}w(cn,Se);var gl=[];function vl(u){b(u.g,function(p,g){this.g.hasOwnProperty(g)&&fl(p)},u),u.g={}}cn.prototype.N=function(){cn.aa.N.call(this),vl(this)},cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oo=a.JSON.stringify,om=a.JSON.parse,Wc=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Si(){}Si.prototype.h=null;function yl(u){return u.h||(u.h=u.i())}function Do(){}var Br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _l(){Ve.call(this,"d")}w(_l,Ve);function No(){Ve.call(this,"c")}w(No,Ve);var zr={},wl=null;function Hr(){return wl=wl||new ht}zr.La="serverreachability";function xs(u){Ve.call(this,zr.La,u)}w(xs,Ve);function ks(u){const p=Hr();Ke(p,new xs(p))}zr.STAT_EVENT="statevent";function Kc(u,p){Ve.call(this,zr.STAT_EVENT,u),this.stat=p}w(Kc,Ve);function x(u){const p=Hr();Ke(p,new Kc(p,u))}zr.Ma="timingevent";function N(u,p){Ve.call(this,zr.Ma,u),this.size=p}w(N,Ve);function $(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function B(){this.g=!0}B.prototype.xa=function(){this.g=!1};function X(u,p,g,S,M,j){u.info(function(){if(u.g)if(j)for(var K="",Fe=j.split("&"),bt=0;bt<Fe.length;bt++){var xe=Fe[bt].split("=");if(1<xe.length){var $t=xe[0];xe=xe[1];var jt=$t.split("_");K=2<=jt.length&&jt[1]=="type"?K+($t+"="+xe+"&"):K+($t+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+S+") [attempt "+M+"]: "+p+`
`+g+`
`+K})}function re(u,p,g,S,M,j,K){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+M+"]: "+p+`
`+g+`
`+j+" "+K})}function le(u,p,g,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ee(u,g)+(S?" "+S:"")})}function Z(u,p){u.info(function(){return"TIMEOUT: "+p})}B.prototype.info=function(){};function ee(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var S=g[u];if(!(2>S.length)){var M=S[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<M.length;K++)M[K]=""}}}}return Oo(g)}catch{return p}}var Q={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},me;function ge(){}w(ge,Si),ge.prototype.g=function(){return new XMLHttpRequest},ge.prototype.i=function(){return{}},me=new ge;function $e(u,p,g,S){this.j=u,this.i=p,this.l=g,this.R=S||1,this.U=new cn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}var Ie={},je={};function Er(u,p,g){u.L=1,u.v=Yc(Kr(p)),u.m=g,u.P=!0,Ii(u,null)}function Ii(u,p){u.F=Date.now(),Pi(u),u.A=Kr(u.v);var g=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Ew(g.i,"t",S),u.C=0,g=u.j.J,u.h=new De,u.g=$w(u.j,g?p:null,!u.m),0<u.O&&(u.M=new sm(f(u.Y,u,u.g),u.O)),p=u.U,g=u.g,S=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(gl[0]=M.toString()),M=gl);for(var j=0;j<M.length;j++){var K=Uc(g,M[j],S||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ks(),X(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const p=this.M;p&&Gr(u)==3?p.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)e:{const jt=Gr(this.g);var p=this.g.Ba();const Fo=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||Rw(this.g)))){this.J||jt!=4||p==7||(p==8||0>=Fo?ks(3):ks(2)),er(this);var g=this.g.Z();this.X=g;t:if(Vn(this)){var S=Rw(this.g);u="";var M=S.length,j=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),Tr(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(j&&p==M-1)});S.length=0,this.h.g+=u,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=g==200,re(this.i,this.u,this.A,this.l,this.R,jt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,bt=this.g;if((Fe=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Fe)){var xe=Fe;break t}}xe=null}if(g=xe)le(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ye(this,g);else{this.o=!1,this.s=3,x(12),$n(this),Tr(this);break e}}if(this.P){g=!0;let tr;for(;!this.J&&this.C<K.length;)if(tr=Fn(this,K),tr==je){jt==4&&(this.s=4,x(14),g=!1),le(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==Ie){this.s=4,x(15),le(this.i,this.l,K,"[Invalid Chunk]"),g=!1;break}else le(this.i,this.l,tr,null),ye(this,tr);if(Vn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||K.length!=0||this.h.h||(this.s=1,x(16),g=!1),this.o=this.o&&g,!g)le(this.i,this.l,K,"[Invalid Chunked Response]"),$n(this),Tr(this);else if(0<K.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),cm($t),$t.M=!0,x(11))}}else le(this.i,this.l,K,null),ye(this,K);jt==4&&$n(this),this.o&&!this.J&&(jt==4?Mw(this.j,this):(this.o=!1,Pi(this)))}else TN(this.g),g==400&&0<K.indexOf("Unknown SID")?(this.s=3,x(12)):(this.s=0,x(13)),$n(this),Tr(this)}}}catch{}finally{}};function Vn(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Fn(u,p){var g=u.C,S=p.indexOf(`
`,g);return S==-1?je:(g=Number(p.substring(g,S)),isNaN(g)?Ie:(S+=1,S+g>p.length?je:(p=p.slice(S,S+g),u.C=S+g,p)))}$e.prototype.cancel=function(){this.J=!0,$n(this)};function Pi(u){u.S=Date.now()+u.I,Ci(u,u.I)}function Ci(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=$(f(u.ba,u),p)}function er(u){u.B&&(a.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Z(this.i,this.A),this.L!=2&&(ks(),x(17)),$n(this),this.s=2,Tr(this)):Ci(this,this.S-u)};function Tr(u){u.j.G==0||u.J||Mw(u.j,u)}function $n(u){er(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,vl(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function ye(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||Sr(g.h,u))){if(!u.K&&Sr(g.h,u)&&g.G==3){try{var S=g.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var M=S;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)nh(g),eh(g);else break e;um(g),x(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=$(f(g.Za,g),6e3));if(1>=Ye(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ds(g,11)}else if((u.K||g.g==u)&&nh(g),!y(p))for(M=g.Da.g.parse(p),p=0;p<M.length;p++){let xe=M[p];if(g.T=xe[0],xe=xe[1],g.G==2)if(xe[0]=="c"){g.K=xe[1],g.ia=xe[2];const $t=xe[3];$t!=null&&(g.la=$t,g.j.info("VER="+g.la));const jt=xe[4];jt!=null&&(g.Aa=jt,g.j.info("SVER="+g.Aa));const Fo=xe[5];Fo!=null&&typeof Fo=="number"&&0<Fo&&(S=1.5*Fo,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const tr=u.g;if(tr){const ih=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ih){var j=S.h;j.g||ih.indexOf("spdy")==-1&&ih.indexOf("quic")==-1&&ih.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Mo(j,j.h),j.h=null))}if(S.D){const hm=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;hm&&(S.ya=hm,Be(S.I,S.D,hm))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var K=u;if(S.qa=Fw(S,S.J?S.ia:null,S.W),K.K){Gc(S.h,K);var Fe=K,bt=S.L;bt&&(Fe.I=bt),Fe.B&&(er(Fe),Pi(Fe)),S.g=K}else Dw(S);0<g.i.length&&th(g)}else xe[0]!="stop"&&xe[0]!="close"||Ds(g,7);else g.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Ds(g,7):lm(g):xe[0]!="noop"&&g.l&&g.l.ta(xe),g.v=0)}}ks(4)}catch{}}var Ge=class{constructor(u,p){this.g=u,this.map=p}};function Wr(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ai(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ye(u){return u.h?1:u.g?u.g.size:0}function Sr(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Mo(u,p){u.g?u.g.add(p):u.h=p}function Gc(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Wr.prototype.cancel=function(){if(this.i=pw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function pw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return T(u.i)}function aN(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,S=0;S<g;S++)p.push(u[S]);return p}p=[],g=0;for(S in u)p[g++]=u[S];return p}function lN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const S in u)p[g++]=S;return p}}}function mw(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=lN(u),S=aN(u),M=S.length,j=0;j<M;j++)p.call(void 0,S[j],g&&g[j],u)}var gw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uN(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var S=u[g].indexOf("="),M=null;if(0<=S){var j=u[g].substring(0,S);M=u[g].substring(S+1)}else j=u[g];p(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Os(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Os){this.h=u.h,qc(this,u.j),this.o=u.o,this.g=u.g,Qc(this,u.s),this.l=u.l;var p=u.i,g=new Sl;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),vw(this,g),this.m=u.m}else u&&(p=String(u).match(gw))?(this.h=!1,qc(this,p[1]||"",!0),this.o=El(p[2]||""),this.g=El(p[3]||"",!0),Qc(this,p[4]),this.l=El(p[5]||"",!0),vw(this,p[6]||"",!0),this.m=El(p[7]||"")):(this.h=!1,this.i=new Sl(null,this.h))}Os.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Tl(p,yw,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Tl(p,yw,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Tl(g,g.charAt(0)=="/"?dN:hN,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Tl(g,pN)),u.join("")};function Kr(u){return new Os(u)}function qc(u,p,g){u.j=g?El(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Qc(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function vw(u,p,g){p instanceof Sl?(u.i=p,mN(u.i,u.h)):(g||(p=Tl(p,fN)),u.i=new Sl(p,u.h))}function Be(u,p,g){u.i.set(p,g)}function Yc(u){return Be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function El(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tl(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,cN),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cN(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yw=/[#\/\?@]/g,hN=/[#\?:]/g,dN=/[#\?]/g,fN=/[#\?@]/g,pN=/#/g;function Sl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Ri(u){u.g||(u.g=new Map,u.h=0,u.i&&uN(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Sl.prototype,t.add=function(u,p){Ri(this),this.i=null,u=Lo(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function _w(u,p){Ri(u),p=Lo(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function ww(u,p){return Ri(u),p=Lo(u,p),u.g.has(p)}t.forEach=function(u,p){Ri(this),this.g.forEach(function(g,S){g.forEach(function(M){u.call(p,M,S,this)},this)},this)},t.na=function(){Ri(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let S=0;S<p.length;S++){const M=u[S];for(let j=0;j<M.length;j++)g.push(p[S])}return g},t.V=function(u){Ri(this);let p=[];if(typeof u=="string")ww(this,u)&&(p=p.concat(this.g.get(Lo(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return Ri(this),this.i=null,u=Lo(this,u),ww(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Ew(u,p,g){_w(u,p),0<g.length&&(u.i=null,u.g.set(Lo(u,p),T(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var S=p[g];const j=encodeURIComponent(String(S)),K=this.V(S);for(S=0;S<K.length;S++){var M=j;K[S]!==""&&(M+="="+encodeURIComponent(String(K[S]))),u.push(M)}}return this.i=u.join("&")};function Lo(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function mN(u,p){p&&!u.j&&(Ri(u),u.i=null,u.g.forEach(function(g,S){var M=S.toLowerCase();S!=M&&(_w(this,S),Ew(this,M,g))},u)),u.j=p}function gN(u,p){const g=new B;if(a.Image){const S=new Image;S.onload=m(bi,g,"TestLoadImage: loaded",!0,p,S),S.onerror=m(bi,g,"TestLoadImage: error",!1,p,S),S.onabort=m(bi,g,"TestLoadImage: abort",!1,p,S),S.ontimeout=m(bi,g,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function vN(u,p){const g=new B,S=new AbortController,M=setTimeout(()=>{S.abort(),bi(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(j=>{clearTimeout(M),j.ok?bi(g,"TestPingServer: ok",!0,p):bi(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),bi(g,"TestPingServer: error",!1,p)})}function bi(u,p,g,S,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),S(g)}catch{}}function yN(){this.g=new Wc}function _N(u,p,g){const S=g||"";try{mw(u,function(M,j){let K=M;c(M)&&(K=Oo(M)),p.push(S+j+"="+encodeURIComponent(K))})}catch(M){throw p.push(S+"type="+encodeURIComponent("_badmap")),M}}function Xc(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Xc,Si),Xc.prototype.g=function(){return new Jc(this.l,this.j)},Xc.prototype.i=function(u){return function(){return u}}({});function Jc(u,p){ht.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Jc,ht),t=Jc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Pl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Il(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Pl(this)),this.g&&(this.readyState=3,Pl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Il(this):Pl(this),this.readyState==3&&Tw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Il(this))},t.Qa=function(u){this.g&&(this.response=u,Il(this))},t.ga=function(){this.g&&Il(this)};function Il(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Pl(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function Pl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sw(u){let p="";return b(u,function(g,S){p+=S,p+=":",p+=g,p+=`\r
`}),p}function am(u,p,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=Sw(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Be(u,p,g))}function nt(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(nt,ht);var wN=/^https?$/i,EN=["POST","PUT"];t=nt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():me.g(),this.v=this.o?yl(this.o):yl(me),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(j){Iw(this,j);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var M in S)g.set(M,S[M]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())g.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(EN,p,void 0))||S||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of g)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Aw(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Iw(this,j)}};function Iw(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Pw(u),Zc(u)}function Pw(u){u.A||(u.A=!0,Ke(u,"complete"),Ke(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ke(this,"complete"),Ke(this,"abort"),Zc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zc(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cw(this):this.bb())},t.bb=function(){Cw(this)};function Cw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Gr(u)!=4||u.Z()!=2)){if(u.u&&Gr(u)==4)ml(u.Ea,0,u);else if(Ke(u,"readystatechange"),Gr(u)==4){u.h=!1;try{const K=u.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var S;if(S=K===0){var M=String(u.D).match(gw)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),S=!wN.test(M?M.toLowerCase():"")}g=S}if(g)Ke(u,"complete"),Ke(u,"success");else{u.m=6;try{var j=2<Gr(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Pw(u)}}finally{Zc(u)}}}}function Zc(u,p){if(u.g){Aw(u);const g=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Ke(u,"ready");try{g.onreadystatechange=S}catch{}}}function Aw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Gr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),om(p)}};function Rw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function TN(u){const p={};u=(u.g&&2<=Gr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(y(u[S]))continue;var g=O(u[S]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=p[M]||[];p[M]=j,j.push(g)}C(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cl(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function bw(u){this.Aa=0,this.i=[],this.j=new B,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cl("baseRetryDelayMs",5e3,u),this.cb=Cl("retryDelaySeedMs",1e4,u),this.Wa=Cl("forwardChannelMaxRetries",2,u),this.wa=Cl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Wr(u&&u.concurrentRequestLimit),this.Da=new yN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bw.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,S){x(0),this.W=u,this.H=p||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=Fw(this,null,this.W),th(this)};function lm(u){if(xw(u),u.G==3){var p=u.U++,g=Kr(u.I);if(Be(g,"SID",u.K),Be(g,"RID",p),Be(g,"TYPE","terminate"),Al(u,g),p=new $e(u,u.j,p),p.L=2,p.v=Yc(Kr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=$w(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Pi(p)}Vw(u)}function eh(u){u.g&&(cm(u),u.g.cancel(),u.g=null)}function xw(u){eh(u),u.u&&(a.clearTimeout(u.u),u.u=null),nh(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function th(u){if(!Ai(u.h)&&!u.s){u.s=!0;var p=u.Ga;pe||oe(),W||(pe(),W=!0),ie.add(p,u),u.B=0}}function SN(u,p){return Ye(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=$(f(u.Ga,u,p),Lw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new $e(this,this.j,u);let j=this.o;if(this.S&&(j?(j=v(j),A(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Ow(this,M,p),g=Kr(this.I),Be(g,"RID",u),Be(g,"CVER",22),this.D&&Be(g,"X-HTTP-Session-Id",this.D),Al(this,g),j&&(this.O?p="headers="+encodeURIComponent(String(Sw(j)))+"&"+p:this.m&&am(g,this.m,j)),Mo(this.h,M),this.Ua&&Be(g,"TYPE","init"),this.P?(Be(g,"$req",p),Be(g,"SID","null"),M.T=!0,Er(M,g,null)):Er(M,g,p),this.G=2}}else this.G==3&&(u?kw(this,u):this.i.length==0||Ai(this.h)||kw(this))};function kw(u,p){var g;p?g=p.l:g=u.U++;const S=Kr(u.I);Be(S,"SID",u.K),Be(S,"RID",g),Be(S,"AID",u.T),Al(u,S),u.m&&u.o&&am(S,u.m,u.o),g=new $e(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Ow(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Mo(u.h,g),Er(g,S,p)}function Al(u,p){u.H&&b(u.H,function(g,S){Be(p,S,g)}),u.l&&mw({},function(g,S){Be(p,S,g)})}function Ow(u,p,g){g=Math.min(u.i.length,g);var S=u.l?f(u.l.Na,u.l,u):null;e:{var M=u.i;let j=-1;for(;;){const K=["count="+g];j==-1?0<g?(j=M[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let Fe=!0;for(let bt=0;bt<g;bt++){let xe=M[bt].g;const $t=M[bt].map;if(xe-=j,0>xe)j=Math.max(0,M[bt].g-100),Fe=!1;else try{_N($t,K,"req"+xe+"_")}catch{S&&S($t)}}if(Fe){S=K.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,S}function Dw(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;pe||oe(),W||(pe(),W=!0),ie.add(p,u),u.v=0}}function um(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=$(f(u.Fa,u),Lw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Nw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=$(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,x(10),eh(this),Nw(this))};function cm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Nw(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Kr(u.qa);Be(p,"RID","rpc"),Be(p,"SID",u.K),Be(p,"AID",u.T),Be(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Be(p,"TO",u.ja),Be(p,"TYPE","xmlhttp"),Al(u,p),u.m&&u.o&&am(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Yc(Kr(p)),g.m=null,g.P=!0,Ii(g,u)}t.Za=function(){this.C!=null&&(this.C=null,eh(this),um(this),x(19))};function nh(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Mw(u,p){var g=null;if(u.g==p){nh(u),cm(u),u.g=null;var S=2}else if(Sr(u.h,p))g=p.D,Gc(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var M=u.B;S=Hr(),Ke(S,new N(S,g)),th(u)}else Dw(u);else if(M=p.s,M==3||M==0&&0<p.X||!(S==1&&SN(u,p)||S==2&&um(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),M){case 1:Ds(u,5);break;case 4:Ds(u,10);break;case 3:Ds(u,6);break;default:Ds(u,2)}}}function Lw(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function Ds(u,p){if(u.j.info("Error code "+p),p==2){var g=f(u.fb,u),S=u.Xa;const M=!S;S=new Os(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qc(S,"https"),Yc(S),M?gN(S.toString(),g):vN(S.toString(),g)}else x(2);u.G=0,u.l&&u.l.sa(p),Vw(u),xw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),x(2)):(this.j.info("Failed to ping google.com"),x(1))};function Vw(u){if(u.G=0,u.ka=[],u.l){const p=pw(u.h);(p.length!=0||u.i.length!=0)&&(P(u.ka,p),P(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function Fw(u,p,g){var S=g instanceof Os?Kr(g):new Os(g);if(S.g!="")p&&(S.g=p+"."+S.g),Qc(S,S.s);else{var M=a.location;S=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var j=new Os(null);S&&qc(j,S),p&&(j.g=p),M&&Qc(j,M),g&&(j.l=g),S=j}return g=u.D,p=u.ya,g&&p&&Be(S,g,p),Be(S,"VER",u.la),Al(u,S),S}function $w(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new nt(new Xc({eb:g})):new nt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jw(){}t=jw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rh(){}rh.prototype.g=function(u,p){return new En(u,p)};function En(u,p){ht.call(this),this.g=new bw(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Vo(this)}w(En,ht),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){lm(this.g)},En.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Oo(u),u=g);p.i.push(new Ge(p.Ya++,u)),p.G==3&&th(p)},En.prototype.N=function(){this.g.l=null,delete this.j,lm(this.g),delete this.g,En.aa.N.call(this)};function Uw(u){_l.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(Uw,_l);function Bw(){No.call(this),this.status=1}w(Bw,No);function Vo(u){this.g=u}w(Vo,jw),Vo.prototype.ua=function(){Ke(this.g,"a")},Vo.prototype.ta=function(u){Ke(this.g,new Uw(u))},Vo.prototype.sa=function(u){Ke(this.g,new Bw)},Vo.prototype.ra=function(){Ke(this.g,"b")},rh.prototype.createWebChannel=rh.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,pD=function(){return new rh},fD=function(){return Hr()},dD=zr,$y={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Q.NO_ERROR=0,Q.TIMEOUT=8,Q.HTTP_ERROR=6,ud=Q,ne.COMPLETE="complete",hD=ne,Do.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Jl=Do,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,cD=nt}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const DP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new kp("@firebase/firestore");function Ko(){return vo.logLevel}function Y(t,...e){if(vo.logLevel<=_e.DEBUG){const n=e.map(R_);vo.debug(`Firestore (${al}): ${t}`,...n)}}function vi(t,...e){if(vo.logLevel<=_e.ERROR){const n=e.map(R_);vo.error(`Firestore (${al}): ${t}`,...n)}}function za(t,...e){if(vo.logLevel<=_e.WARN){const n=e.map(R_);vo.warn(`Firestore (${al}): ${t}`,...n)}}function R_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: `+t;throw vi(e),new Error(e)}function ke(t,e){t||ce()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class xJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kJ{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new so;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new so,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new so)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new mD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new Wt(e)}}class OJ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class DJ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new OJ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NJ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ke(this.o===void 0);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new NJ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=LJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function Ha(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new wt(0,0))}static max(){return new de(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends Yu{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const VJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Yu{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return VJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(He.fromString(e))}static fromName(e){return new se(He.fromString(e).popFirst(5))}static empty(){return new se(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new He(e.slice()))}}function FJ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new fs(i,se.empty(),e)}function $J(t){return new fs(t.readTime,t.key,-1)}class fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fs(de.min(),se.empty(),-1)}static max(){return new fs(de.max(),se.empty(),-1)}}function jJ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==UJ)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function zJ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vp.oe=-1;function Fp(t){return t==null}function yf(t){return t===0&&1/t==-1/0}function HJ(t){return typeof t=="number"&&Number.isInteger(t)&&!yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WJ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NP(e)),e=KJ(t.get(n),e);return NP(e)}function KJ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function NP(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lh(this.root,e,this.comparator,!0)}}class Lh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=i??Dt.EMPTY,this.right=s??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LP(this.data.getIterator())}getIteratorFrom(e){return new LP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class LP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new cr([])}unionWith(e){let n=new Ct(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yD("Invalid base64 string: "+s):s}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const GJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){if(ke(!!t),typeof t=="string"){let e=0;const n=GJ.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ms(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $p(t){const e=t.mapValue.fields.__previous_value__;return b_(e)?$p(e):e}function Xu(t){const e=ps(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ju{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b_(t)?4:YJ(t)?9007199254740991:QJ(t)?10:11:ce()}function $r(t,e){if(t===e)return!0;const n=gs(t);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ps(i.timestampValue),a=ps(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ms(i.bytesValue).isEqual(ms(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return st(i.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return st(i.integerValue)===st(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=st(i.doubleValue),a=st(s.doubleValue);return o===a?yf(o)===yf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ha(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(MP(o)!==MP(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!$r(o[l],a[l])))return!1;return!0}(t,e);default:return ce()}}function Zu(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function Wa(t,e){if(t===e)return 0;const n=gs(t),r=gs(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=st(s.integerValue||s.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return VP(t.timestampValue,e.timestampValue);case 4:return VP(Xu(t),Xu(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ms(s),l=ms(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Ce(a[c],l[c]);if(h!==0)return h}return Ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ce(st(s.latitude),st(o.latitude));return a!==0?a:Ce(st(s.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return FP(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const d=s.fields||{},f=o.fields||{},m=(a=d.value)===null||a===void 0?void 0:a.arrayValue,w=(l=f.value)===null||l===void 0?void 0:l.arrayValue,T=Ce(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:FP(m,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Vh.mapValue&&o===Vh.mapValue)return 0;if(s===Vh.mapValue)return 1;if(o===Vh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=Ce(l[d],h[d]);if(f!==0)return f;const m=Wa(a[l[d]],c[h[d]]);if(m!==0)return m}return Ce(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ce()}}function VP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=ps(t),r=ps(e),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function FP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Wa(n[i],r[i]);if(s)return s}return Ce(n.length,r.length)}function Ka(t){return jy(t)}function jy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ps(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jy(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function cd(t){switch(gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$p(t);return e?16+cd(e):16;case 5:return 2*t.stringValue.length;case 6:return ms(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+cd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Po(r.fields,(s,o)=>{i+=s.length+cd(o)}),i}(t.mapValue);default:throw ce()}}function $P(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Uy(t){return!!t&&"integerValue"in t}function x_(t){return!!t&&"arrayValue"in t}function jP(t){return!!t&&"nullValue"in t}function UP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hd(t){return!!t&&"mapValue"in t}function QJ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function yu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Po(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YJ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(n)}setAll(e){let n=Mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Po(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Hn(yu(this.value))}}function _D(t){const e=[];return Po(t.fields,(n,r)=>{const i=new Mt([n]);if(hd(r)){const s=_D(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,de.min(),de.min(),de.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new Gt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new Gt(e,2,n,de.min(),de.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,de.min(),de.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.position=e,this.inclusive=n}}function BP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Wa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function XJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{}class mt extends wD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZJ(e,n,r):n==="array-contains"?new nZ(e,r):n==="in"?new rZ(e,r):n==="not-in"?new iZ(e,r):n==="array-contains-any"?new sZ(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eZ(e,r):new tZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wa(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends wD{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new gr(e,n)}matches(e){return ED(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ED(t){return t.op==="and"}function TD(t){return JJ(t)&&ED(t)}function JJ(t){for(const e of t.filters)if(e instanceof gr)return!1;return!0}function By(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Ka(t.value);if(TD(t))return t.filters.map(e=>By(e)).join(",");{const e=t.filters.map(n=>By(n)).join(",");return`${t.op}(${e})`}}function SD(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof gr?function(r,i){return i instanceof gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&SD(o,i.filters[a]),!0):!1}(t,e):void ce()}function ID(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ka(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(ID).join(" ,")+"}"}(t):"Filter"}class ZJ extends mt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class eZ extends mt{constructor(e,n){super(e,"in",n),this.keys=PD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tZ extends mt{constructor(e,n){super(e,"not-in",n),this.keys=PD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class nZ extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x_(n)&&Zu(n.arrayValue,this.value)}}class rZ extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class iZ extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zu(this.value.arrayValue,n)}}class sZ extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function HP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new oZ(t,e,n,r,i,s,o)}function k_(t){const e=fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>By(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ka(r)).join(",")),e.ue=n}return e.ue}function O_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zP(t.startAt,e.startAt)&&zP(t.endAt,e.endAt)}function zy(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aZ(t,e,n,r,i,s,o,a){return new cl(t,e,n,r,i,s,o,a)}function D_(t){return new cl(t)}function WP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CD(t){return t.collectionGroup!==null}function _u(t){const e=fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ct(Mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ec(s,r))}),n.has(Mt.keyField().canonicalString())||e.ce.push(new ec(Mt.keyField(),r))}return e.ce}function Nr(t){const e=fe(t);return e.le||(e.le=lZ(e,_u(t))),e.le}function lZ(t,e){if(t.limitType==="F")return HP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ec(i.field,s)});const n=t.endAt?new _f(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _f(t.startAt.position,t.startAt.inclusive):null;return HP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hy(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wy(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jp(t,e){return O_(Nr(t),Nr(e))&&t.limitType===e.limitType}function AD(t){return`${k_(Nr(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ID(i)).join(", ")}]`),Fp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ka(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ka(i)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function Up(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of _u(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=BP(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,_u(r),i)||r.endAt&&!function(o,a,l){const c=BP(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,_u(r),i))}(t,e)}function uZ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RD(t){return(e,n)=>{let r=!1;for(const i of _u(t)){const s=cZ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cZ(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Wa(l,c):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return vD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hZ=new tt(se.comparator);function yi(){return hZ}const bD=new tt(se.comparator);function Zl(...t){let e=bD;for(const n of t)e=e.insert(n.key,n);return e}function xD(t){let e=bD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ys(){return wu()}function kD(){return wu()}function wu(){return new Co(t=>t.toString(),(t,e)=>t.isEqual(e))}const dZ=new tt(se.comparator),fZ=new Ct(se.comparator);function we(...t){let e=fZ;for(const n of t)e=e.add(n);return e}const pZ=new Ct(Ce);function mZ(){return pZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function OD(t){return{integerValue:""+t}}function gZ(t,e){return HJ(e)?OD(e):N_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this._=void 0}}function vZ(t,e,n){return t instanceof tc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&b_(s)&&(s=$p(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof nc?ND(t,e):t instanceof rc?MD(t,e):function(i,s){const o=DD(i,s),a=KP(o)+KP(i.Pe);return Uy(o)&&Uy(i.Pe)?OD(a):N_(i.serializer,a)}(t,e)}function yZ(t,e,n){return t instanceof nc?ND(t,e):t instanceof rc?MD(t,e):n}function DD(t,e){return t instanceof wf?function(r){return Uy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class tc extends Bp{}class nc extends Bp{constructor(e){super(),this.elements=e}}function ND(t,e){const n=LD(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class rc extends Bp{constructor(e){super(),this.elements=e}}function MD(t,e){let n=LD(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class wf extends Bp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function KP(t){return st(t.integerValue||t.doubleValue)}function LD(t){return x_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e,n){this.field=e,this.transform=n}}function wZ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof nc&&i instanceof nc||r instanceof rc&&i instanceof rc?Ha(r.elements,i.elements,$r):r instanceof wf&&i instanceof wf?$r(r.Pe,i.Pe):r instanceof tc&&i instanceof tc}(t.transform,e.transform)}class EZ{constructor(e,n){this.version=e,this.transformResults=n}}class Mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zp{}function VD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new M_(t.key,Mr.none()):new Mc(t.key,t.data,Mr.none());{const n=t.data,r=Hn.empty();let i=new Ct(Mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ao(t.key,r,new cr(i.toArray()),Mr.none())}}function TZ(t,e,n){t instanceof Mc?function(i,s,o){const a=i.value.clone(),l=qP(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ao?function(i,s,o){if(!dd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=qP(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(FD(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Eu(t,e,n,r){return t instanceof Mc?function(s,o,a,l){if(!dd(s.precondition,o))return a;const c=s.value.clone(),h=QP(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ao?function(s,o,a,l){if(!dd(s.precondition,o))return a;const c=QP(s.fieldTransforms,l,o),h=o.data;return h.setAll(FD(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return dd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function SZ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=DD(r.transform,i||null);s!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,s))}return n||null}function GP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ha(r,i,(s,o)=>wZ(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mc extends zp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ao extends zp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function FD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qP(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,yZ(o,a,n[i]))}return r}function QP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vZ(s,o,e))}return r}class M_ extends zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IZ extends zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&TZ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kD();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=VD(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(n,r)=>GP(n,r))&&Ha(this.baseMutations,e.baseMutations,(n,r)=>GP(n,r))}}class L_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=function(){return dZ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new L_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AZ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Pe;function RZ(t){switch(t){default:return ce();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function $D(t){if(t===void 0)return vi("GRPC error has no .code"),z.UNKNOWN;switch(t){case dt.OK:return z.OK;case dt.CANCELLED:return z.CANCELLED;case dt.UNKNOWN:return z.UNKNOWN;case dt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case dt.INTERNAL:return z.INTERNAL;case dt.UNAVAILABLE:return z.UNAVAILABLE;case dt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case dt.NOT_FOUND:return z.NOT_FOUND;case dt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case dt.ABORTED:return z.ABORTED;case dt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case dt.DATA_LOSS:return z.DATA_LOSS;default:return ce()}}(Pe=dt||(dt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xZ=new io([4294967295,4294967295],0);function YP(t){const e=bZ().encode(t),n=new uD;return n.update(e),new Uint8Array(n.digest())}function XP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new io([n,r],0),new io([i,s],0)]}class V_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(r<0)throw new eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=io.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(io.fromNumber(r)));return i.compare(xZ)===1&&(i=new io([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=YP(e),[r,i]=XP(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new V_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=YP(e),[r,i]=XP(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hp(de.min(),i,new tt(Ce),yi(),we())}}class Lc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class jD{constructor(e,n){this.targetId=e,this.me=n}}class UD{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class JP{constructor(){this.fe=0,this.ge=eC(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),n=we(),r=we();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new Lc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=eC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kZ{constructor(e){this.Le=e,this.Be=new Map,this.ke=yi(),this.qe=ZP(),this.Qe=new tt(Ce)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(zy(s))if(r===0){const o=new se(s.path);this.Ue(n,o,Gt.newNoDocument(o,de.min()))}else ke(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ms(r).toUint8Array()}catch(l){if(l instanceof yD)return za("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new V_(o,i,s)}catch(l){return za(l instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&zy(a.target)){const l=new se(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Gt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=we();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Hp(e,n,this.Qe,this.ke,r);return this.ke=yi(),this.qe=ZP(),this.Qe=new tt(Ce),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new JP,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ct(Ce),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new JP),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ZP(){return new tt(se.comparator)}function eC(){return new tt(se.comparator)}const OZ={asc:"ASCENDING",desc:"DESCENDING"},DZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NZ={and:"AND",or:"OR"};class MZ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ky(t,e){return t.useProto3Json||Fp(e)?e:{value:e}}function Ef(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LZ(t,e){return Ef(t,e.toTimestamp())}function Lr(t){return ke(!!t),de.fromTimestamp(function(n){const r=ps(n);return new wt(r.seconds,r.nanos)}(t))}function F_(t,e){return Gy(t,e).canonicalString()}function Gy(t,e){const n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zD(t){const e=He.fromString(t);return ke(qD(e)),e}function qy(t,e){return F_(t.databaseId,e.path)}function zg(t,e){const n=zD(e);if(n.get(1)!==t.databaseId.projectId)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(WD(n))}function HD(t,e){return F_(t.databaseId,e)}function VZ(t){const e=zD(t);return e.length===4?He.emptyPath():WD(e)}function Qy(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WD(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tC(t,e,n){return{name:qy(t,e),fields:n.value.mapValue.fields}}function FZ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ke(h===void 0||typeof h=="string"),Ft.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ft.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?z.UNKNOWN:$D(c.code);return new te(h,c.message||"")}(o);n=new UD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zg(t,r.document.name),s=Lr(r.document.updateTime),o=r.document.createTime?Lr(r.document.createTime):de.min(),a=new Hn({mapValue:{fields:r.document.fields}}),l=Gt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new fd(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zg(t,r.document),s=r.readTime?Lr(r.readTime):de.min(),o=Gt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new fd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zg(t,r.document),s=r.removedTargetIds||[];n=new fd([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new AZ(i,s),a=r.targetId;n=new jD(a,o)}}return n}function $Z(t,e){let n;if(e instanceof Mc)n={update:tC(t,e.key,e.value)};else if(e instanceof M_)n={delete:qy(t,e.key)};else if(e instanceof Ao)n={update:tC(t,e.key,e.data),updateMask:qZ(e.fieldMask)};else{if(!(e instanceof IZ))return ce();n={verify:qy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof tc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof rc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:LZ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function jZ(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Lr(i.updateTime):Lr(s);return o.isEqual(de.min())&&(o=Lr(s)),new EZ(o,i.transformResults||[])}(n,e))):[]}function UZ(t,e){return{documents:[HD(t,e.path)]}}function BZ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HD(t,i);const s=function(c){if(c.length!==0)return GD(gr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:qo(f.field),direction:WZ(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ky(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function zZ(t){let e=VZ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=KD(d);return f instanceof gr&&TD(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(w){return new ec(Qo(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Fp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new _f(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,m=d.values||[];return new _f(m,f)}(n.endAt)),aZ(e,i,o,s,a,"F",l,c)}function HZ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qo(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qo(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qo(n.unaryFilter.field);return mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qo(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Qo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>KD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function WZ(t){return OZ[t]}function KZ(t){return DZ[t]}function GZ(t){return NZ[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Qo(t){return Mt.fromServerFormat(t.fieldPath)}function GD(t){return t instanceof mt?function(n){if(n.op==="=="){if(UP(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(jP(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UP(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(jP(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:KZ(n.op),value:n.value}}}(t):t instanceof gr?function(n){const r=n.getFilters().map(i=>GD(i));return r.length===1?r[0]:{compositeFilter:{op:GZ(n.op),filters:r}}}(t):ce()}function qZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r,i,s=de.min(),o=de.min(),a=Ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(e){this.ct=e}}function YZ(t){const e=zZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(){this.un=new JZ}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(fs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class JZ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ga(0)}static kn(){return new Ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC([t,e],[n,r]){const i=Ce(t,n);return i===0?Ce(e,r):i}class ZZ{constructor(e){this.Un=e,this.buffer=new Ct(rC),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eee{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Y("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?Y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.Hn(3e5)})}}class tee{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Vp.oe);const r=new ZZ(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(nC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nC):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Ko()<=_e.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function nee(t,e){return new tee(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(){this.changes=new Co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Eu(r.mutation,i,cr.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=Ys();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Zl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=yi();const o=wu(),a=function(){return wu()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ao)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Eu(h.mutation,c,h.mutation.getFieldMask(),wt.now())):o.set(c.key,cr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new iee(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wu();let i=new tt((o,a)=>o-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||cr.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||we()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=kD();h.forEach(f=>{if(!s.has(f)){const m=VD(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Ys());let a=-1,l=s;return o.next(c=>U.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,we())).next(h=>({batchId:a,changes:xD(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Zl();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(d,f){return new cl(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Gt.newInvalidDocument(h)))});let a=Zl();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Eu(h.mutation,c,cr.empty(),wt.now()),Up(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Lr(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:YZ(i.bundledQuery),readTime:Lr(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(){this.overlays=new tt(se.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ys();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Ys(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Ys(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ys(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new CZ(n,r));let s=this.Ir.get(n);s===void 0&&(s=we(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.Tr=new Ct(Tt.Er),this.dr=new Ct(Tt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Tt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new se(new He([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new se(new He([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=we();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return se.comparator(e.key,n.key)||Ce(e.wr,n.wr)}static Ar(e,n){return Ce(e.wr,n.wr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ct(Tt.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new PZ(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(Ce);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new se(s),0);let a=new Ct(Ce);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Tt(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(e){this.Mr=e,this.docs=function(){return new tt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=yi();const o=n.path,a=new se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||jJ($J(h),r)<=0||(i.has(h.key)||Up(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hee(this)}getSize(e){return U.resolve(this.size)}}class hee extends ree{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(e){this.persistence=e,this.Nr=new Co(n=>k_(n),O_),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $_,this.targetCount=0,this.kr=Ga.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ga(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Vp(0),this.Kr=!1,this.Kr=!0,this.$r=new lee,this.referenceDelegate=e(this),this.Ur=new dee(this),this.indexManager=new XZ,this.remoteDocumentCache=function(i){return new cee(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new QZ(n),this.Gr=new oee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new uee(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new fee(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class fee extends BJ{constructor(e){super(),this.currentSequenceNumber=e}}class j_{constructor(e){this.persistence=e,this.Jr=new $_,this.Yr=null}static Zr(e){return new j_(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const i=se.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Tf{constructor(e,n){this.persistence=e,this.ti=new Co(r=>WJ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=nee(this,n)}static Zr(e,n){return new Tf(e,n)}zr(){}jr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return U.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,de.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),U.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cd(e.data.value)),n}nr(e,n,r){return U.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new U_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return HG()?8:zJ(Xt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new pee;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ko()<=_e.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Ko()<=_e.DEBUG&&Y("QueryEngine","Query:",Go(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ko()<=_e.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):U.resolve())}Yi(e,n){if(WP(n))return U.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wy(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Wy(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return WP(n)||i.isEqual(de.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?U.resolve(null):(Ko()<=_e.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Go(n)),this.rs(e,o,n,FJ(i,-1)).next(a=>a))})}ts(e,n){let r=new Ct(RD(e));return n.forEach((i,s)=>{Up(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ko()<=_e.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Go(n)),this.Ji.getDocumentsMatchingQuery(e,n,fs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new tt(Ce),this._s=new Co(s=>k_(s),O_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new see(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function vee(t,e,n,r){return new gee(t,e,n,r)}async function YD(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=we();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function yee(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let m=U.resolve();return f.forEach(w=>{m=m.next(()=>h.getEntry(l,w)).next(T=>{const P=c.docVersions.get(w);ke(P!==null),T.version.compareTo(P)<0&&(d.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XD(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function _ee(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Ft.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(d,m),function(T,P,_){return T.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,m,h)&&a.push(n.Ur.updateTargetData(s,m))});let l=yi(),c=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(wee(s,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(de.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function wee(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=yi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Eee(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tee(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Wi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Yy(t,e,n){const r=fe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ul(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function iC(t,e,n){const r=fe(t);let i=de.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=fe(l),f=d._s.get(h);return f!==void 0?U.resolve(d.os.get(f)):d.Ur.getTargetData(c,h)}(r,o,Nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:de.min(),n?s:we())).next(a=>(See(r,uZ(e),a),{documents:a,Ts:s})))}function See(t,e,n){let r=t.us.get(e)||de.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class sC{constructor(){this.activeTargetIds=mZ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iee{constructor(){this.so=new sC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh=null;function Hg(){return Fh===null?Fh=function(){return 268435456+Math.round(2147483648*Math.random())}():Fh++,"0x"+Fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aee{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class Ree extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Hg(),l=this.xo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(h=>(Y("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw za("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=Cee[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Hg();return new Promise((o,a)=>{const l=new cD;l.setWithCredentials(!0),l.listenOnce(hD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ud.NO_ERROR:const h=l.getResponseJson();Y(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case ud.TIMEOUT:Y(zt,`RPC '${e}' ${s} timed out`),a(new te(z.DEADLINE_EXCEEDED,"Request time out"));break;case ud.HTTP_ERROR:const d=l.getStatus();if(Y(zt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const w=function(P){const _=P.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(m.status);a(new te(w,m.message))}else a(new te(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te(z.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Y(zt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Y(zt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Hg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pD(),a=fD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");Y(zt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,m=!1;const w=new Aee({Io:P=>{m?Y(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(f||(Y(zt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Y(zt,`RPC '${e}' stream ${i} sending:`,P),d.send(P))},To:()=>d.close()}),T=(P,_,y)=>{P.listen(_,E=>{try{y(E)}catch(k){setTimeout(()=>{throw k},0)}})};return T(d,Jl.EventType.OPEN,()=>{m||(Y(zt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),T(d,Jl.EventType.CLOSE,()=>{m||(m=!0,Y(zt,`RPC '${e}' stream ${i} transport closed`),w.So())}),T(d,Jl.EventType.ERROR,P=>{m||(m=!0,za(zt,`RPC '${e}' stream ${i} transport errored:`,P),w.So(new te(z.UNAVAILABLE,"The operation could not be completed")))}),T(d,Jl.EventType.MESSAGE,P=>{var _;if(!m){const y=P.data[0];ke(!!y);const E=y,k=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(k){Y(zt,`RPC '${e}' stream ${i} received error:`,k);const F=k.status;let b=function(I){const A=dt[I];if(A!==void 0)return $D(A)}(F),C=k.message;b===void 0&&(b=z.INTERNAL,C="Unknown error status: "+F+" with message "+k.message),m=!0,w.So(new te(b,C)),d.close()}else Y(zt,`RPC '${e}' stream ${i} received:`,y),w.bo(y)}}),T(a,dD.STAT_EVENT,P=>{P.stat===$y.PROXY?Y(zt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===$y.NOPROXY&&Y(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Wg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t){return new MZ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new JD(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new te(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bee extends ZD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=FZ(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Lr(o.readTime):de.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Qy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=zy(l)?{documents:UZ(s,l)}:{query:BZ(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=BD(s,o.resumeToken);const c=Ky(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=Ef(s,o.snapshotVersion.toTimestamp());const c=Ky(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=HZ(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Qy(this.serializer),n.removeTarget=e,this.a_(n)}}class xee extends ZD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=jZ(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Qy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$Z(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kee extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Gy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Gy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Oee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vi(n),this.D_=!1):Y("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ro(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=fe(l);c.L_.add(4),await Vc(c),c.q_.set("Unknown"),c.L_.delete(4),await Kp(c)}(this))})}),this.q_=new Oee(r,i)}}async function Kp(t){if(Ro(t))for(const e of t.B_)await e(!0)}async function Vc(t){for(const e of t.B_)await e(!1)}function e4(t,e){const n=fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),W_(n)?H_(n):hl(n).r_()&&z_(n,e))}function B_(t,e){const n=fe(t),r=hl(n);n.N_.delete(e),r.r_()&&t4(n,e),n.N_.size===0&&(r.r_()?r.o_():Ro(n)&&n.q_.set("Unknown"))}function z_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hl(t).A_(e)}function t4(t,e){t.Q_.xe(e),hl(t).R_(e)}function H_(t){t.Q_=new kZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),hl(t).start(),t.q_.v_()}function W_(t){return Ro(t)&&!hl(t).n_()&&t.N_.size>0}function Ro(t){return fe(t).L_.size===0}function n4(t){t.Q_=void 0}async function Nee(t){t.q_.set("Online")}async function Mee(t){t.N_.forEach((e,n)=>{z_(t,e)})}async function Lee(t,e){n4(t),W_(t)?(t.q_.M_(e),H_(t)):t.q_.set("Unknown")}async function Vee(t,e,n){if(t.q_.set("Online"),e instanceof UD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sf(t,r)}else if(e instanceof fd?t.Q_.Ke(e):e instanceof jD?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{const r=await XD(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(Ft.EMPTY_BYTE_STRING,h.snapshotVersion)),t4(s,l);const d=new Wi(h.target,l,c,h.sequenceNumber);z_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await Sf(t,r)}}async function Sf(t,e,n){if(!ul(e))throw e;t.L_.add(1),await Vc(t),t.q_.set("Offline"),n||(n=()=>XD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kp(t)})}function r4(t,e){return e().catch(n=>Sf(t,n,e))}async function Gp(t){const e=fe(t),n=vs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Fee(e);)try{const i=await Eee(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,$ee(e,i)}catch(i){await Sf(e,i)}i4(e)&&s4(e)}function Fee(t){return Ro(t)&&t.O_.length<10}function $ee(t,e){t.O_.push(e);const n=vs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function i4(t){return Ro(t)&&!vs(t).n_()&&t.O_.length>0}function s4(t){vs(t).start()}async function jee(t){vs(t).p_()}async function Uee(t){const e=vs(t);for(const n of t.O_)e.m_(n.mutations)}async function Bee(t,e,n){const r=t.O_.shift(),i=L_.from(r,e,n);await r4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gp(t)}async function zee(t,e){e&&vs(t).V_&&await async function(r,i){if(function(o){return RZ(o)&&o!==z.ABORTED}(i.code)){const s=r.O_.shift();vs(r).s_(),await r4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Gp(r)}}(t,e),i4(t)&&s4(t)}async function aC(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=Ro(n);n.L_.add(3),await Vc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kp(n)}async function Hee(t,e){const n=fe(t);e?(n.L_.delete(2),await Kp(n)):e||(n.L_.add(2),await Vc(n),n.q_.set("Unknown"))}function hl(t){return t.K_||(t.K_=function(n,r,i){const s=fe(n);return s.w_(),new bee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Nee.bind(null,t),Ro:Mee.bind(null,t),mo:Lee.bind(null,t),d_:Vee.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),W_(t)?H_(t):t.q_.set("Unknown")):(await t.K_.stop(),n4(t))})),t.K_}function vs(t){return t.U_||(t.U_=function(n,r,i){const s=fe(n);return s.w_(),new xee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:jee.bind(null,t),mo:zee.bind(null,t),f_:Uee.bind(null,t),g_:Bee.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gp(t)):(await t.U_.stop(),t.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new K_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G_(t,e){if(vi("AsyncQueue",`${e}: ${t}`),ul(t))return new te(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Sa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.W_=new tt(se.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class qa{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qa(e,n,Sa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Kee{constructor(){this.queries=uC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=fe(n),s=i.queries;i.queries=uC(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new te(z.ABORTED,"Firestore shutting down"))}}function uC(){return new Co(t=>AD(t),jp)}async function Gee(t,e){const n=fe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Wee,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=G_(o,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&q_(n)}async function qee(t,e){const n=fe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Qee(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&q_(n)}function Yee(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function q_(t){t.Y_.forEach(e=>{e.next()})}var Xy,cC;(cC=Xy||(Xy={})).ea="default",cC.Cache="cache";class Xee{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.key=e}}class a4{constructor(e){this.key=e}}class Jee{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=RD(e),this.Ra=new Sa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new lC,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),m=Up(this.query,d)?d:null,w=!!f&&this.mutatedKeys.has(f.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let P=!1;f&&m?f.data.isEqual(m.data)?w!==T&&(r.track({type:3,doc:m}),P=!0):this.ga(f,m)||(r.track({type:2,doc:m}),P=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),P=!0):f&&!m&&(r.track({type:1,doc:f}),P=!0,(l||c)&&(a=!0)),P&&(m?(o=o.add(m),s=T?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(m,w){const T=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return T(m)-T(w)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new qa(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new a4(r))}),this.da.forEach(r=>{e.has(r)||n.push(new o4(r))}),n}ba(e){this.Ta=e.Ts,this.da=we();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return qa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Zee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ete{constructor(e){this.key=e,this.va=!1}}class tte{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Co(a=>AD(a),jp),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(se.comparator),this.Na=new Map,this.La=new $_,this.Ba={},this.ka=new Map,this.qa=Ga.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function nte(t,e,n=!0){const r=f4(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await l4(r,e,n,!0),i}async function rte(t,e){const n=f4(t);await l4(n,e,!0,!1)}async function l4(t,e,n,r){const i=await Tee(t.localStore,Nr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await ite(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&e4(t.remoteStore,i),a}async function ite(t,e,n,r,i){t.Ka=(d,f,m)=>async function(T,P,_,y){let E=P.view.ma(_);E.ns&&(E=await iC(T.localStore,P.query,!1).then(({documents:C})=>P.view.ma(C,E)));const k=y&&y.targetChanges.get(P.targetId),F=y&&y.targetMismatches.get(P.targetId)!=null,b=P.view.applyChanges(E,T.isPrimaryClient,k,F);return dC(T,P.targetId,b.wa),b.snapshot}(t,d,f,m);const s=await iC(t.localStore,e,!0),o=new Jee(e,s.Ts),a=o.ma(s.documents),l=Lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);dC(t,n,c.wa);const h=new Zee(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function ste(t,e,n){const r=fe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!jp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&B_(r.remoteStore,i.targetId),Jy(r,i.targetId)}).catch(ll)):(Jy(r,i.targetId),await Yy(r.localStore,i.targetId,!0))}async function ote(t,e){const n=fe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),B_(n.remoteStore,r.targetId))}async function ate(t,e,n){const r=pte(t);try{const i=await function(o,a){const l=fe(o),c=wt.now(),h=a.reduce((m,w)=>m.add(w.key),we());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=yi(),T=we();return l.cs.getEntries(m,h).next(P=>{w=P,w.forEach((_,y)=>{y.isValidDocument()||(T=T.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(P=>{d=P;const _=[];for(const y of a){const E=SZ(y,d.get(y.key).overlayedDocument);E!=null&&_.push(new Ao(y.key,E,_D(E.value.mapValue),Mr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(P=>{f=P;const _=P.applyToLocalDocumentSet(d,T);return l.documentOverlayCache.saveOverlays(m,P.batchId,_)})}).then(()=>({batchId:f.batchId,changes:xD(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new tt(Ce)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Fc(r,i.changes),await Gp(r.remoteStore)}catch(i){const s=G_(i,"Failed to persist write");n.reject(s)}}async function u4(t,e){const n=fe(t);try{const r=await _ee(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ke(o.va):i.removedDocuments.size>0&&(ke(o.va),o.va=!1))}),await Fc(n,r,e)}catch(r){await ll(r)}}function hC(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.j_)f.Z_(a)&&(c=!0)}),c&&q_(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lte(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new tt(se.comparator);o=o.insert(s,Gt.newNoDocument(s,de.min()));const a=we().add(s),l=new Hp(de.min(),new Map,new tt(Ce),o,a);await u4(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Q_(r)}else await Yy(r.localStore,e,!1).then(()=>Jy(r,e,n)).catch(ll)}async function ute(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await yee(n.localStore,e);h4(n,r,null),c4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fc(n,i)}catch(i){await ll(i)}}async function cte(t,e,n){const r=fe(t);try{const i=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ke(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);h4(r,e,n),c4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fc(r,i)}catch(i){await ll(i)}}function c4(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function h4(t,e,n){const r=fe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Jy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||d4(t,r)})}function d4(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(B_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Q_(t))}function dC(t,e,n){for(const r of n)r instanceof o4?(t.La.addReference(r.key,e),hte(t,r)):r instanceof a4?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||d4(t,r.key)):ce()}function hte(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.xa.add(r),Q_(t))}function Q_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new se(He.fromString(e)),r=t.qa.next();t.Na.set(r,new ete(n)),t.Oa=t.Oa.insert(n,r),e4(t.remoteStore,new Wi(Nr(D_(n.path)),r,"TargetPurposeLimboResolution",Vp.oe))}}async function Fc(t,e,n){const r=fe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=U_.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const h=fe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(c,f=>U.forEach(f.$i,m=>h.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>U.forEach(f.Ui,m=>h.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!ul(d))throw d;Y("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const m=h.os.get(f),w=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(f,T)}}}(r.localStore,s))}async function dte(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await YD(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new te(z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fc(n,r.hs)}}function fte(t,e){const n=fe(t),r=n.Na.get(e);if(r&&r.va)return we().add(r.key);{let i=we();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function f4(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=u4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lte.bind(null,e),e.Ca.d_=Qee.bind(null,e.eventManager),e.Ca.$a=Yee.bind(null,e.eventManager),e}function pte(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ute.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cte.bind(null,e),e}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return vee(this.persistence,new mee,e.initialUser,this.serializer)}Ga(e){return new QD(j_.Zr,this.serializer)}Wa(e){return new Iee}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class mte extends If{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){ke(this.persistence.referenceDelegate instanceof Tf);const r=this.persistence.referenceDelegate.garbageCollector;return new eee(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new QD(r=>Tf.Zr(r,n),this.serializer)}}class Zy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dte.bind(null,this.syncEngine),await Hee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kee}()}createDatastore(e){const n=Wp(e.databaseInfo.databaseId),r=function(s){return new Ree(s)}(e.databaseInfo);return function(s,o,a,l){return new kee(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Dee(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>hC(this.syncEngine,n,0),function(){return oC.D()?new oC:new Pee}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new tte(i,s,o,a,l,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=fe(i);Y("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Vc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zy.provider={build:()=>new Zy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=gD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=G_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kg(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yte(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aC(e.remoteStore,i)),t._onlineComponents=e}async function yte(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await Kg(t,new If)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await Kg(t,new mte(void 0));return t._offlineComponents}async function p4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await fC(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await fC(t,new Zy))),t._onlineComponents}function _te(t){return p4(t).then(e=>e.syncEngine)}async function pC(t){const e=await p4(t),n=e.eventManager;return n.onListen=nte.bind(null,e.syncEngine),n.onUnlisten=ste.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rte.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ote.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t,e,n){if(!n)throw new te(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wte(t,e,n,r){if(e===!0&&r===!0)throw new te(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gC(t){if(!se.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vC(t){if(se.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function Ia(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qp(t);throw new te(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bJ;switch(r.type){case"firstParty":return new DJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mC.get(n);r&&(Y("ComponentProvider","Removing Datastore"),mC.delete(n),r.terminate())}(this),Promise.resolve()}}function Ete(t,e,n,r={}){var i;const s=(t=Ia(t,Qp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Wt.MOCK_USER;else{a=FG(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Wt(c)}t._authCredentials=new xJ(new mD(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class Rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class is extends bo{constructor(e,n,r){super(e,n,D_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new se(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function v4(t,e,...n){if(t=Jt(t),g4("collection","path",e),t instanceof Qp){const r=He.fromString(e,...n);return vC(r),new is(t,null,r)}{if(!(t instanceof Rn||t instanceof is))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return vC(r),new is(t.firestore,null,r)}}function y4(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=gD.newId()),g4("doc","path",e),t instanceof Qp){const r=He.fromString(e,...n);return gC(r),new Rn(t,null,new se(r))}{if(!(t instanceof Rn||t instanceof is))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return gC(r),new Rn(t.firestore,t instanceof is?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new JD(this,"async_queue_retry"),this.Vu=()=>{const r=Wg();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Wg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Wg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new so;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ul(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw vi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=K_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function wC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ic extends Qp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _C,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _C(e),this._firestoreClient=void 0,await e}}}function Tte(t,e){const n=typeof t=="object"?t:h_(),r=typeof t=="string"?t:"(default)",i=Io(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=LG("firestore");s&&Ete(i,...s)}return i}function _4(t){if(t._terminated)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ste(t),t._firestoreClient}function Ste(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new qJ(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,m4(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new vte(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qa(Ft.fromBase64String(e))}catch(n){throw new te(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qa(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ite=/^__.*__$/;class Pte{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mc(e,this.data,n,this.fieldTransforms)}}function w4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class ew{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ew(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Pf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(w4(this.Cu)&&Ite.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Cte{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wp(e)}Qu(e,n,r,i=!1){return new ew({Cu:e,methodName:n,qu:r,path:Mt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E4(t){const e=t._freezeSettings(),n=Wp(t._databaseId);return new Cte(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ate(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);I4("Data must be an object, but it was:",o,r);const a=T4(r,o);let l,c;if(s.merge)l=new cr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=bte(e,d,n);if(!o.contains(f))throw new te(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);kte(h,f)||h.push(f)}l=new cr(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Pte(new Hn(a),l,c)}class tw extends X_{_toFieldTransform(e){return new _Z(e.path,new tc)}isEqual(e){return e instanceof tw}}function Rte(t,e,n,r=!1){return nw(n,t.Qu(r?4:3,e))}function nw(t,e){if(S4(t=Jt(t)))return I4("Unsupported field value:",e,t),T4(t,e);if(t instanceof X_)return function(r,i){if(!w4(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=nw(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gZ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wt.fromDate(r);return{timestampValue:Ef(i.serializer,s)}}if(r instanceof wt){const s=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ef(i.serializer,s)}}if(r instanceof J_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qa)return{bytesValue:BD(i.serializer,r._byteString)};if(r instanceof Rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:F_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Z_)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return N_(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${qp(r)}`)}(t,e)}function T4(t,e){const n={};return vD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(t,(r,i)=>{const s=nw(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function S4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof J_||t instanceof Qa||t instanceof Rn||t instanceof X_||t instanceof Z_)}function I4(t,e,n){if(!S4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function bte(t,e,n){if((e=Jt(e))instanceof Y_)return e._internalPath;if(typeof e=="string")return P4(t,e);throw Pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const xte=new RegExp("[~\\*/\\[\\]]");function P4(t,e,n){if(e.search(xte)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Y_(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new te(z.INVALID_ARGUMENT,a+t+l)}function kte(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ote(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ote extends C4{data(){return super.data()}}function rw(t,e){return typeof e=="string"?P4(t,e):e instanceof Y_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dte(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iw{}class A4 extends iw{}function Nte(t,e,...n){let r=[];e instanceof iw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof ow).length,a=s.filter(l=>l instanceof sw).length;if(o>1||o>0&&a>0)throw new te(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sw extends A4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sw(e,n,r)}_apply(e){const n=this._parse(e);return R4(e._query,n),new bo(e.firestore,e.converter,Hy(e._query,n))}_parse(e){const n=E4(e.firestore);return function(s,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new te(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){TC(d,h);const m=[];for(const w of d)m.push(EC(l,s,w));f={arrayValue:{values:m}}}else f=EC(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||TC(d,h),f=Rte(a,o,d,h==="in"||h==="not-in");return mt.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ow extends iw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ow(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)R4(o,l),o=Hy(o,l)}(e._query,n),new bo(e.firestore,e.converter,Hy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class aw extends A4{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new aw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(s,o)}(e._query,this._field,this._direction);return new bo(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new cl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Mte(t,e="asc"){const n=e,r=rw("orderBy",t);return aw._create(r,n)}function EC(t,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new te(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CD(e)&&n.indexOf("/")!==-1)throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!se.isDocumentKey(r))throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $P(t,new se(r))}if(n instanceof Rn)return $P(t,n._key);throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qp(n)}.`)}function TC(t,e){if(!Array.isArray(t)||t.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R4(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Lte{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Po(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>st(o.doubleValue));return new Z_(s)}convertGeoPoint(e){return new J_(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$p(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const n=ps(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);ke(qD(r));const i=new Ju(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||vi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vte(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class b4 extends C4{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pd extends b4{data(e={}){return super.data(e)}}class Fte{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pd(this._firestore,this._userDataWriter,r.key,r,new tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new pd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new pd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:$te(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $te(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}class x4 extends Lte{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function jte(t){return k4(Ia(t.firestore,ic),[new M_(t._key,Mr.none())])}function Ute(t,e){const n=Ia(t.firestore,ic),r=y4(t),i=Vte(t.converter,e);return k4(n,[Ate(E4(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}function Bte(t,...e){var n,r,i;t=Jt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||wC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(wC(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,h;if(t instanceof Rn)c=Ia(t.firestore,ic),h=D_(t._key.path),l={next:d=>{e[o]&&e[o](zte(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ia(t,bo);c=Ia(d.firestore,ic),h=d._query;const f=new x4(c);l={next:m=>{e[o]&&e[o](new Fte(c,f,d,m))},error:e[o+1],complete:e[o+2]},Dte(t._query)}return function(f,m,w,T){const P=new gte(T),_=new Xee(m,P,w);return f.asyncQueue.enqueueAndForget(async()=>Gee(await pC(f),_)),()=>{P.Za(),f.asyncQueue.enqueueAndForget(async()=>qee(await pC(f),_))}}(_4(c),h,a,l)}function k4(t,e){return function(r,i){const s=new so;return r.asyncQueue.enqueueAndForget(async()=>ate(await _te(r),i,s)),s.promise}(_4(t),e)}function zte(t,e,n){const r=n.docs.get(e._key),i=new x4(t);return new b4(t,i,e._key,r,new tu(n.hasPendingWrites,n.fromCache),e.converter)}function Hte(){return new tw("serverTimestamp")}(function(e,n=!0){(function(i){al=i})(sl),Vr(new mr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ic(new kJ(r.getProvider("auth-internal")),new MJ(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gn(DP,"4.7.4",e),Gn(DP,"4.7.4","esm2017")})();const Wte={apiKey:"AIzaSyCtZxLiJsxcjJOD06qUFYuTMCDPV2VWKQY",authDomain:"clone-yt-62f7c.firebaseapp.com",projectId:"clone-yt-62f7c",storageBucket:"clone-yt-62f7c.firebasestorage.app",messagingSenderId:"1032461269211",appId:"1:1032461269211:web:6c22cb2ddc8bbd4b15b4fe",measurementId:"G-LH392RYR0C"},O4=aO(Wte);PJ(O4);const D4=oX(),lw=Tte(O4),Kte=new Yr;function Gte(){const[t,e]=V.useState(""),[n,r]=V.useState(!1),{user:i}=Ac(a=>a.appSlice),s=rl(),o=()=>{QQ(D4).then(()=>{s(Ex(null))}).catch(a=>{console.log(a)})};return V.useEffect(()=>{s(tz(t))},[t]),L.jsxs("div",{className:"flex items-ceter justify-between mx-3 h-16",children:[L.jsx("div",{className:"flex items-center gap=10",children:L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("div",{className:" p-3 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(cV,{size:"20px"})}),L.jsx("img",{className:"w-8  ",src:i==null?void 0:i.photoURL,alt:"gmail logo"}),L.jsx("h1",{className:"text-2xl text-gray-500 font-medium",children:"Gmail"})]})}),L.jsx("div",{className:"md:block hidden w-[50%] mr-60",children:L.jsxs("div",{className:"flex items-center bg-[#EAF1FB] px-2 py-3 rounded-full",children:[L.jsx(iV,{size:"24px",className:"text-gray-700"}),L.jsx("input",{type:"text",value:t,onChange:a=>e(a.target.value),placeholder:"Search Mail",className:"rounded-full w-full bg-transparent outline-none px-1"})]})}),L.jsx("div",{className:"md:block hidden",children:L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("div",{className:"p-3 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(hV,{})}),L.jsx("div",{className:"p-3 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(aV,{})}),L.jsx("div",{className:"p-3 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(dV,{})}),L.jsxs("div",{className:"relative cursor-pointer",children:[L.jsx(W7,{onClick:()=>r(!n),src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",size:"40",round:!0}),L.jsx(RG,{children:n&&L.jsx(qk.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.1},className:"absolute right-2 z-20 shadow-lg bg-white rounded-md",children:L.jsx("p",{onClick:o,className:"p-2 underline",children:"Logout"})})})]})]})})]})}function qte(t){return Oe({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(t)}function Qte(t){return Oe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(t)}function Yte(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.75 6.5a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z"},child:[]},{tag:"path",attr:{d:"M2.5 1h8.44a1.5 1.5 0 0 1 1.06.44l10.25 10.25a1.5 1.5 0 0 1 0 2.12l-8.44 8.44a1.5 1.5 0 0 1-2.12 0L1.44 12A1.497 1.497 0 0 1 1 10.94V2.5A1.5 1.5 0 0 1 2.5 1Zm0 1.5v8.44l10.25 10.25 8.44-8.44L10.94 2.5Z"},child:[]}]})(t)}function Xte(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function Jte(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 8.98V18c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h10.1c-.06.32-.1.66-.1 1 0 1.48.65 2.79 1.67 3.71L12 11 4 6v2l8 5 5.3-3.32c.54.2 1.1.32 1.7.32 1.13 0 2.16-.39 3-1.02zM16 5c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"},child:[]}]})(t)}function Zte(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"},child:[]}]})(t)}function e0(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},child:[]}]})(t)}function t0(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(t)}function N4(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z"},child:[]}]})(t)}function ene(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8c1.57 0 3.04.46 4.28 1.25l1.45-1.45A10.02 10.02 0 0 0 12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l-1.5-1.5c-1 .46-2.11.72-3.28.72zm7-5h-3v2h3v3h2v-3h3v-2h-3v-3h-2v3z"},child:[]}]})(t)}function M4(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z"},child:[]}]})(t)}function tne(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 8.98V18c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2l.01-12c0-1.1.89-2 1.99-2h10.1c-.06.32-.1.66-.1 1s.04.68.1 1H4l8 5 3.67-2.29c.47.43 1.02.76 1.63.98L12 13 4 8v10h16V9.9c.74-.15 1.42-.48 2-.92zM16 5c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"},child:[]}]})(t)}function nne(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zm-2 0v.01L12 13 4 8l8-4.68L19.99 8zM4 18v-7.66l8 5.02 7.99-4.99L20 18H4z"},child:[]}]})(t)}function rne(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM19 14.9 14.9 19H9.1L5 14.9V9.1L9.1 5h5.8L19 9.1v5.8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"16",r:"1"},child:[]},{tag:"path",attr:{d:"M11 7h2v7h-2z"},child:[]}]})(t)}function ine(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V6h5.17l1.41 1.41.59.59H20v10zm-7.84-6H8v2h4.16l-1.59 1.59L11.99 17 16 13.01 11.99 9l-1.41 1.41L12.16 12z"},child:[]}]})(t)}function sne(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(t)}function one(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0006 18.26L4.94715 22.2082L6.52248 14.2799L0.587891 8.7918L8.61493 7.84006L12.0006 0.5L15.3862 7.84006L23.4132 8.7918L17.4787 14.2799L19.054 22.2082L12.0006 18.26ZM12.0006 15.968L16.2473 18.3451L15.2988 13.5717L18.8719 10.2674L14.039 9.69434L12.0006 5.27502L9.96214 9.69434L5.12921 10.2674L8.70231 13.5717L7.75383 18.3451L12.0006 15.968Z"},child:[]}]})(t)}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qe(){return qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qe.apply(this,arguments)}var ft;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ft||(ft={}));const SC="popstate";function ane(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return sc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$c(i)}return une(e,n,null,t)}function Ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ya(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lne(){return Math.random().toString(36).substr(2,8)}function IC(t,e){return{usr:t.state,key:t.key,idx:e}}function sc(t,e,n,r){return n===void 0&&(n=null),qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?As(e):e,{state:n,key:e&&e.key||r||lne()})}function $c(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function As(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function une(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ft.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(qe({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=ft.Pop;let P=h(),_=P==null?null:P-c;c=P,l&&l({action:a,location:T.location,delta:_})}function f(P,_){a=ft.Push;let y=sc(T.location,P,_);c=h()+1;let E=IC(y,c),k=T.createHref(y);try{o.pushState(E,"",k)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(k)}s&&l&&l({action:a,location:T.location,delta:1})}function m(P,_){a=ft.Replace;let y=sc(T.location,P,_);c=h();let E=IC(y,c),k=T.createHref(y);o.replaceState(E,"",k),s&&l&&l({action:a,location:T.location,delta:0})}function w(P){let _=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof P=="string"?P:$c(P);return y=y.replace(/ $/,"%20"),Ee(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let T={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(SC,d),l=P,()=>{i.removeEventListener(SC,d),l=null}},createHref(P){return e(i,P)},createURL:w,encodeLocation(P){let _=w(P);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(P){return o.go(P)}};return T}var Me;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Me||(Me={}));const cne=new Set(["lazy","caseSensitive","path","id","index","children"]);function hne(t){return t.index===!0}function Cf(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Ee(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ee(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),hne(i)){let l=qe({},i,e(i),{id:a});return r[a]=l,l}else{let l=qe({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Cf(i.children,e,o,r)),l}})}function Bs(t,e,n){return n===void 0&&(n="/"),md(t,e,n,!1)}function md(t,e,n,r){let i=typeof e=="string"?As(e):e,s=jc(i.pathname||"/",n);if(s==null)return null;let o=L4(t);fne(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Ine(s);a=Tne(o[l],c,r)}return a}function dne(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function L4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ee(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ss([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Ee(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),L4(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:wne(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of V4(s.path))i(s,o,l)}),e}function V4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=V4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fne(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ene(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pne=/^:[\w-]+$/,mne=3,gne=2,vne=1,yne=10,_ne=-2,PC=t=>t==="*";function wne(t,e){let n=t.split("/"),r=n.length;return n.some(PC)&&(r+=_ne),e&&(r+=gne),n.filter(i=>!PC(i)).reduce((i,s)=>i+(pne.test(s)?mne:s===""?vne:yne),r)}function Ene(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Tne(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=CC({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=CC({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ss([s,d.pathname]),pathnameBase:Ane(ss([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=ss([s,d.pathnameBase]))}return o}function CC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Sne(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let T=a[d]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const w=a[d];return m&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Sne(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ya(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ine(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ya(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Pne(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?As(t):t;return{pathname:n?n.startsWith("/")?n:Cne(n,e):e,search:Rne(r),hash:bne(i)}}function Cne(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $4(t,e){let n=F4(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function j4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=As(t):(i=qe({},t),Ee(!i.pathname||!i.pathname.includes("?"),Gg("?","pathname","search",i)),Ee(!i.pathname||!i.pathname.includes("#"),Gg("#","pathname","hash",i)),Ee(!i.search||!i.search.includes("#"),Gg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Pne(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const ss=t=>t.join("/").replace(/\/\/+/g,"/"),Ane=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Af{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Yp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const U4=["post","put","patch","delete"],xne=new Set(U4),kne=["get",...U4],One=new Set(kne),Dne=new Set([301,302,303,307,308]),Nne=new Set([307,308]),qg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mne={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ul={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lne=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),B4="remix-router-transitions";function Vne(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ee(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let x=t.detectErrorBoundary;i=N=>({hasErrorBoundary:x(N)})}else i=Lne;let s={},o=Cf(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||Une,h=t.patchRoutesOnNavigation,d=qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,w=null,T=null,P=null,_=t.hydrationData!=null,y=Bs(o,t.history.location,l),E=null;if(y==null&&!h){let x=hn(404,{pathname:t.history.location.pathname}),{matches:N,route:$}=VC(o);y=N,E={[$.id]:x}}y&&!t.hydrationData&&Hr(y,o,t.history.location.pathname).active&&(y=null);let k;if(y)if(y.some(x=>x.route.lazy))k=!1;else if(!y.some(x=>x.route.loader))k=!0;else if(d.v7_partialHydration){let x=t.hydrationData?t.hydrationData.loaderData:null,N=t.hydrationData?t.hydrationData.errors:null;if(N){let $=y.findIndex(B=>N[B.route.id]!==void 0);k=y.slice(0,$+1).every(B=>!r0(B.route,x,N))}else k=y.every($=>!r0($.route,x,N))}else k=t.hydrationData!=null;else if(k=!1,y=[],d.v7_partialHydration){let x=Hr(null,o,t.history.location.pathname);x.active&&x.matches&&(y=x.matches)}let F,b={historyAction:t.history.action,location:t.history.location,matches:y,initialized:k,navigation:qg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},C=ft.Pop,v=!1,I,A=!1,O=new Map,D=null,R=!1,Ae=!1,Zt=[],Xn=new Set,pe=new Map,W=0,ie=-1,oe=new Map,Re=new Set,Se=new Map,Ve=new Map,vt=new Set,At=new Map,Rt=new Map,ln;function tm(){if(f=t.history.listen(x=>{let{action:N,location:$,delta:B}=x;if(ln){ln(),ln=void 0;return}Ya(Rt.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=yl({currentLocation:b.location,nextLocation:$,historyAction:N});if(X&&B!=null){let re=new Promise(le=>{ln=le});t.history.go(B*-1),Si(X,{state:"blocked",location:$,proceed(){Si(X,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),re.then(()=>t.history.go(B))},reset(){let le=new Map(b.blockers);le.set(X,Ul),ct({blockers:le})}});return}return Jn(N,$)}),n){tre(e,O);let x=()=>nre(e,O);e.addEventListener("pagehide",x),D=()=>e.removeEventListener("pagehide",x)}return b.initialized||Jn(ft.Pop,b.location,{initialHydration:!0}),F}function nm(){f&&f(),D&&D(),m.clear(),I&&I.abort(),b.fetchers.forEach((x,N)=>bs(N)),b.blockers.forEach((x,N)=>Wc(N))}function xo(x){return m.add(x),()=>m.delete(x)}function ct(x,N){N===void 0&&(N={}),b=qe({},b,x);let $=[],B=[];d.v7_fetcherPersist&&b.fetchers.forEach((X,re)=>{X.state==="idle"&&(vt.has(re)?B.push(re):$.push(re))}),[...m].forEach(X=>X(b,{deletedFetchers:B,viewTransitionOpts:N.viewTransitionOpts,flushSync:N.flushSync===!0})),d.v7_fetcherPersist&&($.forEach(X=>b.fetchers.delete(X)),B.forEach(X=>bs(X)))}function wr(x,N,$){var B,X;let{flushSync:re}=$===void 0?{}:$,le=b.actionData!=null&&b.navigation.formMethod!=null&&sr(b.navigation.formMethod)&&b.navigation.state==="loading"&&((B=x.state)==null?void 0:B._isRedirect)!==!0,Z;N.actionData?Object.keys(N.actionData).length>0?Z=N.actionData:Z=null:le?Z=b.actionData:Z=null;let ee=N.loaderData?MC(b.loaderData,N.loaderData,N.matches||[],N.errors):b.loaderData,Q=b.blockers;Q.size>0&&(Q=new Map(Q),Q.forEach((ge,$e)=>Q.set($e,Ul)));let ne=v===!0||b.navigation.formMethod!=null&&sr(b.navigation.formMethod)&&((X=x.state)==null?void 0:X._isRedirect)!==!0;a&&(o=a,a=void 0),R||C===ft.Pop||(C===ft.Push?t.history.push(x,x.state):C===ft.Replace&&t.history.replace(x,x.state));let me;if(C===ft.Pop){let ge=O.get(b.location.pathname);ge&&ge.has(x.pathname)?me={currentLocation:b.location,nextLocation:x}:O.has(x.pathname)&&(me={currentLocation:x,nextLocation:b.location})}else if(A){let ge=O.get(b.location.pathname);ge?ge.add(x.pathname):(ge=new Set([x.pathname]),O.set(b.location.pathname,ge)),me={currentLocation:b.location,nextLocation:x}}ct(qe({},N,{actionData:Z,loaderData:ee,historyAction:C,location:x,initialized:!0,navigation:qg,revalidation:"idle",restoreScrollPosition:wl(x,N.matches||b.matches),preventScrollReset:ne,blockers:Q}),{viewTransitionOpts:me,flushSync:re===!0}),C=ft.Pop,v=!1,A=!1,R=!1,Ae=!1,Zt=[]}async function ko(x,N){if(typeof x=="number"){t.history.go(x);return}let $=n0(b.location,b.matches,l,d.v7_prependBasename,x,d.v7_relativeSplatPath,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:B,submission:X,error:re}=AC(d.v7_normalizeFormMethod,!1,$,N),le=b.location,Z=sc(b.location,B,N&&N.state);Z=qe({},Z,t.history.encodeLocation(Z));let ee=N&&N.replace!=null?N.replace:void 0,Q=ft.Push;ee===!0?Q=ft.Replace:ee===!1||X!=null&&sr(X.formMethod)&&X.formAction===b.location.pathname+b.location.search&&(Q=ft.Replace);let ne=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,me=(N&&N.flushSync)===!0,ge=yl({currentLocation:le,nextLocation:Z,historyAction:Q});if(ge){Si(ge,{state:"blocked",location:Z,proceed(){Si(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),ko(x,N)},reset(){let $e=new Map(b.blockers);$e.set(ge,Ul),ct({blockers:$e})}});return}return await Jn(Q,Z,{submission:X,pendingError:re,preventScrollReset:ne,replace:N&&N.replace,enableViewTransition:N&&N.viewTransition,flushSync:me})}function dl(){if(ht(),ct({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){Jn(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}Jn(C||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:A===!0})}}async function Jn(x,N,$){I&&I.abort(),I=null,C=x,R=($&&$.startUninterruptedRevalidation)===!0,zr(b.location,b.matches),v=($&&$.preventScrollReset)===!0,A=($&&$.enableViewTransition)===!0;let B=a||o,X=$&&$.overrideNavigation,re=Bs(B,N,l),le=($&&$.flushSync)===!0,Z=Hr(re,B,N.pathname);if(Z.active&&Z.matches&&(re=Z.matches),!re){let{error:De,notFoundMatches:Ie,route:je}=Do(N.pathname);wr(N,{matches:Ie,loaderData:{},errors:{[je.id]:De}},{flushSync:le});return}if(b.initialized&&!Ae&&Gne(b.location,N)&&!($&&$.submission&&sr($.submission.formMethod))){wr(N,{matches:re},{flushSync:le});return}I=new AbortController;let ee=Ho(t.history,N,I.signal,$&&$.submission),Q;if($&&$.pendingError)Q=[zs(re).route.id,{type:Me.error,error:$.pendingError}];else if($&&$.submission&&sr($.submission.formMethod)){let De=await Uc(ee,N,$.submission,re,Z.active,{replace:$.replace,flushSync:le});if(De.shortCircuited)return;if(De.pendingActionResult){let[Ie,je]=De.pendingActionResult;if(Sn(je)&&Yp(je.error)&&je.error.status===404){I=null,wr(N,{matches:De.matches,loaderData:{},errors:{[Ie]:je.error}});return}}re=De.matches||re,Q=De.pendingActionResult,X=Qg(N,$.submission),le=!1,Z.active=!1,ee=Ho(t.history,ee.url,ee.signal)}let{shortCircuited:ne,matches:me,loaderData:ge,errors:$e}=await rm(ee,N,re,Z.active,X,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,$&&$.initialHydration===!0,le,Q);ne||(I=null,wr(N,qe({matches:me||re},LC(Q),{loaderData:ge,errors:$e})))}async function Uc(x,N,$,B,X,re){re===void 0&&(re={}),ht();let le=Zne(N,$);if(ct({navigation:le},{flushSync:re.flushSync===!0}),X){let Q=await xs(B,N.pathname,x.signal);if(Q.type==="aborted")return{shortCircuited:!0};if(Q.type==="error"){let ne=zs(Q.partialMatches).route.id;return{matches:Q.partialMatches,pendingActionResult:[ne,{type:Me.error,error:Q.error}]}}else if(Q.matches)B=Q.matches;else{let{notFoundMatches:ne,error:me,route:ge}=Do(N.pathname);return{matches:ne,pendingActionResult:[ge.id,{type:Me.error,error:me}]}}}let Z,ee=nu(B,N);if(!ee.route.action&&!ee.route.lazy)Z={type:Me.error,error:hn(405,{method:x.method,pathname:N.pathname,routeId:ee.route.id})};else if(Z=(await Ur("action",b,x,[ee],B,null))[ee.route.id],x.signal.aborted)return{shortCircuited:!0};if(Xs(Z)){let Q;return re&&re.replace!=null?Q=re.replace:Q=OC(Z.response.headers.get("Location"),new URL(x.url),l)===b.location.pathname+b.location.search,await Zn(x,Z,!0,{submission:$,replace:Q}),{shortCircuited:!0}}if(Ki(Z))throw hn(400,{type:"defer-action"});if(Sn(Z)){let Q=zs(B,ee.route.id);return(re&&re.replace)!==!0&&(C=ft.Push),{matches:B,pendingActionResult:[Q.route.id,Z]}}return{matches:B,pendingActionResult:[ee.route.id,Z]}}async function rm(x,N,$,B,X,re,le,Z,ee,Q,ne){let me=X||Qg(N,re),ge=re||le||$C(me),$e=!R&&(!d.v7_partialHydration||!ee);if(B){if($e){let Ge=Bc(ne);ct(qe({navigation:me},Ge!==void 0?{actionData:Ge}:{}),{flushSync:Q})}let ye=await xs($,N.pathname,x.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let Ge=zs(ye.partialMatches).route.id;return{matches:ye.partialMatches,loaderData:{},errors:{[Ge]:ye.error}}}else if(ye.matches)$=ye.matches;else{let{error:Ge,notFoundMatches:Wr,route:Ai}=Do(N.pathname);return{matches:Wr,loaderData:{},errors:{[Ai.id]:Ge}}}}let De=a||o,[Ie,je]=bC(t.history,b,$,ge,N,d.v7_partialHydration&&ee===!0,d.v7_skipActionErrorRevalidation,Ae,Zt,Xn,vt,Se,Re,De,l,ne);if(Br(ye=>!($&&$.some(Ge=>Ge.route.id===ye))||Ie&&Ie.some(Ge=>Ge.route.id===ye)),ie=++W,Ie.length===0&&je.length===0){let ye=vl();return wr(N,qe({matches:$,loaderData:{},errors:ne&&Sn(ne[1])?{[ne[0]]:ne[1].error}:null},LC(ne),ye?{fetchers:new Map(b.fetchers)}:{}),{flushSync:Q}),{shortCircuited:!0}}if($e){let ye={};if(!B){ye.navigation=me;let Ge=Bc(ne);Ge!==void 0&&(ye.actionData=Ge)}je.length>0&&(ye.fetchers=zc(je)),ct(ye,{flushSync:Q})}je.forEach(ye=>{cn(ye.key),ye.controller&&pe.set(ye.key,ye.controller)});let Er=()=>je.forEach(ye=>cn(ye.key));I&&I.signal.addEventListener("abort",Er);let{loaderResults:Ii,fetcherResults:Vn}=await pl(b,$,Ie,je,x);if(x.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Er),je.forEach(ye=>pe.delete(ye.key));let Fn=$h(Ii);if(Fn)return await Zn(x,Fn.result,!0,{replace:Z}),{shortCircuited:!0};if(Fn=$h(Vn),Fn)return Re.add(Fn.key),await Zn(x,Fn.result,!0,{replace:Z}),{shortCircuited:!0};let{loaderData:Pi,errors:Ci}=NC(b,$,Ii,ne,je,Vn,At);At.forEach((ye,Ge)=>{ye.subscribe(Wr=>{(Wr||ye.done)&&At.delete(Ge)})}),d.v7_partialHydration&&ee&&b.errors&&(Ci=qe({},b.errors,Ci));let er=vl(),Tr=Oo(ie),$n=er||Tr||je.length>0;return qe({matches:$,loaderData:Pi,errors:Ci},$n?{fetchers:new Map(b.fetchers)}:{})}function Bc(x){if(x&&!Sn(x[1]))return{[x[0]]:x[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function zc(x){return x.forEach(N=>{let $=b.fetchers.get(N.key),B=Bl(void 0,$?$.data:void 0);b.fetchers.set(N.key,B)}),new Map(b.fetchers)}function fl(x,N,$,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");cn(x);let X=(B&&B.flushSync)===!0,re=a||o,le=n0(b.location,b.matches,l,d.v7_prependBasename,$,d.v7_relativeSplatPath,N,B==null?void 0:B.relative),Z=Bs(re,le,l),ee=Hr(Z,re,le);if(ee.active&&ee.matches&&(Z=ee.matches),!Z){un(x,N,hn(404,{pathname:le}),{flushSync:X});return}let{path:Q,submission:ne,error:me}=AC(d.v7_normalizeFormMethod,!0,le,B);if(me){un(x,N,me,{flushSync:X});return}let ge=nu(Z,Q),$e=(B&&B.preventScrollReset)===!0;if(ne&&sr(ne.formMethod)){Hc(x,N,Q,ge,Z,ee.active,X,$e,ne);return}Se.set(x,{routeId:N,path:Q}),im(x,N,Q,ge,Z,ee.active,X,$e,ne)}async function Hc(x,N,$,B,X,re,le,Z,ee){ht(),Se.delete(x);function Q(Ye){if(!Ye.route.action&&!Ye.route.lazy){let Sr=hn(405,{method:ee.formMethod,pathname:$,routeId:N});return un(x,N,Sr,{flushSync:le}),!0}return!1}if(!re&&Q(B))return;let ne=b.fetchers.get(x);Ke(x,ere(ee,ne),{flushSync:le});let me=new AbortController,ge=Ho(t.history,$,me.signal,ee);if(re){let Ye=await xs(X,$,ge.signal);if(Ye.type==="aborted")return;if(Ye.type==="error"){un(x,N,Ye.error,{flushSync:le});return}else if(Ye.matches){if(X=Ye.matches,B=nu(X,$),Q(B))return}else{un(x,N,hn(404,{pathname:$}),{flushSync:le});return}}pe.set(x,me);let $e=W,Ie=(await Ur("action",b,ge,[B],X,x))[B.route.id];if(ge.signal.aborted){pe.get(x)===me&&pe.delete(x);return}if(d.v7_fetcherPersist&&vt.has(x)){if(Xs(Ie)||Sn(Ie)){Ke(x,Mi(void 0));return}}else{if(Xs(Ie))if(pe.delete(x),ie>$e){Ke(x,Mi(void 0));return}else return Re.add(x),Ke(x,Bl(ee)),Zn(ge,Ie,!1,{fetcherSubmission:ee,preventScrollReset:Z});if(Sn(Ie)){un(x,N,Ie.error);return}}if(Ki(Ie))throw hn(400,{type:"defer-action"});let je=b.navigation.location||b.location,Er=Ho(t.history,je,me.signal),Ii=a||o,Vn=b.navigation.state!=="idle"?Bs(Ii,b.navigation.location,l):b.matches;Ee(Vn,"Didn't find any matches after fetcher action");let Fn=++W;oe.set(x,Fn);let Pi=Bl(ee,Ie.data);b.fetchers.set(x,Pi);let[Ci,er]=bC(t.history,b,Vn,ee,je,!1,d.v7_skipActionErrorRevalidation,Ae,Zt,Xn,vt,Se,Re,Ii,l,[B.route.id,Ie]);er.filter(Ye=>Ye.key!==x).forEach(Ye=>{let Sr=Ye.key,Mo=b.fetchers.get(Sr),Gc=Bl(void 0,Mo?Mo.data:void 0);b.fetchers.set(Sr,Gc),cn(Sr),Ye.controller&&pe.set(Sr,Ye.controller)}),ct({fetchers:new Map(b.fetchers)});let Tr=()=>er.forEach(Ye=>cn(Ye.key));me.signal.addEventListener("abort",Tr);let{loaderResults:$n,fetcherResults:ye}=await pl(b,Vn,Ci,er,Er);if(me.signal.aborted)return;me.signal.removeEventListener("abort",Tr),oe.delete(x),pe.delete(x),er.forEach(Ye=>pe.delete(Ye.key));let Ge=$h($n);if(Ge)return Zn(Er,Ge.result,!1,{preventScrollReset:Z});if(Ge=$h(ye),Ge)return Re.add(Ge.key),Zn(Er,Ge.result,!1,{preventScrollReset:Z});let{loaderData:Wr,errors:Ai}=NC(b,Vn,$n,void 0,er,ye,At);if(b.fetchers.has(x)){let Ye=Mi(Ie.data);b.fetchers.set(x,Ye)}Oo(Fn),b.navigation.state==="loading"&&Fn>ie?(Ee(C,"Expected pending action"),I&&I.abort(),wr(b.navigation.location,{matches:Vn,loaderData:Wr,errors:Ai,fetchers:new Map(b.fetchers)})):(ct({errors:Ai,loaderData:MC(b.loaderData,Wr,Vn,Ai),fetchers:new Map(b.fetchers)}),Ae=!1)}async function im(x,N,$,B,X,re,le,Z,ee){let Q=b.fetchers.get(x);Ke(x,Bl(ee,Q?Q.data:void 0),{flushSync:le});let ne=new AbortController,me=Ho(t.history,$,ne.signal);if(re){let Ie=await xs(X,$,me.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){un(x,N,Ie.error,{flushSync:le});return}else if(Ie.matches)X=Ie.matches,B=nu(X,$);else{un(x,N,hn(404,{pathname:$}),{flushSync:le});return}}pe.set(x,ne);let ge=W,De=(await Ur("loader",b,me,[B],X,x))[B.route.id];if(Ki(De)&&(De=await cw(De,me.signal,!0)||De),pe.get(x)===ne&&pe.delete(x),!me.signal.aborted){if(vt.has(x)){Ke(x,Mi(void 0));return}if(Xs(De))if(ie>ge){Ke(x,Mi(void 0));return}else{Re.add(x),await Zn(me,De,!1,{preventScrollReset:Z});return}if(Sn(De)){un(x,N,De.error);return}Ee(!Ki(De),"Unhandled fetcher deferred data"),Ke(x,Mi(De.data))}}async function Zn(x,N,$,B){let{submission:X,fetcherSubmission:re,preventScrollReset:le,replace:Z}=B===void 0?{}:B;N.response.headers.has("X-Remix-Revalidate")&&(Ae=!0);let ee=N.response.headers.get("Location");Ee(ee,"Expected a Location header on the redirect Response"),ee=OC(ee,new URL(x.url),l);let Q=sc(b.location,ee,{_isRedirect:!0});if(n){let Ie=!1;if(N.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(uw.test(ee)){const je=t.history.createURL(ee);Ie=je.origin!==e.location.origin||jc(je.pathname,l)==null}if(Ie){Z?e.location.replace(ee):e.location.assign(ee);return}}I=null;let ne=Z===!0||N.response.headers.has("X-Remix-Replace")?ft.Replace:ft.Push,{formMethod:me,formAction:ge,formEncType:$e}=b.navigation;!X&&!re&&me&&ge&&$e&&(X=$C(b.navigation));let De=X||re;if(Nne.has(N.response.status)&&De&&sr(De.formMethod))await Jn(ne,Q,{submission:qe({},De,{formAction:ee}),preventScrollReset:le||v,enableViewTransition:$?A:void 0});else{let Ie=Qg(Q,X);await Jn(ne,Q,{overrideNavigation:Ie,fetcherSubmission:re,preventScrollReset:le||v,enableViewTransition:$?A:void 0})}}async function Ur(x,N,$,B,X,re){let le,Z={};try{le=await Bne(c,x,N,$,B,X,re,s,i)}catch(ee){return B.forEach(Q=>{Z[Q.route.id]={type:Me.error,error:ee}}),Z}for(let[ee,Q]of Object.entries(le))if(qne(Q)){let ne=Q.result;Z[ee]={type:Me.redirect,response:Wne(ne,$,ee,X,l,d.v7_relativeSplatPath)}}else Z[ee]=await Hne(Q);return Z}async function pl(x,N,$,B,X){let re=x.matches,le=Ur("loader",x,X,$,N,null),Z=Promise.all(B.map(async ne=>{if(ne.matches&&ne.match&&ne.controller){let ge=(await Ur("loader",x,Ho(t.history,ne.path,ne.controller.signal),[ne.match],ne.matches,ne.key))[ne.match.route.id];return{[ne.key]:ge}}else return Promise.resolve({[ne.key]:{type:Me.error,error:hn(404,{pathname:ne.path})}})})),ee=await le,Q=(await Z).reduce((ne,me)=>Object.assign(ne,me),{});return await Promise.all([Xne(N,ee,X.signal,re,x.loaderData),Jne(N,Q,B)]),{loaderResults:ee,fetcherResults:Q}}function ht(){Ae=!0,Zt.push(...Br()),Se.forEach((x,N)=>{pe.has(N)&&Xn.add(N),cn(N)})}function Ke(x,N,$){$===void 0&&($={}),b.fetchers.set(x,N),ct({fetchers:new Map(b.fetchers)},{flushSync:($&&$.flushSync)===!0})}function un(x,N,$,B){B===void 0&&(B={});let X=zs(b.matches,N);bs(x),ct({errors:{[X.route.id]:$},fetchers:new Map(b.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function ml(x){return d.v7_fetcherPersist&&(Ve.set(x,(Ve.get(x)||0)+1),vt.has(x)&&vt.delete(x)),b.fetchers.get(x)||Mne}function bs(x){let N=b.fetchers.get(x);pe.has(x)&&!(N&&N.state==="loading"&&oe.has(x))&&cn(x),Se.delete(x),oe.delete(x),Re.delete(x),vt.delete(x),Xn.delete(x),b.fetchers.delete(x)}function sm(x){if(d.v7_fetcherPersist){let N=(Ve.get(x)||0)-1;N<=0?(Ve.delete(x),vt.add(x)):Ve.set(x,N)}else bs(x);ct({fetchers:new Map(b.fetchers)})}function cn(x){let N=pe.get(x);N&&(N.abort(),pe.delete(x))}function gl(x){for(let N of x){let $=ml(N),B=Mi($.data);b.fetchers.set(N,B)}}function vl(){let x=[],N=!1;for(let $ of Re){let B=b.fetchers.get($);Ee(B,"Expected fetcher: "+$),B.state==="loading"&&(Re.delete($),x.push($),N=!0)}return gl(x),N}function Oo(x){let N=[];for(let[$,B]of oe)if(B<x){let X=b.fetchers.get($);Ee(X,"Expected fetcher: "+$),X.state==="loading"&&(cn($),oe.delete($),N.push($))}return gl(N),N.length>0}function om(x,N){let $=b.blockers.get(x)||Ul;return Rt.get(x)!==N&&Rt.set(x,N),$}function Wc(x){b.blockers.delete(x),Rt.delete(x)}function Si(x,N){let $=b.blockers.get(x)||Ul;Ee($.state==="unblocked"&&N.state==="blocked"||$.state==="blocked"&&N.state==="blocked"||$.state==="blocked"&&N.state==="proceeding"||$.state==="blocked"&&N.state==="unblocked"||$.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+$.state+" -> "+N.state);let B=new Map(b.blockers);B.set(x,N),ct({blockers:B})}function yl(x){let{currentLocation:N,nextLocation:$,historyAction:B}=x;if(Rt.size===0)return;Rt.size>1&&Ya(!1,"A router only supports one blocker at a time");let X=Array.from(Rt.entries()),[re,le]=X[X.length-1],Z=b.blockers.get(re);if(!(Z&&Z.state==="proceeding")&&le({currentLocation:N,nextLocation:$,historyAction:B}))return re}function Do(x){let N=hn(404,{pathname:x}),$=a||o,{matches:B,route:X}=VC($);return Br(),{notFoundMatches:B,route:X,error:N}}function Br(x){let N=[];return At.forEach(($,B)=>{(!x||x(B))&&($.cancel(),N.push(B),At.delete(B))}),N}function _l(x,N,$){if(w=x,P=N,T=$||null,!_&&b.navigation===qg){_=!0;let B=wl(b.location,b.matches);B!=null&&ct({restoreScrollPosition:B})}return()=>{w=null,P=null,T=null}}function No(x,N){return T&&T(x,N.map(B=>dne(B,b.loaderData)))||x.key}function zr(x,N){if(w&&P){let $=No(x,N);w[$]=P()}}function wl(x,N){if(w){let $=No(x,N),B=w[$];if(typeof B=="number")return B}return null}function Hr(x,N,$){if(h)if(x){if(Object.keys(x[0].params).length>0)return{active:!0,matches:md(N,$,l,!0)}}else return{active:!0,matches:md(N,$,l,!0)||[]};return{active:!1,matches:null}}async function xs(x,N,$){if(!h)return{type:"success",matches:x};let B=x;for(;;){let X=a==null,re=a||o,le=s;try{await h({path:N,matches:B,patch:(Q,ne)=>{$.aborted||kC(Q,ne,re,le,i)}})}catch(Q){return{type:"error",error:Q,partialMatches:B}}finally{X&&!$.aborted&&(o=[...o])}if($.aborted)return{type:"aborted"};let Z=Bs(re,N,l);if(Z)return{type:"success",matches:Z};let ee=md(re,N,l,!0);if(!ee||B.length===ee.length&&B.every((Q,ne)=>Q.route.id===ee[ne].route.id))return{type:"success",matches:null};B=ee}}function ks(x){s={},a=Cf(x,i,void 0,s)}function Kc(x,N){let $=a==null;kC(x,N,a||o,s,i),$&&(o=[...o],ct({}))}return F={get basename(){return l},get future(){return d},get state(){return b},get routes(){return o},get window(){return e},initialize:tm,subscribe:xo,enableScrollRestoration:_l,navigate:ko,fetch:fl,revalidate:dl,createHref:x=>t.history.createHref(x),encodeLocation:x=>t.history.encodeLocation(x),getFetcher:ml,deleteFetcher:sm,dispose:nm,getBlocker:om,deleteBlocker:Wc,patchRoutes:Kc,_internalFetchControllers:pe,_internalActiveDeferreds:At,_internalSetRoutes:ks},F}function Fne(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function n0(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let h=j4(i||".",$4(l,s),jc(t.pathname,n)||t.pathname,a==="path");if(i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c){let d=hw(h.search);if(c.route.index&&!d)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(h.search),m=f.getAll("index");f.delete("index"),m.filter(T=>T).forEach(T=>f.append("index",T));let w=f.toString();h.search=w?"?"+w:""}}return r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:ss([n,h.pathname])),$c(h)}function AC(t,e,n,r){if(!r||!Fne(r))return{path:n};if(r.formMethod&&!Yne(r.formMethod))return{path:n,error:hn(405,{method:r.formMethod})};let i=()=>({path:n,error:hn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=W4(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!sr(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,w)=>{let[T,P]=w;return""+m+T+"="+P+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!sr(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Ee(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=i0(r.formData),c=r.formData;else if(r.body instanceof FormData)l=i0(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=DC(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=DC(l)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(sr(h.formMethod))return{path:n,submission:h};let d=As(n);return e&&d.search&&hw(d.search)&&l.append("index",""),d.search="?"+l,{path:$c(d),submission:h}}function RC(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function bC(t,e,n,r,i,s,o,a,l,c,h,d,f,m,w,T){let P=T?Sn(T[1])?T[1].error:T[1].data:void 0,_=t.createURL(e.location),y=t.createURL(i),E=n;s&&e.errors?E=RC(n,Object.keys(e.errors)[0],!0):T&&Sn(T[1])&&(E=RC(n,T[0]));let k=T?T[1].statusCode:void 0,F=o&&k&&k>=400,b=E.filter((v,I)=>{let{route:A}=v;if(A.lazy)return!0;if(A.loader==null)return!1;if(s)return r0(A,e.loaderData,e.errors);if($ne(e.loaderData,e.matches[I],v)||l.some(R=>R===v.route.id))return!0;let O=e.matches[I],D=v;return xC(v,qe({currentUrl:_,currentParams:O.params,nextUrl:y,nextParams:D.params},r,{actionResult:P,actionStatus:k,defaultShouldRevalidate:F?!1:a||_.pathname+_.search===y.pathname+y.search||_.search!==y.search||z4(O,D)}))}),C=[];return d.forEach((v,I)=>{if(s||!n.some(Ae=>Ae.route.id===v.routeId)||h.has(I))return;let A=Bs(m,v.path,w);if(!A){C.push({key:I,routeId:v.routeId,path:v.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(I),D=nu(A,v.path),R=!1;f.has(I)?R=!1:c.has(I)?(c.delete(I),R=!0):O&&O.state!=="idle"&&O.data===void 0?R=a:R=xC(D,qe({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:P,actionStatus:k,defaultShouldRevalidate:F?!1:a})),R&&C.push({key:I,routeId:v.routeId,path:v.path,matches:A,match:D,controller:new AbortController})}),[b,C]}function r0(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function $ne(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function z4(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function xC(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function kC(t,e,n,r,i){var s;let o;if(t){let c=r[t];Ee(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(h=>H4(c,h))),l=Cf(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function H4(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>H4(n,s))}):!1}async function jne(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ee(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ya(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!cne.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,qe({},e(i),{lazy:void 0}))}async function Une(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function Bne(t,e,n,r,i,s,o,a,l,c){let h=s.map(m=>m.route.lazy?jne(m.route,l,a):void 0),d=s.map((m,w)=>{let T=h[w],P=i.some(y=>y.route.id===m.route.id);return qe({},m,{shouldLoad:P,resolve:async y=>(y&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(P=!0),P?zne(e,r,m,T,y,c):Promise.resolve({type:Me.data,result:void 0}))})}),f=await t({matches:d,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(h)}catch{}return f}async function zne(t,e,n,r,i,s){let o,a,l=c=>{let h,d=new Promise((w,T)=>h=T);a=()=>h(),e.signal.addEventListener("abort",a);let f=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...w!==void 0?[w]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(T=>f(T)):f())}}catch(w){return{type:"error",result:w}}})();return Promise.race([m,d])};try{let c=n.route[t];if(r)if(c){let h,[d]=await Promise.all([l(c).catch(f=>{h=f}),r]);if(h!==void 0)throw h;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let h=new URL(e.url),d=h.pathname+h.search;throw hn(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:Me.data,result:void 0};else if(c)o=await l(c);else{let h=new URL(e.url),d=h.pathname+h.search;throw hn(404,{pathname:d})}Ee(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Me.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function Hne(t){let{result:e,type:n}=t;if(K4(e)){let c;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(h){return{type:Me.error,error:h}}return n===Me.error?{type:Me.error,error:new Af(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Me.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Me.error){if(FC(e)){var r;if(e.data instanceof Error){var i;return{type:Me.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Af(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Me.error,error:e,statusCode:Yp(e)?e.status:void 0}}if(Qne(e)){var s,o;return{type:Me.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(FC(e)){var a,l;return{type:Me.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Me.data,data:e}}function Wne(t,e,n,r,i,s){let o=t.headers.get("Location");if(Ee(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!uw.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=n0(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function OC(t,e,n){if(uw.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=jc(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ho(t,e,n,r){let i=t.createURL(W4(e)).toString(),s={signal:n};if(r&&sr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=i0(r.formData):s.body=r.formData}return new Request(i,s)}function i0(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function DC(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Kne(t,e,n,r,i){let s={},o=null,a,l=!1,c={},h=n&&Sn(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,m=e[f];if(Ee(!Xs(m),"Cannot handle redirect results in processLoaderData"),Sn(m)){let w=m.error;h!==void 0&&(w=h,h=void 0),o=o||{};{let T=zs(t,f);o[T.route.id]==null&&(o[T.route.id]=w)}s[f]=void 0,l||(l=!0,a=Yp(m.error)?m.error.status:500),m.headers&&(c[f]=m.headers)}else Ki(m)?(r.set(f,m.deferredData),s[f]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[f]=m.headers)):(s[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[f]=m.headers))}),h!==void 0&&n&&(o={[n[0]]:h},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function NC(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=Kne(e,n,r,o);return i.forEach(c=>{let{key:h,match:d,controller:f}=c,m=s[h];if(Ee(m,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Sn(m)){let w=zs(t.matches,d==null?void 0:d.route.id);l&&l[w.route.id]||(l=qe({},l,{[w.route.id]:m.error})),t.fetchers.delete(h)}else if(Xs(m))Ee(!1,"Unhandled fetcher revalidation redirect");else if(Ki(m))Ee(!1,"Unhandled fetcher deferred data");else{let w=Mi(m.data);t.fetchers.set(h,w)}}),{loaderData:a,errors:l}}function MC(t,e,n,r){let i=qe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function LC(t){return t?Sn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function zs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function VC(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Af(t||500,a,new Error(l),!0)}function $h(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Xs(i))return{key:r,result:i}}}function W4(t){let e=typeof t=="string"?As(t):t;return $c(qe({},e,{hash:""}))}function Gne(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function qne(t){return K4(t.result)&&Dne.has(t.result.status)}function Ki(t){return t.type===Me.deferred}function Sn(t){return t.type===Me.error}function Xs(t){return(t&&t.type)===Me.redirect}function FC(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Qne(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function K4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Yne(t){return One.has(t.toLowerCase())}function sr(t){return xne.has(t.toLowerCase())}async function Xne(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let h=r.find(f=>f.route.id===c.route.id),d=h!=null&&!z4(h,c)&&(i&&i[c.route.id])!==void 0;Ki(l)&&d&&await cw(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function Jne(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&Ki(a)&&(Ee(o,"Expected an AbortController for revalidating fetcher deferred result"),await cw(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function cw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Me.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Me.error,error:i}}return{type:Me.data,data:t.deferredData.data}}}function hw(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function nu(t,e){let n=typeof e=="string"?As(e).search:e.search;if(t[t.length-1].route.index&&hw(n||""))return t[t.length-1];let r=F4(t);return r[r.length-1]}function $C(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Qg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Zne(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Bl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ere(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Mi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function tre(t,e){try{let n=t.sessionStorage.getItem(B4);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function nre(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(B4,JSON.stringify(n))}catch(r){Ya(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}const Xp=V.createContext(null),G4=V.createContext(null),Jp=V.createContext(null),dw=V.createContext(null),Rs=V.createContext({outlet:null,matches:[],isDataRoute:!1}),q4=V.createContext(null);function Zp(){return V.useContext(dw)!=null}function Q4(){return Zp()||Ee(!1),V.useContext(dw).location}function Y4(t){V.useContext(Jp).static||V.useLayoutEffect(t)}function X4(){let{isDataRoute:t}=V.useContext(Rs);return t?vre():rre()}function rre(){Zp()||Ee(!1);let t=V.useContext(Xp),{basename:e,future:n,navigator:r}=V.useContext(Jp),{matches:i}=V.useContext(Rs),{pathname:s}=Q4(),o=JSON.stringify($4(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return Y4(()=>{a.current=!0}),V.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=j4(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ss([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}const ire=V.createContext(null);function sre(t){let e=V.useContext(Rs).outlet;return e&&V.createElement(ire.Provider,{value:t},e)}function ore(){let{matches:t}=V.useContext(Rs),e=t[t.length-1];return e?e.params:{}}function are(t,e,n,r){Zp()||Ee(!1);let{navigator:i}=V.useContext(Jp),{matches:s}=V.useContext(Rs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Q4(),h;h=c;let d=h.pathname||"/",f=d;if(l!=="/"){let T=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(T.length).join("/")}let m=Bs(t,{pathname:f});return dre(m&&m.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:ss([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:ss([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r)}function lre(){let t=gre(),e=Yp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const ure=V.createElement(lre,null);class cre extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(Rs.Provider,{value:this.props.routeContext},V.createElement(q4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hre(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(Xp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Rs.Provider,{value:e},r)}function dre(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||Ee(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:m}=n,w=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let m,w=!1,T=null,P=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,T=d.route.errorElement||ure,l&&(c<0&&f===0?(w=!0,P=null):c===f&&(w=!0,P=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),y=()=>{let E;return m?E=T:w?E=P:d.route.Component?E=V.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=h,V.createElement(hre,{match:d,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?V.createElement(cre,{location:n.location,revalidation:n.revalidation,component:T,error:m,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var J4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(J4||{}),bf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bf||{});function fre(t){let e=V.useContext(Xp);return e||Ee(!1),e}function pre(t){let e=V.useContext(G4);return e||Ee(!1),e}function mre(t){let e=V.useContext(Rs);return e||Ee(!1),e}function Z4(t){let e=mre(),n=e.matches[e.matches.length-1];return n.route.id||Ee(!1),n.route.id}function gre(){var t;let e=V.useContext(q4),n=pre(bf.UseRouteError),r=Z4(bf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vre(){let{router:t}=fre(J4.UseNavigateStable),e=Z4(bf.UseNavigateStable),n=V.useRef(!1);return Y4(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rf({fromRouteId:e},s)))},[t,e])}function yre(t){return sre(t.context)}function _re(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ft.Pop,navigator:s,static:o=!1,future:a}=t;Zp()&&Ee(!1);let l=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:s,static:o,future:Rf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=As(r));let{pathname:h="/",search:d="",hash:f="",state:m=null,key:w="default"}=r,T=V.useMemo(()=>{let P=jc(h,l);return P==null?null:{location:{pathname:P,search:d,hash:f,state:m,key:w},navigationType:i}},[l,h,d,f,m,w,i]);return T==null?null:V.createElement(Jp.Provider,{value:c},V.createElement(dw.Provider,{children:n,value:T}))}new Promise(()=>{});function wre(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:V.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:V.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:V.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xf.apply(this,arguments)}const Ere="6";try{window.__reactRouterVersion=Ere}catch{}function Tre(t,e){return Vne({basename:void 0,future:xf({},void 0,{v7_prependBasename:!0}),history:ane({window:void 0}),hydrationData:Sre(),routes:t,mapRouteProperties:wre,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Sre(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=xf({},e,{errors:Ire(e.errors)})),e}function Ire(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Af(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Pre=V.createContext({isTransitioning:!1}),Cre=V.createContext(new Map),Are="startTransition",jC=Yg[Are],Rre="flushSync",UC=YL[Rre];function bre(t){jC?jC(t):t()}function zl(t){UC?UC(t):t()}class xre{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function kre(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=V.useState(n.state),[o,a]=V.useState(),[l,c]=V.useState({isTransitioning:!1}),[h,d]=V.useState(),[f,m]=V.useState(),[w,T]=V.useState(),P=V.useRef(new Map),{v7_startTransition:_}=r||{},y=V.useCallback(v=>{_?bre(v):v()},[_]),E=V.useCallback((v,I)=>{let{deletedFetchers:A,flushSync:O,viewTransitionOpts:D}=I;A.forEach(Ae=>P.current.delete(Ae)),v.fetchers.forEach((Ae,Zt)=>{Ae.data!==void 0&&P.current.set(Zt,Ae.data)});let R=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||R){O?zl(()=>s(v)):y(()=>s(v));return}if(O){zl(()=>{f&&(h&&h.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let Ae=n.window.document.startViewTransition(()=>{zl(()=>s(v))});Ae.finished.finally(()=>{zl(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),zl(()=>m(Ae));return}f?(h&&h.resolve(),f.skipTransition(),T({state:v,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(v),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,f,h,P,y]);V.useLayoutEffect(()=>n.subscribe(E),[n,E]),V.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new xre)},[l]),V.useEffect(()=>{if(h&&o&&n.window){let v=o,I=h.promise,A=n.window.document.startViewTransition(async()=>{y(()=>s(v)),await I});A.finished.finally(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(A)}},[y,o,h,n.window]),V.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,f,i.location,o]),V.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),T(void 0))},[l.isTransitioning,w]),V.useEffect(()=>{},[]);let k=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,I,A)=>n.navigate(v,{state:I,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(v,I,A)=>n.navigate(v,{replace:!0,state:I,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),F=n.basename||"/",b=V.useMemo(()=>({router:n,navigator:k,static:!1,basename:F}),[n,k,F]),C=V.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return V.createElement(V.Fragment,null,V.createElement(Xp.Provider,{value:b},V.createElement(G4.Provider,{value:i},V.createElement(Cre.Provider,{value:P.current},V.createElement(Pre.Provider,{value:l},V.createElement(_re,{basename:F,location:i.location,navigationType:i.historyAction,navigator:k,future:C},i.initialized||n.future.v7_partialHydration?V.createElement(Ore,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Ore=V.memo(Dre);function Dre(t){let{routes:e,future:n,state:r}=t;return are(e,void 0,r,n)}var BC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(BC||(BC={}));var zC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zC||(zC={}));function Nre({email:t}){var i;const e=X4(),n=rl(),r=()=>{n(ez(t)),e(`/mail/${t.id}`)};return L.jsx(qk.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},onClick:r,className:"flex items-start justify-between border-b border-gray-200 px-4 py-1 text-sm hover:cursor-pointer hover:shadow-md",children:L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"flex-none text-gray-300",children:L.jsx(N4,{"classNamew-5":!0,"h-5":!0})}),L.jsx("div",{className:"flex-none text-gray-300",children:L.jsx(one,{"classNamew-5":!0,"h-5":!0})}),L.jsx("div",{children:L.jsx("h1",{className:"font-semibold",children:t==null?void 0:t.to})}),L.jsx("div",{className:"flex-1 ml-4",children:L.jsx("p",{className:"text-gray-600 truncate inline-block max-w-full",children:t==null?void 0:t.message})}),L.jsx("div",{className:"flex-none text-gray-400 text-sm",children:L.jsx("p",{children:new Date(((i=t==null?void 0:t.createdAt)==null?void 0:i.seconds)*1e3).toLocaleString()})})]})})}function Mre(){const{searchText:t,emails:e}=Ac(s=>s.appSlice),[n,r]=V.useState(e),i=rl();return V.useEffect(()=>{const s=Nte(v4(lw,"emails"),Mte("createdAt","desc")),o=Bte(s,a=>{const l=a.docs.map(c=>({...c.data(),id:c.id}));console.log(l),i(ZB(l))});return()=>o()},[i]),V.useEffect(()=>{const s=e==null?void 0:e.filter(o=>{var a,l,c;return((a=o==null?void 0:o.subject)==null?void 0:a.toLowerCase().includes(t.toLowerCase()))||((l=o==null?void 0:o.to)==null?void 0:l.toLowerCase().includes(t.toLowerCase()))||((c=o==null?void 0:o.message)==null?void 0:c.toLowerCase().includes(t.toLowerCase()))});r(s)},[t,e]),L.jsx("div",{children:n&&(n==null?void 0:n.map(s=>L.jsx(Nre,{email:s})))})}const Lre=[{icon:L.jsx(Zte,{size:"20px"}),text:"Primary"},{icon:L.jsx(Yte,{size:"20px"}),text:"Promotions"},{icon:L.jsx(Qte,{size:"20px"}),text:"Social"}];function Vre(){const[t,e]=V.useState(0);return L.jsxs("div",{className:"flex-1 bg-white rounded-xl mx-5",children:[L.jsxs("div",{className:"flex items-center justify-between px-4",children:[L.jsxs("div",{className:"flex items-center gap-2 text-gray-700 py-2",children:[L.jsxs("div",{className:"flex items-center gap-1",children:[L.jsx(N4,{size:"20px"}),L.jsx(qte,{size:"20px"})]}),L.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(oV,{size:"20px"})}),L.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(dR,{size:"20px"})})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("p",{className:"text-sm text-gray-500",children:"1-50 of 1000"}),L.jsx("button",{className:"hover:rounded-full hover:bg-gray-100",children:L.jsx(e0,{size:"24px"})}),L.jsx("button",{className:"hover:rounded-full hover:bg-gray-100",children:L.jsx(t0,{size:"24px"})})]})]}),L.jsxs("div",{className:"h-[90vh] overflow-y-auto",children:[L.jsx("div",{className:"flex items-center gap-4 p-4",children:Lre.map((n,r)=>L.jsxs("button",{onClick:()=>e(r),className:`flex items-center gap-2 p-4 rounded-lg hover:bg-gray-100 ${t===r?"border-b-4 border-blue-600 text-blue-600":"text-gray-700"}`,children:[n.icon,L.jsx("span",{children:n.text})]},r))}),L.jsx(Mre,{})]})]})}function eN(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"},child:[]},{tag:"path",attr:{d:"m15 5 4 4"},child:[]}]})(t)}function Fre(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4.698 4.034l16.302 7.966l-16.302 7.966a.503 .503 0 0 1 -.546 -.124a.555 .555 0 0 1 -.12 -.568l2.468 -7.274l-2.468 -7.274a.555 .555 0 0 1 .12 -.568a.503 .503 0 0 1 .546 -.124z"},child:[]},{tag:"path",attr:{d:"M6.5 12h14.5"},child:[]}]})(t)}const $re=[{icon:L.jsx(eN,{size:"24px"}),text:"Inbox"},{icon:L.jsx(lV,{size:"24px"}),text:"Starred"},{icon:L.jsx(M4,{size:"24px"}),text:"Snoozed"},{icon:L.jsx(Fre,{size:"24px"}),text:"Sent"},{icon:L.jsx(nne,{size:"24px"}),text:"Drafts"},{icon:L.jsx(sne,{size:"24px"}),text:"More"}];function jre(){const t=rl();return L.jsxs("div",{className:"w-[15%]",children:[L.jsx("div",{className:"p-3",children:L.jsxs("button",{onClick:()=>t(fy(!0)),className:"flex items-center gap-2 p-4 rounded-2xl hover:shadow-nd bg-[#C2E7FF]",children:[L.jsx(eN,{size:"24px"}),"Compose"]})}),L.jsx("div",{className:"text-gray-500 ",children:$re.map((e,n)=>L.jsxs("div",{className:"flex items-center gap-4 pl-6 py-1 rounded-r-full cursor-pointer hover:bg-gray-200 my-2",children:[e.icon,L.jsx("p",{children:e.text})]}))})]})}function Ure(){return L.jsxs("div",{className:"flex",children:[L.jsx(jre,{}),L.jsx(yre,{})]})}function Bre(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m21.706 5.292-2.999-2.999A.996.996 0 0 0 18 2H6a.996.996 0 0 0-.707.293L2.294 5.292A.994.994 0 0 0 2 6v13c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V6a.994.994 0 0 0-.294-.708zM6.414 4h11.172l1 1H5.414l1-1zM4 19V7h16l.002 12H4z"},child:[]},{tag:"path",attr:{d:"M14 9h-4v3H7l5 5 5-5h-3z"},child:[]}]})(t)}function zre(){var i;const t=X4(),{selectedEmail:e}=Ac(s=>s.appSlice),n=ore(),r=async s=>{try{await jte(y4(lw,"emails",s)),t("/")}catch(o){console.log(o)}};return L.jsxs("div",{className:"flex-1 bg-white rounded-xl mx-5",children:[L.jsxs("div",{className:"flex items-center justify-between px-4",children:[L.jsxs("div",{className:"flex items-center gap-2 text-gray-700 py-2",children:[L.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(Bre,{size:"20px"})}),L.jsx("div",{onClick:()=>t("/"),className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(sV,{size:"20px"})}),L.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(dR,{size:"20px"})}),L.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(e0,{size:"20px"})}),L.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(t0,{size:"20px"})}),L.jsx("div",{onClick:()=>r(n.id),className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(Xte,{size:"20px"})}),L.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(rne,{size:"20px"})}),L.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(tne,{size:"20px"})}),L.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(M4,{size:"20px"})}),L.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(ene,{size:"20px"})}),L.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(ine,{size:"20px"})}),L.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:L.jsx(Jte,{size:"20px"})})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("button",{className:"hover:rounded-full hover:bg-gray-100",children:L.jsx(e0,{size:"24px"})}),L.jsx("button",{className:"hover:rounded-full hover:bg-gray-100",children:L.jsx(t0,{size:"24px"})})]})]}),L.jsxs("div",{className:"h-[90vh] overflow-y-auto p-4",children:[L.jsxs("div",{className:"flex items-center justify-between bh-white gap-1",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("h1",{className:"text-xl font-medium",children:e==null?void 0:e.subject}),L.jsx("span",{className:"text-sm bg-gray-200 rounded-md px-2",children:"Inbox"})]}),L.jsx("div",{className:"flex-none text-gray-400 my-5 text-sm",children:L.jsx("p",{children:new Date(((i=e==null?void 0:e.createdAt)==null?void 0:i.seconds)*1e3).toLocaleString()})})]}),L.jsxs("div",{className:"text-gray-500 text-sm",children:[L.jsx("h1",{children:e==null?void 0:e.to}),L.jsx("span",{children:"to me"})]}),L.jsx("div",{className:"my-10",children:L.jsx("p",{children:e==null?void 0:e.message})})]})]})}function Hre(){const[t,e]=V.useState({to:"",subject:"",message:""}),n=Ac(o=>o.appSlice.open),r=rl(),i=o=>{e({...t,[o.target.name]:o.target.value})},s=async o=>{o.preventDefault(),console.log(t),await Ute(v4(lw,"emails"),{to:t.to,subject:t.subject,message:t.message,createdAt:Hte()}),r(fy(!1)),e({to:"",subject:"",message:""})};return L.jsxs("div",{className:`${n?"block":"hidden"} bg-white max-w-6xl shadow-xl shadow-slate-600 rounded-t-md`,children:[L.jsxs("div",{className:"flex px-3 py-2 bg-[#F2F6Fc] justify-between rounded-t-md",children:[L.jsx("h1",{children:"New Message"}),L.jsx("div",{onClick:()=>r(fy(!1)),className:"p-2 rounded-full hover:bg-gray-200 cursor-pointer",children:L.jsx(uV,{size:"20px"})})]}),L.jsxs("form",{onSubmit:s,className:"flex flex-col p-3 gap-2",children:[L.jsx("input",{onChange:i,value:t.to,name:"to",type:"text",placeholder:"to",className:"outline-none py-1"}),L.jsx("input",{onChange:i,value:t.subject,name:"subject",type:"text",placeholder:"Subject",className:"outline-none py-1"}),L.jsx("textarea",{onChange:i,value:t.message,name:"message",cols:"30",rows:"10",className:"outline-none py-1"}),L.jsx("button",{type:"submit",className:"bg-[#0B57D0] rounded-full w-fit px-4 text-white font-medium",children:"Send"})]})]})}var tN={},fw={},em={},Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.svgStyle=Nt.lightStyle=Nt.iconStyle=Nt.hoverStyle=Nt.disabledStyle=Nt.disabledIconStyle=Nt.darkStyle=void 0;function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){Wre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wre(t,e,n){return e=Kre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Gre(t,"string");return oc(e)=="symbol"?e:e+""}function Gre(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rN={height:"50px",width:"240px",border:"none",textAlign:"center",verticalAlign:"center",boxShadow:"0 2px 4px 0 rgba(0,0,0,.25)",fontSize:"16px",lineHeight:"48px",display:"block",borderRadius:"1px",transition:"background-color .218s, border-color .218s, box-shadow .218s",fontFamily:"Roboto,arial,sans-serif",cursor:"pointer",userSelect:"none"};Nt.darkStyle=nN({backgroundColor:"#4285f4",color:"#fff"},rN);Nt.lightStyle=nN({backgroundColor:"#fff",color:"rgba(0,0,0,.54)"},rN);Nt.iconStyle={width:"48px",height:"48px",textAlign:"center",verticalAlign:"center",display:"block",marginTop:"1px",marginLeft:"1px",float:"left",backgroundColor:"#fff",borderRadius:"1px",whiteSpace:"nowrap"};Nt.svgStyle={width:"48px",height:"48px",display:"block"};Nt.hoverStyle={boxShadow:"0 0 3px 3px rgba(66,133,244,.3)",transition:"background-color .218s, border-color .218s, box-shadow .218s"};Nt.disabledStyle={backgroundColor:"rgba(37, 5, 5, .08)",color:"rgba(0, 0, 0, .40)",cursor:"not-allowed"};Nt.disabledIconStyle={backgroundColor:"transparent"};Object.defineProperty(em,"__esModule",{value:!0});em.GoogleIcon=void 0;var G=iN(V),WC=iN(m1),Pa=Nt;function iN(t){return t&&t.__esModule?t:{default:t}}function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qre(t,e,n){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Yre(t,"string");return ac(e)=="symbol"?e:e+""}function Yre(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xre=G.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:Pa.svgStyle},G.default.createElement("defs",null,G.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},G.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),G.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),G.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),G.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),G.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),G.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),G.default.createElement("feMerge",null,G.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),G.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),G.default.createElement("feMergeNode",{in:"SourceGraphic"}))),G.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"}),G.default.createElement("rect",{id:"path-3",x:"5",y:"5",width:"38",height:"38",rx:"1"})),G.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},G.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -219.000000)"}),G.default.createElement("g",{id:"btn_google_dark_normal",transform:"translate(-1.000000, -1.000000)"},G.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},G.default.createElement("g",{id:"button-bg"},G.default.createElement("use",{fill:"#4285F4",fillRule:"evenodd"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}))),G.default.createElement("g",{id:"button-bg-copy"},G.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"})),G.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},G.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),G.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),G.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),G.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),G.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),G.default.createElement("g",{id:"handles_square"})))),Jre=G.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:Pa.svgStyle},G.default.createElement("defs",null,G.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},G.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),G.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),G.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),G.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),G.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),G.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),G.default.createElement("feMerge",null,G.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),G.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),G.default.createElement("feMergeNode",{in:"SourceGraphic"}))),G.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"})),G.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},G.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),G.default.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},G.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},G.default.createElement("g",{id:"button-bg"},G.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}))),G.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},G.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),G.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),G.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),G.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),G.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),G.default.createElement("g",{id:"handles_square"})))),Zre=G.default.createElement("svg",{width:"46px",height:"46px",viewBox:"0 0 46 46",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:Pa.svgStyle},G.default.createElement("defs",null,G.default.createElement("rect",{id:"path-1",x:"0",y:"0",width:"40",height:"40",rx:"2"})),G.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},G.default.createElement("g",{id:"9-PATCH",transform:"translate(-788.000000, -219.000000)"}),G.default.createElement("g",{id:"btn_google_dark_disabled",transform:"translate(-1.000000, -1.000000)"},G.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)"},G.default.createElement("g",{id:"button-bg"},G.default.createElement("use",{fillOpacity:"0.08",fill:"#000000",fillRule:"evenodd"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}))),G.default.createElement("path",{d:"M24.001,25.71 L24.001,22.362 L32.425,22.362 C32.551,22.929 32.65,23.46 32.65,24.207 C32.65,29.346 29.203,33 24.01,33 C19.042,33 15.01,28.968 15.01,24 C15.01,19.032 19.042,15 24.01,15 C26.44,15 28.474,15.891 30.031,17.349 L27.475,19.833 C26.827,19.221 25.693,18.501 24.01,18.501 C21.031,18.501 18.601,20.976 18.601,24.009 C18.601,27.042 21.031,29.517 24.01,29.517 C27.457,29.517 28.726,27.132 28.96,25.719 L24.001,25.719 L24.001,25.71 Z",id:"Shape-Copy",fillOpacity:"0.4",fill:"#000000"}),G.default.createElement("g",{id:"handles_square"})))),eie=em.GoogleIcon=function(e){var n=e.disabled,r=e.type,i=r===void 0?"dark":r;return G.default.createElement("div",{style:n?GC(GC({},Pa.iconStyle),Pa.disabledIconStyle):Pa.iconStyle},n?Zre:i==="dark"?Xre:Jre)};eie.propTypes={disabled:WC.default.bool,type:WC.default.oneOf(["light","dark"])};function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}Object.defineProperty(fw,"__esModule",{value:!0});fw.default=oN;var jh=rie(V),Wo=nie(m1),tie=em,Uh=Nt;function nie(t){return t&&t.__esModule?t:{default:t}}function sN(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(sN=function(i){return i?n:e})(t)}function rie(t,e){if(t&&t.__esModule)return t;if(t===null||Xa(t)!="object"&&typeof t!="function")return{default:t};var n=sN(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&{}.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e,n){return e=sie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sie(t){var e=oie(t,"string");return Xa(e)=="symbol"?e:e+""}function oie(t,e){if(Xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aie(t,e){return hie(t)||cie(t,e)||uie(t,e)||lie()}function lie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uie(t,e){if(t){if(typeof t=="string")return QC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QC(t,e)}}function QC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function hie(t){if(Array.isArray(t))return t}function oN(t){var e=t.label,n=e===void 0?"Sign in with Google":e,r=t.disabled,i=r===void 0?!1:r,s=t.tabIndex,o=s===void 0?0:s,a=t.onClick,l=a===void 0?function(){}:a,c=t.type,h=c===void 0?"dark":c,d=t.style,f=(0,jh.useState)(!1),m=aie(f,2),w=m[0],T=m[1],P=function(){i||T(!0)},_=function(){i||T(!1)},y=function(){var F=h==="dark"?Uh.darkStyle:Uh.lightStyle;return Di(w?Di(Di({},F),Uh.hoverStyle):i?Di(Di({},F),Uh.disabledStyle):Di({},F),d)},E=function(F){i||l(F)};return jh.default.createElement("div",{disabled:i,tabIndex:o,onClick:E,role:"button",style:y(),onMouseOver:P,onMouseOut:_},jh.default.createElement(tie.GoogleIcon,{disabled:i,type:h}),jh.default.createElement("span",null,n))}oN.propTypes={label:Wo.default.string,disabled:Wo.default.bool,tabIndex:Wo.default.number,onClick:Wo.default.func,type:Wo.default.oneOf(["light","dark"]),style:Wo.default.object};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GoogleButton",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}});var e=n(fw);function n(r){return r&&r.__esModule?r:{default:r}}})(tN);const die=at(tN);function fie(){const t=rl(),e=async()=>{try{const n=await mY(D4,Kte);console.log(n),t(Ex({displayName:n.user.displayName,email:n.user.email,photoURL:n.user.photoURL}))}catch(n){console.log(n)}};return L.jsx("div",{className:"w-screen h-screen flex justify-center items-center bg-gray-200",children:L.jsxs("div",{className:"p-8 bg-white flex flex-col gap-3 rounded-md",children:[L.jsx("div",{className:"text-center text-xl font-medium mb-5",children:"Login"}),L.jsx(die,{onClick:e})]})})}const pie=Tre([{path:"/",element:L.jsx(Ure,{}),children:[{path:"/",element:L.jsx(Vre,{})},{path:"/mail/:id",element:L.jsx(zre,{})}]}]);function mie(){const{user:t}=Ac(e=>e.appSlice);return L.jsxs(L.Fragment,{children:["      ",L.jsx("div",{className:"bg-[#F6F8FC] h-screen w-screen overflow-hidden",children:t?L.jsxs(L.Fragment,{children:[L.jsx(Gte,{}),L.jsx(kre,{router:pie}),L.jsx("div",{className:"absolute w-[30%] bottom-0 right-20 z-10",children:L.jsx(Hre,{})})]}):L.jsx(fie,{})})]})}const gie=jB({reducer:{appSlice:nz}});uR(document.getElementById("root")).render(L.jsx(V.StrictMode,{children:L.jsx(dB,{store:gie,children:L.jsx(mie,{})})}));
